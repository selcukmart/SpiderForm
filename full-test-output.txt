PHPUnit 11.5.43 by Sebastian Bergmann and contributors.

Runtime:       PHP 8.4.14
Configuration: /home/user/SpiderForm/phpunit.xml

FFRRRRSSRRRRRRRRRRRRRRRRRRRRSSRRSSRRRRRRSSRRRRRRRRRRRRRRRRRRRRS  63 / 470 ( 13%)
SRRSSRRSSSSSSSSEEEEEEEEEEEEEEE...............EEEEEEEEEEEEEEEEEE 126 / 470 ( 26%)
EEEEEEEEEEE..EEEEEEEEEEEEEEEEEEEEEEEEE...E..................EEE 189 / 470 ( 40%)
EEF....................................................FFF..... 252 / 470 ( 53%)
...............FF................F.........FFFFFFFFFFFFFF.....F 315 / 470 ( 67%)
..FF...................FFFF..................
=== Testing exact user's example form structure ===
Adding section 'Optik Form Bilgileri'...
Adding 'name' field...
Adding 'photo' field...
Adding 'type' radio field...
Adding 'company_id_not_auto_selected' hidden field...
Adding submit button...
Building form object...
✓ Form built successfully in 0.0039 seconds
R
=== Testing potential circular reference detection ===
Adding Section 1...
Adding Section 2...
Adding Section 3...
Ending all sections...
Adding submit...
Building form...
✓ Form with multiple sections built in 0.0000 seconds
R
=== Testing form WITH section (like user's example) ===
Adding section...
Adding text field...
Adding radio field...
Adding hidden field...
Adding submit button...
Building form object...
✓ Form built successfully in 0.0000 seconds
R
=== Testing simple form (no sections) ===
Building form object...
✓ Form built successfully without infinite loop
R
=== Testing buildAsHtml() method (alternative to buildForm()) ===
Building as HTML...
✓ HTML built successfully in 0.0055 seconds
HTML length: 5030 characters
R
=== Testing __toString() conversion (echo ) ===
Building form object...
Converting to string (this calls __toString)...
Result: Error rendering form: No renderer set for form. Call setRenderer() or pass renderer to render().
Time: 0.0000 seconds
R
=== Testing deeply nested sections ===
Adding section 1...
Adding section 2...
Adding section 3...
Adding section 4...
Adding section 5...
Adding section 6...
Adding section 7...
Adding section 8...
Adding section 9...
Adding section 10...
Adding section 11...
Adding section 12...
Adding section 13...
Adding section 14...
Adding section 15...
Adding section 16...
Adding section 17...
Adding section 18...
Adding section 19...
Adding section 20...
Building form object...
Creating view...
✓ Form with 20 sections built in 0.0007 seconds
R
=== Testing getData() for recursion issues ===
Building form object...
Setting data...
Getting data (checking for recursion)...
✓ getData() completed in 0.0000 seconds
Data: {"name":"Test Name","type":"a","id":"456"}
R
=== Testing submit() and validate() for recursion ===
Building form object...
Submitting data...
Validating...
✓ Submit and validate completed in 0.0000 seconds
Errors: []
Is valid: Yes
R
=== Testing createView() for recursion issues ===
Building form object...
Creating view (this should not loop)...
✓ View created in 0.0000 seconds
R
=== Testing for circular parent-child references ===
Checking parent-child relationships...
Number of children: 1
Checking child: field1
✓ No circular references detected
RSSSSSSS 378 / 470 ( 80%)
SS............................................................. 441 / 470 ( 93%)
................EEEEEEEEEEEEF                                   470 / 470 (100%)

Time: 00:00.583, Memory: 28.00 MB

There was 1 PHPUnit test runner warning:

1) No code coverage driver available

--

There were 87 errors:

1) SpiderForm\Tests\Unit\Builder\FormBuilderNewFeaturesTest::it_applies_rtl_direction_to_form_element
RuntimeException: Failed to render template "bootstrap5/form.twig": An exception has been thrown during the rendering of a template ("SpiderForm\V2\Renderer\TwigRenderer::{closure:SpiderForm\V2\Renderer\TwigRenderer::registerCustomFilters():180}(): Argument #1 ($attributes) must be of type array, null given, called in /home/user/SpiderForm/vendor/twig/twig/src/Environment.php(420) : eval()'d code on line 45") in "bootstrap5/input_text.twig" at line 2.

/home/user/SpiderForm/src/V2/Renderer/TwigRenderer.php:59
/home/user/SpiderForm/src/V2/Builder/FormBuilder.php:1353
/home/user/SpiderForm/src/V2/Builder/FormBuilder.php:1322
/home/user/SpiderForm/tests/Unit/Builder/FormBuilderNewFeaturesTest.php:72

Caused by
Twig\Error\RuntimeError: An exception has been thrown during the rendering of a template ("SpiderForm\V2\Renderer\TwigRenderer::{closure:SpiderForm\V2\Renderer\TwigRenderer::registerCustomFilters():180}(): Argument #1 ($attributes) must be of type array, null given, called in /home/user/SpiderForm/vendor/twig/twig/src/Environment.php(420) : eval()'d code on line 45") in "bootstrap5/input_text.twig" at line 2.

/home/user/SpiderForm/src/V2/Theme/templates/twig/bootstrap5/input_text.twig:2
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:358
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:373
/home/user/SpiderForm/vendor/twig/twig/src/TemplateWrapper.php:51
/home/user/SpiderForm/vendor/twig/twig/src/Extension/CoreExtension.php:1520
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:402
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:358
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:373
/home/user/SpiderForm/vendor/twig/twig/src/TemplateWrapper.php:51
/home/user/SpiderForm/vendor/twig/twig/src/Environment.php:333
/home/user/SpiderForm/src/V2/Renderer/TwigRenderer.php:57
/home/user/SpiderForm/src/V2/Builder/FormBuilder.php:1353
/home/user/SpiderForm/src/V2/Builder/FormBuilder.php:1322
/home/user/SpiderForm/tests/Unit/Builder/FormBuilderNewFeaturesTest.php:72

Caused by
TypeError: SpiderForm\V2\Renderer\TwigRenderer::{closure:SpiderForm\V2\Renderer\TwigRenderer::registerCustomFilters():180}(): Argument #1 ($attributes) must be of type array, null given, called in /home/user/SpiderForm/vendor/twig/twig/src/Environment.php(420) : eval()'d code on line 45

/home/user/SpiderForm/src/V2/Renderer/TwigRenderer.php:180
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:402
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:358
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:373
/home/user/SpiderForm/vendor/twig/twig/src/TemplateWrapper.php:51
/home/user/SpiderForm/vendor/twig/twig/src/Extension/CoreExtension.php:1520
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:402
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:358
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:373
/home/user/SpiderForm/vendor/twig/twig/src/TemplateWrapper.php:51
/home/user/SpiderForm/vendor/twig/twig/src/Environment.php:333
/home/user/SpiderForm/src/V2/Renderer/TwigRenderer.php:57
/home/user/SpiderForm/src/V2/Builder/FormBuilder.php:1353
/home/user/SpiderForm/src/V2/Builder/FormBuilder.php:1322
/home/user/SpiderForm/tests/Unit/Builder/FormBuilderNewFeaturesTest.php:72

2) SpiderForm\Tests\Unit\Builder\FormBuilderNewFeaturesTest::it_applies_rtl_direction_to_input_fields
RuntimeException: Failed to render template "bootstrap5/form.twig": An exception has been thrown during the rendering of a template ("SpiderForm\V2\Renderer\TwigRenderer::{closure:SpiderForm\V2\Renderer\TwigRenderer::registerCustomFilters():180}(): Argument #1 ($attributes) must be of type array, null given, called in /home/user/SpiderForm/vendor/twig/twig/src/Environment.php(420) : eval()'d code on line 45") in "bootstrap5/input_text.twig" at line 2.

/home/user/SpiderForm/src/V2/Renderer/TwigRenderer.php:59
/home/user/SpiderForm/src/V2/Builder/FormBuilder.php:1353
/home/user/SpiderForm/src/V2/Builder/FormBuilder.php:1322
/home/user/SpiderForm/tests/Unit/Builder/FormBuilderNewFeaturesTest.php:84

Caused by
Twig\Error\RuntimeError: An exception has been thrown during the rendering of a template ("SpiderForm\V2\Renderer\TwigRenderer::{closure:SpiderForm\V2\Renderer\TwigRenderer::registerCustomFilters():180}(): Argument #1 ($attributes) must be of type array, null given, called in /home/user/SpiderForm/vendor/twig/twig/src/Environment.php(420) : eval()'d code on line 45") in "bootstrap5/input_text.twig" at line 2.

/home/user/SpiderForm/src/V2/Theme/templates/twig/bootstrap5/input_text.twig:2
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:358
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:373
/home/user/SpiderForm/vendor/twig/twig/src/TemplateWrapper.php:51
/home/user/SpiderForm/vendor/twig/twig/src/Extension/CoreExtension.php:1520
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:402
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:358
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:373
/home/user/SpiderForm/vendor/twig/twig/src/TemplateWrapper.php:51
/home/user/SpiderForm/vendor/twig/twig/src/Environment.php:333
/home/user/SpiderForm/src/V2/Renderer/TwigRenderer.php:57
/home/user/SpiderForm/src/V2/Builder/FormBuilder.php:1353
/home/user/SpiderForm/src/V2/Builder/FormBuilder.php:1322
/home/user/SpiderForm/tests/Unit/Builder/FormBuilderNewFeaturesTest.php:84

Caused by
TypeError: SpiderForm\V2\Renderer\TwigRenderer::{closure:SpiderForm\V2\Renderer\TwigRenderer::registerCustomFilters():180}(): Argument #1 ($attributes) must be of type array, null given, called in /home/user/SpiderForm/vendor/twig/twig/src/Environment.php(420) : eval()'d code on line 45

/home/user/SpiderForm/src/V2/Renderer/TwigRenderer.php:180
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:402
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:358
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:373
/home/user/SpiderForm/vendor/twig/twig/src/TemplateWrapper.php:51
/home/user/SpiderForm/vendor/twig/twig/src/Extension/CoreExtension.php:1520
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:402
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:358
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:373
/home/user/SpiderForm/vendor/twig/twig/src/TemplateWrapper.php:51
/home/user/SpiderForm/vendor/twig/twig/src/Environment.php:333
/home/user/SpiderForm/src/V2/Renderer/TwigRenderer.php:57
/home/user/SpiderForm/src/V2/Builder/FormBuilder.php:1353
/home/user/SpiderForm/src/V2/Builder/FormBuilder.php:1322
/home/user/SpiderForm/tests/Unit/Builder/FormBuilderNewFeaturesTest.php:84

3) SpiderForm\Tests\Unit\Builder\FormBuilderNewFeaturesTest::it_applies_rtl_to_date_picker_automatically
RuntimeException: Failed to render template "bootstrap5/form.twig": An exception has been thrown during the rendering of a template ("SpiderForm\V2\Renderer\TwigRenderer::{closure:SpiderForm\V2\Renderer\TwigRenderer::registerCustomFilters():180}(): Argument #1 ($attributes) must be of type array, null given, called in /home/user/SpiderForm/vendor/twig/twig/src/Environment.php(420) : eval()'d code on line 45") in "bootstrap5/input_text.twig" at line 2.

/home/user/SpiderForm/src/V2/Renderer/TwigRenderer.php:59
/home/user/SpiderForm/src/V2/Builder/FormBuilder.php:1353
/home/user/SpiderForm/src/V2/Builder/FormBuilder.php:1322
/home/user/SpiderForm/tests/Unit/Builder/FormBuilderNewFeaturesTest.php:96

Caused by
Twig\Error\RuntimeError: An exception has been thrown during the rendering of a template ("SpiderForm\V2\Renderer\TwigRenderer::{closure:SpiderForm\V2\Renderer\TwigRenderer::registerCustomFilters():180}(): Argument #1 ($attributes) must be of type array, null given, called in /home/user/SpiderForm/vendor/twig/twig/src/Environment.php(420) : eval()'d code on line 45") in "bootstrap5/input_text.twig" at line 2.

/home/user/SpiderForm/src/V2/Theme/templates/twig/bootstrap5/input_text.twig:2
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:358
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:373
/home/user/SpiderForm/vendor/twig/twig/src/TemplateWrapper.php:51
/home/user/SpiderForm/vendor/twig/twig/src/Extension/CoreExtension.php:1520
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:402
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:358
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:373
/home/user/SpiderForm/vendor/twig/twig/src/TemplateWrapper.php:51
/home/user/SpiderForm/vendor/twig/twig/src/Environment.php:333
/home/user/SpiderForm/src/V2/Renderer/TwigRenderer.php:57
/home/user/SpiderForm/src/V2/Builder/FormBuilder.php:1353
/home/user/SpiderForm/src/V2/Builder/FormBuilder.php:1322
/home/user/SpiderForm/tests/Unit/Builder/FormBuilderNewFeaturesTest.php:96

Caused by
TypeError: SpiderForm\V2\Renderer\TwigRenderer::{closure:SpiderForm\V2\Renderer\TwigRenderer::registerCustomFilters():180}(): Argument #1 ($attributes) must be of type array, null given, called in /home/user/SpiderForm/vendor/twig/twig/src/Environment.php(420) : eval()'d code on line 45

/home/user/SpiderForm/src/V2/Renderer/TwigRenderer.php:180
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:402
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:358
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:373
/home/user/SpiderForm/vendor/twig/twig/src/TemplateWrapper.php:51
/home/user/SpiderForm/vendor/twig/twig/src/Extension/CoreExtension.php:1520
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:402
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:358
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:373
/home/user/SpiderForm/vendor/twig/twig/src/TemplateWrapper.php:51
/home/user/SpiderForm/vendor/twig/twig/src/Environment.php:333
/home/user/SpiderForm/src/V2/Renderer/TwigRenderer.php:57
/home/user/SpiderForm/src/V2/Builder/FormBuilder.php:1353
/home/user/SpiderForm/src/V2/Builder/FormBuilder.php:1322
/home/user/SpiderForm/tests/Unit/Builder/FormBuilderNewFeaturesTest.php:96

4) SpiderForm\Tests\Unit\Builder\FormBuilderNewFeaturesTest::it_applies_locale_to_date_picker_automatically
RuntimeException: Failed to render template "bootstrap5/form.twig": An exception has been thrown during the rendering of a template ("SpiderForm\V2\Renderer\TwigRenderer::{closure:SpiderForm\V2\Renderer\TwigRenderer::registerCustomFilters():180}(): Argument #1 ($attributes) must be of type array, null given, called in /home/user/SpiderForm/vendor/twig/twig/src/Environment.php(420) : eval()'d code on line 45") in "bootstrap5/input_text.twig" at line 2.

/home/user/SpiderForm/src/V2/Renderer/TwigRenderer.php:59
/home/user/SpiderForm/src/V2/Builder/FormBuilder.php:1353
/home/user/SpiderForm/src/V2/Builder/FormBuilder.php:1322
/home/user/SpiderForm/tests/Unit/Builder/FormBuilderNewFeaturesTest.php:133

Caused by
Twig\Error\RuntimeError: An exception has been thrown during the rendering of a template ("SpiderForm\V2\Renderer\TwigRenderer::{closure:SpiderForm\V2\Renderer\TwigRenderer::registerCustomFilters():180}(): Argument #1 ($attributes) must be of type array, null given, called in /home/user/SpiderForm/vendor/twig/twig/src/Environment.php(420) : eval()'d code on line 45") in "bootstrap5/input_text.twig" at line 2.

/home/user/SpiderForm/src/V2/Theme/templates/twig/bootstrap5/input_text.twig:2
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:358
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:373
/home/user/SpiderForm/vendor/twig/twig/src/TemplateWrapper.php:51
/home/user/SpiderForm/vendor/twig/twig/src/Extension/CoreExtension.php:1520
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:402
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:358
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:373
/home/user/SpiderForm/vendor/twig/twig/src/TemplateWrapper.php:51
/home/user/SpiderForm/vendor/twig/twig/src/Environment.php:333
/home/user/SpiderForm/src/V2/Renderer/TwigRenderer.php:57
/home/user/SpiderForm/src/V2/Builder/FormBuilder.php:1353
/home/user/SpiderForm/src/V2/Builder/FormBuilder.php:1322
/home/user/SpiderForm/tests/Unit/Builder/FormBuilderNewFeaturesTest.php:133

Caused by
TypeError: SpiderForm\V2\Renderer\TwigRenderer::{closure:SpiderForm\V2\Renderer\TwigRenderer::registerCustomFilters():180}(): Argument #1 ($attributes) must be of type array, null given, called in /home/user/SpiderForm/vendor/twig/twig/src/Environment.php(420) : eval()'d code on line 45

/home/user/SpiderForm/src/V2/Renderer/TwigRenderer.php:180
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:402
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:358
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:373
/home/user/SpiderForm/vendor/twig/twig/src/TemplateWrapper.php:51
/home/user/SpiderForm/vendor/twig/twig/src/Extension/CoreExtension.php:1520
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:402
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:358
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:373
/home/user/SpiderForm/vendor/twig/twig/src/TemplateWrapper.php:51
/home/user/SpiderForm/vendor/twig/twig/src/Environment.php:333
/home/user/SpiderForm/src/V2/Renderer/TwigRenderer.php:57
/home/user/SpiderForm/src/V2/Builder/FormBuilder.php:1353
/home/user/SpiderForm/src/V2/Builder/FormBuilder.php:1322
/home/user/SpiderForm/tests/Unit/Builder/FormBuilderNewFeaturesTest.php:133

5) SpiderForm\Tests\Unit\Builder\FormBuilderNewFeaturesTest::it_applies_locale_to_datetime_picker_automatically
RuntimeException: Failed to render template "bootstrap5/form.twig": An exception has been thrown during the rendering of a template ("SpiderForm\V2\Renderer\TwigRenderer::{closure:SpiderForm\V2\Renderer\TwigRenderer::registerCustomFilters():180}(): Argument #1 ($attributes) must be of type array, null given, called in /home/user/SpiderForm/vendor/twig/twig/src/Environment.php(420) : eval()'d code on line 45") in "bootstrap5/input_text.twig" at line 2.

/home/user/SpiderForm/src/V2/Renderer/TwigRenderer.php:59
/home/user/SpiderForm/src/V2/Builder/FormBuilder.php:1353
/home/user/SpiderForm/src/V2/Builder/FormBuilder.php:1322
/home/user/SpiderForm/tests/Unit/Builder/FormBuilderNewFeaturesTest.php:159

Caused by
Twig\Error\RuntimeError: An exception has been thrown during the rendering of a template ("SpiderForm\V2\Renderer\TwigRenderer::{closure:SpiderForm\V2\Renderer\TwigRenderer::registerCustomFilters():180}(): Argument #1 ($attributes) must be of type array, null given, called in /home/user/SpiderForm/vendor/twig/twig/src/Environment.php(420) : eval()'d code on line 45") in "bootstrap5/input_text.twig" at line 2.

/home/user/SpiderForm/src/V2/Theme/templates/twig/bootstrap5/input_text.twig:2
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:358
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:373
/home/user/SpiderForm/vendor/twig/twig/src/TemplateWrapper.php:51
/home/user/SpiderForm/vendor/twig/twig/src/Extension/CoreExtension.php:1520
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:402
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:358
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:373
/home/user/SpiderForm/vendor/twig/twig/src/TemplateWrapper.php:51
/home/user/SpiderForm/vendor/twig/twig/src/Environment.php:333
/home/user/SpiderForm/src/V2/Renderer/TwigRenderer.php:57
/home/user/SpiderForm/src/V2/Builder/FormBuilder.php:1353
/home/user/SpiderForm/src/V2/Builder/FormBuilder.php:1322
/home/user/SpiderForm/tests/Unit/Builder/FormBuilderNewFeaturesTest.php:159

Caused by
TypeError: SpiderForm\V2\Renderer\TwigRenderer::{closure:SpiderForm\V2\Renderer\TwigRenderer::registerCustomFilters():180}(): Argument #1 ($attributes) must be of type array, null given, called in /home/user/SpiderForm/vendor/twig/twig/src/Environment.php(420) : eval()'d code on line 45

/home/user/SpiderForm/src/V2/Renderer/TwigRenderer.php:180
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:402
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:358
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:373
/home/user/SpiderForm/vendor/twig/twig/src/TemplateWrapper.php:51
/home/user/SpiderForm/vendor/twig/twig/src/Extension/CoreExtension.php:1520
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:402
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:358
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:373
/home/user/SpiderForm/vendor/twig/twig/src/TemplateWrapper.php:51
/home/user/SpiderForm/vendor/twig/twig/src/Environment.php:333
/home/user/SpiderForm/src/V2/Renderer/TwigRenderer.php:57
/home/user/SpiderForm/src/V2/Builder/FormBuilder.php:1353
/home/user/SpiderForm/src/V2/Builder/FormBuilder.php:1322
/home/user/SpiderForm/tests/Unit/Builder/FormBuilderNewFeaturesTest.php:159

6) SpiderForm\Tests\Unit\Builder\FormBuilderNewFeaturesTest::it_applies_both_direction_and_locale
RuntimeException: Failed to render template "bootstrap5/form.twig": An exception has been thrown during the rendering of a template ("SpiderForm\V2\Renderer\TwigRenderer::{closure:SpiderForm\V2\Renderer\TwigRenderer::registerCustomFilters():180}(): Argument #1 ($attributes) must be of type array, null given, called in /home/user/SpiderForm/vendor/twig/twig/src/Environment.php(420) : eval()'d code on line 45") in "bootstrap5/input_text.twig" at line 2.

/home/user/SpiderForm/src/V2/Renderer/TwigRenderer.php:59
/home/user/SpiderForm/src/V2/Builder/FormBuilder.php:1353
/home/user/SpiderForm/src/V2/Builder/FormBuilder.php:1322
/home/user/SpiderForm/tests/Unit/Builder/FormBuilderNewFeaturesTest.php:172

Caused by
Twig\Error\RuntimeError: An exception has been thrown during the rendering of a template ("SpiderForm\V2\Renderer\TwigRenderer::{closure:SpiderForm\V2\Renderer\TwigRenderer::registerCustomFilters():180}(): Argument #1 ($attributes) must be of type array, null given, called in /home/user/SpiderForm/vendor/twig/twig/src/Environment.php(420) : eval()'d code on line 45") in "bootstrap5/input_text.twig" at line 2.

/home/user/SpiderForm/src/V2/Theme/templates/twig/bootstrap5/input_text.twig:2
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:358
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:373
/home/user/SpiderForm/vendor/twig/twig/src/TemplateWrapper.php:51
/home/user/SpiderForm/vendor/twig/twig/src/Extension/CoreExtension.php:1520
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:402
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:358
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:373
/home/user/SpiderForm/vendor/twig/twig/src/TemplateWrapper.php:51
/home/user/SpiderForm/vendor/twig/twig/src/Environment.php:333
/home/user/SpiderForm/src/V2/Renderer/TwigRenderer.php:57
/home/user/SpiderForm/src/V2/Builder/FormBuilder.php:1353
/home/user/SpiderForm/src/V2/Builder/FormBuilder.php:1322
/home/user/SpiderForm/tests/Unit/Builder/FormBuilderNewFeaturesTest.php:172

Caused by
TypeError: SpiderForm\V2\Renderer\TwigRenderer::{closure:SpiderForm\V2\Renderer\TwigRenderer::registerCustomFilters():180}(): Argument #1 ($attributes) must be of type array, null given, called in /home/user/SpiderForm/vendor/twig/twig/src/Environment.php(420) : eval()'d code on line 45

/home/user/SpiderForm/src/V2/Renderer/TwigRenderer.php:180
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:402
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:358
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:373
/home/user/SpiderForm/vendor/twig/twig/src/TemplateWrapper.php:51
/home/user/SpiderForm/vendor/twig/twig/src/Extension/CoreExtension.php:1520
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:402
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:358
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:373
/home/user/SpiderForm/vendor/twig/twig/src/TemplateWrapper.php:51
/home/user/SpiderForm/vendor/twig/twig/src/Environment.php:333
/home/user/SpiderForm/src/V2/Renderer/TwigRenderer.php:57
/home/user/SpiderForm/src/V2/Builder/FormBuilder.php:1353
/home/user/SpiderForm/src/V2/Builder/FormBuilder.php:1322
/home/user/SpiderForm/tests/Unit/Builder/FormBuilderNewFeaturesTest.php:172

7) SpiderForm\Tests\Unit\Builder\FormBuilderNewFeaturesTest::it_builds_as_html_by_default
RuntimeException: Failed to render template "bootstrap5/form.twig": An exception has been thrown during the rendering of a template ("SpiderForm\V2\Renderer\TwigRenderer::{closure:SpiderForm\V2\Renderer\TwigRenderer::registerCustomFilters():180}(): Argument #1 ($attributes) must be of type array, null given, called in /home/user/SpiderForm/vendor/twig/twig/src/Environment.php(420) : eval()'d code on line 45") in "bootstrap5/input_text.twig" at line 2.

/home/user/SpiderForm/src/V2/Renderer/TwigRenderer.php:59
/home/user/SpiderForm/src/V2/Builder/FormBuilder.php:1353
/home/user/SpiderForm/src/V2/Builder/FormBuilder.php:1322
/home/user/SpiderForm/tests/Unit/Builder/FormBuilderNewFeaturesTest.php:188

Caused by
Twig\Error\RuntimeError: An exception has been thrown during the rendering of a template ("SpiderForm\V2\Renderer\TwigRenderer::{closure:SpiderForm\V2\Renderer\TwigRenderer::registerCustomFilters():180}(): Argument #1 ($attributes) must be of type array, null given, called in /home/user/SpiderForm/vendor/twig/twig/src/Environment.php(420) : eval()'d code on line 45") in "bootstrap5/input_text.twig" at line 2.

/home/user/SpiderForm/src/V2/Theme/templates/twig/bootstrap5/input_text.twig:2
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:358
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:373
/home/user/SpiderForm/vendor/twig/twig/src/TemplateWrapper.php:51
/home/user/SpiderForm/vendor/twig/twig/src/Extension/CoreExtension.php:1520
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:402
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:358
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:373
/home/user/SpiderForm/vendor/twig/twig/src/TemplateWrapper.php:51
/home/user/SpiderForm/vendor/twig/twig/src/Environment.php:333
/home/user/SpiderForm/src/V2/Renderer/TwigRenderer.php:57
/home/user/SpiderForm/src/V2/Builder/FormBuilder.php:1353
/home/user/SpiderForm/src/V2/Builder/FormBuilder.php:1322
/home/user/SpiderForm/tests/Unit/Builder/FormBuilderNewFeaturesTest.php:188

Caused by
TypeError: SpiderForm\V2\Renderer\TwigRenderer::{closure:SpiderForm\V2\Renderer\TwigRenderer::registerCustomFilters():180}(): Argument #1 ($attributes) must be of type array, null given, called in /home/user/SpiderForm/vendor/twig/twig/src/Environment.php(420) : eval()'d code on line 45

/home/user/SpiderForm/src/V2/Renderer/TwigRenderer.php:180
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:402
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:358
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:373
/home/user/SpiderForm/vendor/twig/twig/src/TemplateWrapper.php:51
/home/user/SpiderForm/vendor/twig/twig/src/Extension/CoreExtension.php:1520
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:402
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:358
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:373
/home/user/SpiderForm/vendor/twig/twig/src/TemplateWrapper.php:51
/home/user/SpiderForm/vendor/twig/twig/src/Environment.php:333
/home/user/SpiderForm/src/V2/Renderer/TwigRenderer.php:57
/home/user/SpiderForm/src/V2/Builder/FormBuilder.php:1353
/home/user/SpiderForm/src/V2/Builder/FormBuilder.php:1322
/home/user/SpiderForm/tests/Unit/Builder/FormBuilderNewFeaturesTest.php:188

8) SpiderForm\Tests\Unit\Builder\FormBuilderNewFeaturesTest::it_uses_buildAsHtml_method
RuntimeException: Failed to render template "bootstrap5/form.twig": An exception has been thrown during the rendering of a template ("SpiderForm\V2\Renderer\TwigRenderer::{closure:SpiderForm\V2\Renderer\TwigRenderer::registerCustomFilters():180}(): Argument #1 ($attributes) must be of type array, null given, called in /home/user/SpiderForm/vendor/twig/twig/src/Environment.php(420) : eval()'d code on line 45") in "bootstrap5/input_text.twig" at line 2.

/home/user/SpiderForm/src/V2/Renderer/TwigRenderer.php:59
/home/user/SpiderForm/src/V2/Builder/FormBuilder.php:1353
/home/user/SpiderForm/tests/Unit/Builder/FormBuilderNewFeaturesTest.php:296

Caused by
Twig\Error\RuntimeError: An exception has been thrown during the rendering of a template ("SpiderForm\V2\Renderer\TwigRenderer::{closure:SpiderForm\V2\Renderer\TwigRenderer::registerCustomFilters():180}(): Argument #1 ($attributes) must be of type array, null given, called in /home/user/SpiderForm/vendor/twig/twig/src/Environment.php(420) : eval()'d code on line 45") in "bootstrap5/input_text.twig" at line 2.

/home/user/SpiderForm/src/V2/Theme/templates/twig/bootstrap5/input_text.twig:2
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:358
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:373
/home/user/SpiderForm/vendor/twig/twig/src/TemplateWrapper.php:51
/home/user/SpiderForm/vendor/twig/twig/src/Extension/CoreExtension.php:1520
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:402
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:358
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:373
/home/user/SpiderForm/vendor/twig/twig/src/TemplateWrapper.php:51
/home/user/SpiderForm/vendor/twig/twig/src/Environment.php:333
/home/user/SpiderForm/src/V2/Renderer/TwigRenderer.php:57
/home/user/SpiderForm/src/V2/Builder/FormBuilder.php:1353
/home/user/SpiderForm/tests/Unit/Builder/FormBuilderNewFeaturesTest.php:296

Caused by
TypeError: SpiderForm\V2\Renderer\TwigRenderer::{closure:SpiderForm\V2\Renderer\TwigRenderer::registerCustomFilters():180}(): Argument #1 ($attributes) must be of type array, null given, called in /home/user/SpiderForm/vendor/twig/twig/src/Environment.php(420) : eval()'d code on line 45

/home/user/SpiderForm/src/V2/Renderer/TwigRenderer.php:180
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:402
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:358
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:373
/home/user/SpiderForm/vendor/twig/twig/src/TemplateWrapper.php:51
/home/user/SpiderForm/vendor/twig/twig/src/Extension/CoreExtension.php:1520
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:402
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:358
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:373
/home/user/SpiderForm/vendor/twig/twig/src/TemplateWrapper.php:51
/home/user/SpiderForm/vendor/twig/twig/src/Environment.php:333
/home/user/SpiderForm/src/V2/Renderer/TwigRenderer.php:57
/home/user/SpiderForm/src/V2/Builder/FormBuilder.php:1353
/home/user/SpiderForm/tests/Unit/Builder/FormBuilderNewFeaturesTest.php:296

9) SpiderForm\Tests\Unit\Builder\FormBuilderNewFeaturesTest::it_does_not_apply_locale_to_picker_with_explicit_locale
RuntimeException: Failed to render template "bootstrap5/form.twig": An exception has been thrown during the rendering of a template ("SpiderForm\V2\Renderer\TwigRenderer::{closure:SpiderForm\V2\Renderer\TwigRenderer::registerCustomFilters():180}(): Argument #1 ($attributes) must be of type array, null given, called in /home/user/SpiderForm/vendor/twig/twig/src/Environment.php(420) : eval()'d code on line 45") in "bootstrap5/input_text.twig" at line 2.

/home/user/SpiderForm/src/V2/Renderer/TwigRenderer.php:59
/home/user/SpiderForm/src/V2/Builder/FormBuilder.php:1353
/home/user/SpiderForm/src/V2/Builder/FormBuilder.php:1322
/home/user/SpiderForm/tests/Unit/Builder/FormBuilderNewFeaturesTest.php:360

Caused by
Twig\Error\RuntimeError: An exception has been thrown during the rendering of a template ("SpiderForm\V2\Renderer\TwigRenderer::{closure:SpiderForm\V2\Renderer\TwigRenderer::registerCustomFilters():180}(): Argument #1 ($attributes) must be of type array, null given, called in /home/user/SpiderForm/vendor/twig/twig/src/Environment.php(420) : eval()'d code on line 45") in "bootstrap5/input_text.twig" at line 2.

/home/user/SpiderForm/src/V2/Theme/templates/twig/bootstrap5/input_text.twig:2
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:358
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:373
/home/user/SpiderForm/vendor/twig/twig/src/TemplateWrapper.php:51
/home/user/SpiderForm/vendor/twig/twig/src/Extension/CoreExtension.php:1520
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:402
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:358
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:373
/home/user/SpiderForm/vendor/twig/twig/src/TemplateWrapper.php:51
/home/user/SpiderForm/vendor/twig/twig/src/Environment.php:333
/home/user/SpiderForm/src/V2/Renderer/TwigRenderer.php:57
/home/user/SpiderForm/src/V2/Builder/FormBuilder.php:1353
/home/user/SpiderForm/src/V2/Builder/FormBuilder.php:1322
/home/user/SpiderForm/tests/Unit/Builder/FormBuilderNewFeaturesTest.php:360

Caused by
TypeError: SpiderForm\V2\Renderer\TwigRenderer::{closure:SpiderForm\V2\Renderer\TwigRenderer::registerCustomFilters():180}(): Argument #1 ($attributes) must be of type array, null given, called in /home/user/SpiderForm/vendor/twig/twig/src/Environment.php(420) : eval()'d code on line 45

/home/user/SpiderForm/src/V2/Renderer/TwigRenderer.php:180
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:402
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:358
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:373
/home/user/SpiderForm/vendor/twig/twig/src/TemplateWrapper.php:51
/home/user/SpiderForm/vendor/twig/twig/src/Extension/CoreExtension.php:1520
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:402
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:358
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:373
/home/user/SpiderForm/vendor/twig/twig/src/TemplateWrapper.php:51
/home/user/SpiderForm/vendor/twig/twig/src/Environment.php:333
/home/user/SpiderForm/src/V2/Renderer/TwigRenderer.php:57
/home/user/SpiderForm/src/V2/Builder/FormBuilder.php:1353
/home/user/SpiderForm/src/V2/Builder/FormBuilder.php:1322
/home/user/SpiderForm/tests/Unit/Builder/FormBuilderNewFeaturesTest.php:360

10) SpiderForm\Tests\Unit\Builder\FormBuilderNewFeaturesTest::it_generates_picker_scripts_for_inputs_with_pickers
RuntimeException: Failed to render template "bootstrap5/form.twig": An exception has been thrown during the rendering of a template ("SpiderForm\V2\Renderer\TwigRenderer::{closure:SpiderForm\V2\Renderer\TwigRenderer::registerCustomFilters():180}(): Argument #1 ($attributes) must be of type array, null given, called in /home/user/SpiderForm/vendor/twig/twig/src/Environment.php(420) : eval()'d code on line 45") in "bootstrap5/input_text.twig" at line 2.

/home/user/SpiderForm/src/V2/Renderer/TwigRenderer.php:59
/home/user/SpiderForm/src/V2/Builder/FormBuilder.php:1353
/home/user/SpiderForm/src/V2/Builder/FormBuilder.php:1322
/home/user/SpiderForm/tests/Unit/Builder/FormBuilderNewFeaturesTest.php:374

Caused by
Twig\Error\RuntimeError: An exception has been thrown during the rendering of a template ("SpiderForm\V2\Renderer\TwigRenderer::{closure:SpiderForm\V2\Renderer\TwigRenderer::registerCustomFilters():180}(): Argument #1 ($attributes) must be of type array, null given, called in /home/user/SpiderForm/vendor/twig/twig/src/Environment.php(420) : eval()'d code on line 45") in "bootstrap5/input_text.twig" at line 2.

/home/user/SpiderForm/src/V2/Theme/templates/twig/bootstrap5/input_text.twig:2
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:358
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:373
/home/user/SpiderForm/vendor/twig/twig/src/TemplateWrapper.php:51
/home/user/SpiderForm/vendor/twig/twig/src/Extension/CoreExtension.php:1520
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:402
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:358
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:373
/home/user/SpiderForm/vendor/twig/twig/src/TemplateWrapper.php:51
/home/user/SpiderForm/vendor/twig/twig/src/Environment.php:333
/home/user/SpiderForm/src/V2/Renderer/TwigRenderer.php:57
/home/user/SpiderForm/src/V2/Builder/FormBuilder.php:1353
/home/user/SpiderForm/src/V2/Builder/FormBuilder.php:1322
/home/user/SpiderForm/tests/Unit/Builder/FormBuilderNewFeaturesTest.php:374

Caused by
TypeError: SpiderForm\V2\Renderer\TwigRenderer::{closure:SpiderForm\V2\Renderer\TwigRenderer::registerCustomFilters():180}(): Argument #1 ($attributes) must be of type array, null given, called in /home/user/SpiderForm/vendor/twig/twig/src/Environment.php(420) : eval()'d code on line 45

/home/user/SpiderForm/src/V2/Renderer/TwigRenderer.php:180
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:402
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:358
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:373
/home/user/SpiderForm/vendor/twig/twig/src/TemplateWrapper.php:51
/home/user/SpiderForm/vendor/twig/twig/src/Extension/CoreExtension.php:1520
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:402
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:358
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:373
/home/user/SpiderForm/vendor/twig/twig/src/TemplateWrapper.php:51
/home/user/SpiderForm/vendor/twig/twig/src/Environment.php:333
/home/user/SpiderForm/src/V2/Renderer/TwigRenderer.php:57
/home/user/SpiderForm/src/V2/Builder/FormBuilder.php:1353
/home/user/SpiderForm/src/V2/Builder/FormBuilder.php:1322
/home/user/SpiderForm/tests/Unit/Builder/FormBuilderNewFeaturesTest.php:374

11) SpiderForm\Tests\Unit\Builder\FormBuilderNewFeaturesTest::it_respects_disabled_pickers
RuntimeException: Failed to render template "bootstrap5/form.twig": An exception has been thrown during the rendering of a template ("SpiderForm\V2\Renderer\TwigRenderer::{closure:SpiderForm\V2\Renderer\TwigRenderer::registerCustomFilters():180}(): Argument #1 ($attributes) must be of type array, null given, called in /home/user/SpiderForm/vendor/twig/twig/src/Environment.php(420) : eval()'d code on line 45") in "bootstrap5/input_text.twig" at line 2.

/home/user/SpiderForm/src/V2/Renderer/TwigRenderer.php:59
/home/user/SpiderForm/src/V2/Builder/FormBuilder.php:1353
/home/user/SpiderForm/src/V2/Builder/FormBuilder.php:1322
/home/user/SpiderForm/tests/Unit/Builder/FormBuilderNewFeaturesTest.php:390

Caused by
Twig\Error\RuntimeError: An exception has been thrown during the rendering of a template ("SpiderForm\V2\Renderer\TwigRenderer::{closure:SpiderForm\V2\Renderer\TwigRenderer::registerCustomFilters():180}(): Argument #1 ($attributes) must be of type array, null given, called in /home/user/SpiderForm/vendor/twig/twig/src/Environment.php(420) : eval()'d code on line 45") in "bootstrap5/input_text.twig" at line 2.

/home/user/SpiderForm/src/V2/Theme/templates/twig/bootstrap5/input_text.twig:2
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:358
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:373
/home/user/SpiderForm/vendor/twig/twig/src/TemplateWrapper.php:51
/home/user/SpiderForm/vendor/twig/twig/src/Extension/CoreExtension.php:1520
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:402
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:358
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:373
/home/user/SpiderForm/vendor/twig/twig/src/TemplateWrapper.php:51
/home/user/SpiderForm/vendor/twig/twig/src/Environment.php:333
/home/user/SpiderForm/src/V2/Renderer/TwigRenderer.php:57
/home/user/SpiderForm/src/V2/Builder/FormBuilder.php:1353
/home/user/SpiderForm/src/V2/Builder/FormBuilder.php:1322
/home/user/SpiderForm/tests/Unit/Builder/FormBuilderNewFeaturesTest.php:390

Caused by
TypeError: SpiderForm\V2\Renderer\TwigRenderer::{closure:SpiderForm\V2\Renderer\TwigRenderer::registerCustomFilters():180}(): Argument #1 ($attributes) must be of type array, null given, called in /home/user/SpiderForm/vendor/twig/twig/src/Environment.php(420) : eval()'d code on line 45

/home/user/SpiderForm/src/V2/Renderer/TwigRenderer.php:180
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:402
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:358
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:373
/home/user/SpiderForm/vendor/twig/twig/src/TemplateWrapper.php:51
/home/user/SpiderForm/vendor/twig/twig/src/Extension/CoreExtension.php:1520
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:402
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:358
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:373
/home/user/SpiderForm/vendor/twig/twig/src/TemplateWrapper.php:51
/home/user/SpiderForm/vendor/twig/twig/src/Environment.php:333
/home/user/SpiderForm/src/V2/Renderer/TwigRenderer.php:57
/home/user/SpiderForm/src/V2/Builder/FormBuilder.php:1353
/home/user/SpiderForm/src/V2/Builder/FormBuilder.php:1322
/home/user/SpiderForm/tests/Unit/Builder/FormBuilderNewFeaturesTest.php:390

12) SpiderForm\Tests\Unit\Builder\FormBuilderNewFeaturesTest::it_works_with_multiple_output_formats
RuntimeException: Failed to render template "bootstrap5/form.twig": An exception has been thrown during the rendering of a template ("SpiderForm\V2\Renderer\TwigRenderer::{closure:SpiderForm\V2\Renderer\TwigRenderer::registerCustomFilters():180}(): Argument #1 ($attributes) must be of type array, null given, called in /home/user/SpiderForm/vendor/twig/twig/src/Environment.php(420) : eval()'d code on line 45") in "bootstrap5/input_text.twig" at line 2.

/home/user/SpiderForm/src/V2/Renderer/TwigRenderer.php:59
/home/user/SpiderForm/src/V2/Builder/FormBuilder.php:1353
/home/user/SpiderForm/src/V2/Builder/FormBuilder.php:1322
/home/user/SpiderForm/tests/Unit/Builder/FormBuilderNewFeaturesTest.php:422

Caused by
Twig\Error\RuntimeError: An exception has been thrown during the rendering of a template ("SpiderForm\V2\Renderer\TwigRenderer::{closure:SpiderForm\V2\Renderer\TwigRenderer::registerCustomFilters():180}(): Argument #1 ($attributes) must be of type array, null given, called in /home/user/SpiderForm/vendor/twig/twig/src/Environment.php(420) : eval()'d code on line 45") in "bootstrap5/input_text.twig" at line 2.

/home/user/SpiderForm/src/V2/Theme/templates/twig/bootstrap5/input_text.twig:2
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:358
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:373
/home/user/SpiderForm/vendor/twig/twig/src/TemplateWrapper.php:51
/home/user/SpiderForm/vendor/twig/twig/src/Extension/CoreExtension.php:1520
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:402
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:358
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:373
/home/user/SpiderForm/vendor/twig/twig/src/TemplateWrapper.php:51
/home/user/SpiderForm/vendor/twig/twig/src/Environment.php:333
/home/user/SpiderForm/src/V2/Renderer/TwigRenderer.php:57
/home/user/SpiderForm/src/V2/Builder/FormBuilder.php:1353
/home/user/SpiderForm/src/V2/Builder/FormBuilder.php:1322
/home/user/SpiderForm/tests/Unit/Builder/FormBuilderNewFeaturesTest.php:422

Caused by
TypeError: SpiderForm\V2\Renderer\TwigRenderer::{closure:SpiderForm\V2\Renderer\TwigRenderer::registerCustomFilters():180}(): Argument #1 ($attributes) must be of type array, null given, called in /home/user/SpiderForm/vendor/twig/twig/src/Environment.php(420) : eval()'d code on line 45

/home/user/SpiderForm/src/V2/Renderer/TwigRenderer.php:180
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:402
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:358
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:373
/home/user/SpiderForm/vendor/twig/twig/src/TemplateWrapper.php:51
/home/user/SpiderForm/vendor/twig/twig/src/Extension/CoreExtension.php:1520
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:402
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:358
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:373
/home/user/SpiderForm/vendor/twig/twig/src/TemplateWrapper.php:51
/home/user/SpiderForm/vendor/twig/twig/src/Environment.php:333
/home/user/SpiderForm/src/V2/Renderer/TwigRenderer.php:57
/home/user/SpiderForm/src/V2/Builder/FormBuilder.php:1353
/home/user/SpiderForm/src/V2/Builder/FormBuilder.php:1322
/home/user/SpiderForm/tests/Unit/Builder/FormBuilderNewFeaturesTest.php:422

13) SpiderForm\Tests\Unit\Builder\FormBuilderNewFeaturesTest::it_applies_locale_to_time_picker_automatically
RuntimeException: Failed to render template "bootstrap5/form.twig": An exception has been thrown during the rendering of a template ("SpiderForm\V2\Renderer\TwigRenderer::{closure:SpiderForm\V2\Renderer\TwigRenderer::registerCustomFilters():180}(): Argument #1 ($attributes) must be of type array, null given, called in /home/user/SpiderForm/vendor/twig/twig/src/Environment.php(420) : eval()'d code on line 45") in "bootstrap5/input_text.twig" at line 2.

/home/user/SpiderForm/src/V2/Renderer/TwigRenderer.php:59
/home/user/SpiderForm/src/V2/Builder/FormBuilder.php:1353
/home/user/SpiderForm/src/V2/Builder/FormBuilder.php:1322
/home/user/SpiderForm/tests/Unit/Builder/FormBuilderNewFeaturesTest.php:146

Caused by
Twig\Error\RuntimeError: An exception has been thrown during the rendering of a template ("SpiderForm\V2\Renderer\TwigRenderer::{closure:SpiderForm\V2\Renderer\TwigRenderer::registerCustomFilters():180}(): Argument #1 ($attributes) must be of type array, null given, called in /home/user/SpiderForm/vendor/twig/twig/src/Environment.php(420) : eval()'d code on line 45") in "bootstrap5/input_text.twig" at line 2.

/home/user/SpiderForm/src/V2/Theme/templates/twig/bootstrap5/input_text.twig:2
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:358
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:373
/home/user/SpiderForm/vendor/twig/twig/src/TemplateWrapper.php:51
/home/user/SpiderForm/vendor/twig/twig/src/Extension/CoreExtension.php:1520
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:402
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:358
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:373
/home/user/SpiderForm/vendor/twig/twig/src/TemplateWrapper.php:51
/home/user/SpiderForm/vendor/twig/twig/src/Environment.php:333
/home/user/SpiderForm/src/V2/Renderer/TwigRenderer.php:57
/home/user/SpiderForm/src/V2/Builder/FormBuilder.php:1353
/home/user/SpiderForm/src/V2/Builder/FormBuilder.php:1322
/home/user/SpiderForm/tests/Unit/Builder/FormBuilderNewFeaturesTest.php:146

Caused by
TypeError: SpiderForm\V2\Renderer\TwigRenderer::{closure:SpiderForm\V2\Renderer\TwigRenderer::registerCustomFilters():180}(): Argument #1 ($attributes) must be of type array, null given, called in /home/user/SpiderForm/vendor/twig/twig/src/Environment.php(420) : eval()'d code on line 45

/home/user/SpiderForm/src/V2/Renderer/TwigRenderer.php:180
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:402
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:358
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:373
/home/user/SpiderForm/vendor/twig/twig/src/TemplateWrapper.php:51
/home/user/SpiderForm/vendor/twig/twig/src/Extension/CoreExtension.php:1520
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:402
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:358
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:373
/home/user/SpiderForm/vendor/twig/twig/src/TemplateWrapper.php:51
/home/user/SpiderForm/vendor/twig/twig/src/Environment.php:333
/home/user/SpiderForm/src/V2/Renderer/TwigRenderer.php:57
/home/user/SpiderForm/src/V2/Builder/FormBuilder.php:1353
/home/user/SpiderForm/src/V2/Builder/FormBuilder.php:1322
/home/user/SpiderForm/tests/Unit/Builder/FormBuilderNewFeaturesTest.php:146

14) SpiderForm\Tests\Unit\Builder\FormBuilderNewFeaturesTest::it_builds_as_html_explicitly
RuntimeException: Failed to render template "bootstrap5/form.twig": An exception has been thrown during the rendering of a template ("SpiderForm\V2\Renderer\TwigRenderer::{closure:SpiderForm\V2\Renderer\TwigRenderer::registerCustomFilters():180}(): Argument #1 ($attributes) must be of type array, null given, called in /home/user/SpiderForm/vendor/twig/twig/src/Environment.php(420) : eval()'d code on line 45") in "bootstrap5/input_text.twig" at line 2.

/home/user/SpiderForm/src/V2/Renderer/TwigRenderer.php:59
/home/user/SpiderForm/src/V2/Builder/FormBuilder.php:1353
/home/user/SpiderForm/src/V2/Builder/FormBuilder.php:1322
/home/user/SpiderForm/tests/Unit/Builder/FormBuilderNewFeaturesTest.php:199

Caused by
Twig\Error\RuntimeError: An exception has been thrown during the rendering of a template ("SpiderForm\V2\Renderer\TwigRenderer::{closure:SpiderForm\V2\Renderer\TwigRenderer::registerCustomFilters():180}(): Argument #1 ($attributes) must be of type array, null given, called in /home/user/SpiderForm/vendor/twig/twig/src/Environment.php(420) : eval()'d code on line 45") in "bootstrap5/input_text.twig" at line 2.

/home/user/SpiderForm/src/V2/Theme/templates/twig/bootstrap5/input_text.twig:2
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:358
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:373
/home/user/SpiderForm/vendor/twig/twig/src/TemplateWrapper.php:51
/home/user/SpiderForm/vendor/twig/twig/src/Extension/CoreExtension.php:1520
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:402
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:358
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:373
/home/user/SpiderForm/vendor/twig/twig/src/TemplateWrapper.php:51
/home/user/SpiderForm/vendor/twig/twig/src/Environment.php:333
/home/user/SpiderForm/src/V2/Renderer/TwigRenderer.php:57
/home/user/SpiderForm/src/V2/Builder/FormBuilder.php:1353
/home/user/SpiderForm/src/V2/Builder/FormBuilder.php:1322
/home/user/SpiderForm/tests/Unit/Builder/FormBuilderNewFeaturesTest.php:199

Caused by
TypeError: SpiderForm\V2\Renderer\TwigRenderer::{closure:SpiderForm\V2\Renderer\TwigRenderer::registerCustomFilters():180}(): Argument #1 ($attributes) must be of type array, null given, called in /home/user/SpiderForm/vendor/twig/twig/src/Environment.php(420) : eval()'d code on line 45

/home/user/SpiderForm/src/V2/Renderer/TwigRenderer.php:180
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:402
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:358
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:373
/home/user/SpiderForm/vendor/twig/twig/src/TemplateWrapper.php:51
/home/user/SpiderForm/vendor/twig/twig/src/Extension/CoreExtension.php:1520
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:402
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:358
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:373
/home/user/SpiderForm/vendor/twig/twig/src/TemplateWrapper.php:51
/home/user/SpiderForm/vendor/twig/twig/src/Environment.php:333
/home/user/SpiderForm/src/V2/Renderer/TwigRenderer.php:57
/home/user/SpiderForm/src/V2/Builder/FormBuilder.php:1353
/home/user/SpiderForm/src/V2/Builder/FormBuilder.php:1322
/home/user/SpiderForm/tests/Unit/Builder/FormBuilderNewFeaturesTest.php:199

15) SpiderForm\Tests\Unit\Builder\FormBuilderNewFeaturesTest::it_applies_ltr_direction_to_form_element
RuntimeException: Failed to render template "bootstrap5/form.twig": An exception has been thrown during the rendering of a template ("SpiderForm\V2\Renderer\TwigRenderer::{closure:SpiderForm\V2\Renderer\TwigRenderer::registerCustomFilters():180}(): Argument #1 ($attributes) must be of type array, null given, called in /home/user/SpiderForm/vendor/twig/twig/src/Environment.php(420) : eval()'d code on line 45") in "bootstrap5/input_text.twig" at line 2.

/home/user/SpiderForm/src/V2/Renderer/TwigRenderer.php:59
/home/user/SpiderForm/src/V2/Builder/FormBuilder.php:1353
/home/user/SpiderForm/src/V2/Builder/FormBuilder.php:1322
/home/user/SpiderForm/tests/Unit/Builder/FormBuilderNewFeaturesTest.php:61

Caused by
Twig\Error\RuntimeError: An exception has been thrown during the rendering of a template ("SpiderForm\V2\Renderer\TwigRenderer::{closure:SpiderForm\V2\Renderer\TwigRenderer::registerCustomFilters():180}(): Argument #1 ($attributes) must be of type array, null given, called in /home/user/SpiderForm/vendor/twig/twig/src/Environment.php(420) : eval()'d code on line 45") in "bootstrap5/input_text.twig" at line 2.

/home/user/SpiderForm/src/V2/Theme/templates/twig/bootstrap5/input_text.twig:2
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:358
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:373
/home/user/SpiderForm/vendor/twig/twig/src/TemplateWrapper.php:51
/home/user/SpiderForm/vendor/twig/twig/src/Extension/CoreExtension.php:1520
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:402
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:358
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:373
/home/user/SpiderForm/vendor/twig/twig/src/TemplateWrapper.php:51
/home/user/SpiderForm/vendor/twig/twig/src/Environment.php:333
/home/user/SpiderForm/src/V2/Renderer/TwigRenderer.php:57
/home/user/SpiderForm/src/V2/Builder/FormBuilder.php:1353
/home/user/SpiderForm/src/V2/Builder/FormBuilder.php:1322
/home/user/SpiderForm/tests/Unit/Builder/FormBuilderNewFeaturesTest.php:61

Caused by
TypeError: SpiderForm\V2\Renderer\TwigRenderer::{closure:SpiderForm\V2\Renderer\TwigRenderer::registerCustomFilters():180}(): Argument #1 ($attributes) must be of type array, null given, called in /home/user/SpiderForm/vendor/twig/twig/src/Environment.php(420) : eval()'d code on line 45

/home/user/SpiderForm/src/V2/Renderer/TwigRenderer.php:180
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:402
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:358
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:373
/home/user/SpiderForm/vendor/twig/twig/src/TemplateWrapper.php:51
/home/user/SpiderForm/vendor/twig/twig/src/Extension/CoreExtension.php:1520
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:402
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:358
/home/user/SpiderForm/vendor/twig/twig/src/Template.php:373
/home/user/SpiderForm/vendor/twig/twig/src/TemplateWrapper.php:51
/home/user/SpiderForm/vendor/twig/twig/src/Environment.php:333
/home/user/SpiderForm/src/V2/Renderer/TwigRenderer.php:57
/home/user/SpiderForm/src/V2/Builder/FormBuilder.php:1353
/home/user/SpiderForm/src/V2/Builder/FormBuilder.php:1322
/home/user/SpiderForm/tests/Unit/Builder/FormBuilderNewFeaturesTest.php:61

16) SpiderForm\Tests\Unit\Builder\FormBuilderTest::it_creates_form_with_name
RuntimeException: Renderer not set. Use setRenderer() before building.

/home/user/SpiderForm/src/V2/Builder/FormBuilder.php:1334
/home/user/SpiderForm/src/V2/Builder/FormBuilder.php:1322
/home/user/SpiderForm/tests/Unit/Builder/FormBuilderTest.php:33

17) SpiderForm\Tests\Unit\Builder\FormBuilderTest::it_sets_form_action
RuntimeException: Renderer not set. Use setRenderer() before building.

/home/user/SpiderForm/src/V2/Builder/FormBuilder.php:1334
/home/user/SpiderForm/src/V2/Builder/FormBuilder.php:1322
/home/user/SpiderForm/tests/Unit/Builder/FormBuilderTest.php:45

18) SpiderForm\Tests\Unit\Builder\FormBuilderTest::it_sets_form_method
RuntimeException: Renderer not set. Use setRenderer() before building.

/home/user/SpiderForm/src/V2/Builder/FormBuilder.php:1334
/home/user/SpiderForm/src/V2/Builder/FormBuilder.php:1322
/home/user/SpiderForm/tests/Unit/Builder/FormBuilderTest.php:55

19) SpiderForm\Tests\Unit\Builder\FormBuilderTest::it_sets_form_classes
Error: Call to undefined method SpiderForm\V2\Builder\FormBuilder::setClasses()

/home/user/SpiderForm/tests/Unit/Builder/FormBuilderTest.php:64

20) SpiderForm\Tests\Unit\Builder\FormBuilderTest::it_adds_form_attributes
Error: Call to undefined method SpiderForm\V2\Builder\FormBuilder::setAttributes()

/home/user/SpiderForm/tests/Unit/Builder/FormBuilderTest.php:75

21) SpiderForm\Tests\Unit\Builder\FormBuilderTest::it_adds_email_input
RuntimeException: Renderer not set. Use setRenderer() before building.

/home/user/SpiderForm/src/V2/Builder/FormBuilder.php:1334
/home/user/SpiderForm/src/V2/Builder/FormBuilder.php:1322
/home/user/SpiderForm/tests/Unit/Builder/FormBuilderTest.php:116

22) SpiderForm\Tests\Unit\Builder\FormBuilderTest::it_adds_password_input
RuntimeException: Renderer not set. Use setRenderer() before building.

/home/user/SpiderForm/src/V2/Builder/FormBuilder.php:1334
/home/user/SpiderForm/src/V2/Builder/FormBuilder.php:1322
/home/user/SpiderForm/tests/Unit/Builder/FormBuilderTest.php:128

23) SpiderForm\Tests\Unit\Builder\FormBuilderTest::it_adds_textarea
RuntimeException: Renderer not set. Use setRenderer() before building.

/home/user/SpiderForm/src/V2/Builder/FormBuilder.php:1334
/home/user/SpiderForm/src/V2/Builder/FormBuilder.php:1322
/home/user/SpiderForm/tests/Unit/Builder/FormBuilderTest.php:140

24) SpiderForm\Tests\Unit\Builder\FormBuilderTest::it_adds_checkbox
RuntimeException: Renderer not set. Use setRenderer() before building.

/home/user/SpiderForm/src/V2/Builder/FormBuilder.php:1334
/home/user/SpiderForm/src/V2/Builder/FormBuilder.php:1322
/home/user/SpiderForm/tests/Unit/Builder/FormBuilderTest.php:171

25) SpiderForm\Tests\Unit\Builder\FormBuilderTest::it_adds_radio_buttons
RuntimeException: Renderer not set. Use setRenderer() before building.

/home/user/SpiderForm/src/V2/Builder/FormBuilder.php:1334
/home/user/SpiderForm/src/V2/Builder/FormBuilder.php:1322
/home/user/SpiderForm/tests/Unit/Builder/FormBuilderTest.php:187

26) SpiderForm\Tests\Unit\Builder\FormBuilderTest::it_adds_hidden_input
RuntimeException: Renderer not set. Use setRenderer() before building.

/home/user/SpiderForm/src/V2/Builder/FormBuilder.php:1334
/home/user/SpiderForm/src/V2/Builder/FormBuilder.php:1322
/home/user/SpiderForm/tests/Unit/Builder/FormBuilderTest.php:201

27) SpiderForm\Tests\Unit\Builder\FormBuilderTest::it_adds_submit_button
RuntimeException: Renderer not set. Use setRenderer() before building.

/home/user/SpiderForm/src/V2/Builder/FormBuilder.php:1334
/home/user/SpiderForm/src/V2/Builder/FormBuilder.php:1322
/home/user/SpiderForm/tests/Unit/Builder/FormBuilderTest.php:213

28) SpiderForm\Tests\Unit\Builder\FormBuilderTest::it_marks_field_as_required
RuntimeException: Renderer not set. Use setRenderer() before building.

/home/user/SpiderForm/src/V2/Builder/FormBuilder.php:1334
/home/user/SpiderForm/src/V2/Builder/FormBuilder.php:1322
/home/user/SpiderForm/tests/Unit/Builder/FormBuilderTest.php:226

29) SpiderForm\Tests\Unit\Builder\FormBuilderTest::it_sets_field_value
RuntimeException: Renderer not set. Use setRenderer() before building.

/home/user/SpiderForm/src/V2/Builder/FormBuilder.php:1334
/home/user/SpiderForm/src/V2/Builder/FormBuilder.php:1322
/home/user/SpiderForm/tests/Unit/Builder/FormBuilderTest.php:238

30) SpiderForm\Tests\Unit\Builder\FormBuilderTest::it_sets_field_placeholder
RuntimeException: Renderer not set. Use setRenderer() before building.

/home/user/SpiderForm/src/V2/Builder/FormBuilder.php:1334
/home/user/SpiderForm/src/V2/Builder/FormBuilder.php:1322
/home/user/SpiderForm/tests/Unit/Builder/FormBuilderTest.php:250

31) SpiderForm\Tests\Unit\Builder\FormBuilderTest::it_sets_field_help_text
RuntimeException: Renderer not set. Use setRenderer() before building.

/home/user/SpiderForm/src/V2/Builder/FormBuilder.php:1334
/home/user/SpiderForm/src/V2/Builder/FormBuilder.php:1322
/home/user/SpiderForm/tests/Unit/Builder/FormBuilderTest.php:262

32) SpiderForm\Tests\Unit\Builder\FormBuilderTest::it_chains_multiple_methods
RuntimeException: Renderer not set. Use setRenderer() before building.

/home/user/SpiderForm/src/V2/Builder/FormBuilder.php:1334
/home/user/SpiderForm/src/V2/Builder/FormBuilder.php:1322
/home/user/SpiderForm/tests/Unit/Builder/FormBuilderTest.php:281

33) SpiderForm\Tests\Unit\Builder\FormBuilderTest::it_uses_bootstrap5_theme
RuntimeException: Renderer not set. Use setRenderer() before building.

/home/user/SpiderForm/src/V2/Builder/FormBuilder.php:1334
/home/user/SpiderForm/src/V2/Builder/FormBuilder.php:1322
/home/user/SpiderForm/tests/Unit/Builder/FormBuilderTest.php:296

34) SpiderForm\Tests\Unit\Builder\FormBuilderTest::it_generates_validation_javascript
Error: Call to undefined method SpiderForm\V2\Builder\InputBuilder::addValidation()

/home/user/SpiderForm/tests/Unit/Builder/FormBuilderTest.php:332

35) SpiderForm\Tests\Unit\Builder\FormBuilderTest::it_populates_form_with_data
Error: Call to undefined method SpiderForm\V2\Builder\FormBuilder::populate()

/home/user/SpiderForm/tests/Unit/Builder/FormBuilderTest.php:352

36) SpiderForm\Tests\Unit\Builder\FormBuilderTest::it_disables_validation
Error: Call to undefined method SpiderForm\V2\Builder\InputBuilder::addValidation()

/home/user/SpiderForm/tests/Unit/Builder/FormBuilderTest.php:385

37) SpiderForm\Tests\Unit\Builder\FormBuilderTest::it_disables_client_side_validation_only
Error: Call to undefined method SpiderForm\V2\Builder\InputBuilder::addValidation()

/home/user/SpiderForm/tests/Unit/Builder/FormBuilderTest.php:401

38) SpiderForm\Tests\Unit\Builder\FormBuilderTest::it_handles_multipart_form_data
RuntimeException: Renderer not set. Use setRenderer() before building.

/home/user/SpiderForm/src/V2/Builder/FormBuilder.php:1334
/home/user/SpiderForm/src/V2/Builder/FormBuilder.php:1322
/home/user/SpiderForm/tests/Unit/Builder/FormBuilderTest.php:415

39) SpiderForm\Tests\Unit\Builder\FormBuilderTest::it_generates_unique_form_id
Error: Call to private SpiderForm\V2\Builder\FormBuilder::__construct() from scope SpiderForm\Tests\Unit\Builder\FormBuilderTest

/home/user/SpiderForm/tests/Unit/Builder/FormBuilderTest.php:434

40) SpiderForm\Tests\Unit\Builder\FormBuilderTest::it_adds_text_input
RuntimeException: Renderer not set. Use setRenderer() before building.

/home/user/SpiderForm/src/V2/Builder/FormBuilder.php:1334
/home/user/SpiderForm/src/V2/Builder/FormBuilder.php:1322
/home/user/SpiderForm/tests/Unit/Builder/FormBuilderTest.php:103

41) SpiderForm\Tests\Unit\Builder\FormBuilderTest::it_adds_select_with_options
RuntimeException: Renderer not set. Use setRenderer() before building.

/home/user/SpiderForm/src/V2/Builder/FormBuilder.php:1334
/home/user/SpiderForm/src/V2/Builder/FormBuilder.php:1322
/home/user/SpiderForm/tests/Unit/Builder/FormBuilderTest.php:157

42) SpiderForm\Tests\Unit\Builder\FormBuilderTest::it_uses_tailwind_theme
RuntimeException: Renderer not set. Use setRenderer() before building.

/home/user/SpiderForm/src/V2/Builder/FormBuilder.php:1334
/home/user/SpiderForm/src/V2/Builder/FormBuilder.php:1322
/home/user/SpiderForm/tests/Unit/Builder/FormBuilderTest.php:310

43) SpiderForm\Tests\Unit\Builder\FormBuilderTest::it_uses_data_provider
RuntimeException: Renderer not set. Use setRenderer() before building.

/home/user/SpiderForm/src/V2/Builder/FormBuilder.php:1334
/home/user/SpiderForm/src/V2/Builder/FormBuilder.php:1322
/home/user/SpiderForm/tests/Unit/Builder/FormBuilderTest.php:371

44) SpiderForm\Tests\Unit\Builder\FormBuilderTest::it_enables_csrf_protection
TypeError: SpiderForm\V2\Builder\FormBuilder::enableCsrf(): Argument #1 ($enable) must be of type bool, SpiderForm\V2\Security\SecurityManager given, called in /home/user/SpiderForm/tests/Unit/Builder/FormBuilderTest.php on line 90

/home/user/SpiderForm/src/V2/Builder/FormBuilder.php:438
/home/user/SpiderForm/tests/Unit/Builder/FormBuilderTest.php:90

45) SpiderForm\Tests\Unit\Builder\InputBuilderTest::it_creates_input_with_type_and_name
Error: Call to private SpiderForm\V2\Builder\FormBuilder::__construct() from scope SpiderForm\Tests\Unit\Builder\InputBuilderTest

/home/user/SpiderForm/tests/Unit/Builder/InputBuilderTest.php:22

46) SpiderForm\Tests\Unit\Builder\InputBuilderTest::it_sets_required_attribute
Error: Call to private SpiderForm\V2\Builder\FormBuilder::__construct() from scope SpiderForm\Tests\Unit\Builder\InputBuilderTest

/home/user/SpiderForm/tests/Unit/Builder/InputBuilderTest.php:22

47) SpiderForm\Tests\Unit\Builder\InputBuilderTest::it_sets_value
Error: Call to private SpiderForm\V2\Builder\FormBuilder::__construct() from scope SpiderForm\Tests\Unit\Builder\InputBuilderTest

/home/user/SpiderForm/tests/Unit/Builder/InputBuilderTest.php:22

48) SpiderForm\Tests\Unit\Builder\InputBuilderTest::it_sets_placeholder
Error: Call to private SpiderForm\V2\Builder\FormBuilder::__construct() from scope SpiderForm\Tests\Unit\Builder\InputBuilderTest

/home/user/SpiderForm/tests/Unit/Builder/InputBuilderTest.php:22

49) SpiderForm\Tests\Unit\Builder\InputBuilderTest::it_sets_help_text
Error: Call to private SpiderForm\V2\Builder\FormBuilder::__construct() from scope SpiderForm\Tests\Unit\Builder\InputBuilderTest

/home/user/SpiderForm/tests/Unit/Builder/InputBuilderTest.php:22

50) SpiderForm\Tests\Unit\Builder\InputBuilderTest::it_sets_custom_attributes
Error: Call to private SpiderForm\V2\Builder\FormBuilder::__construct() from scope SpiderForm\Tests\Unit\Builder\InputBuilderTest

/home/user/SpiderForm/tests/Unit/Builder/InputBuilderTest.php:22

51) SpiderForm\Tests\Unit\Builder\InputBuilderTest::it_sets_custom_classes
Error: Call to private SpiderForm\V2\Builder\FormBuilder::__construct() from scope SpiderForm\Tests\Unit\Builder\InputBuilderTest

/home/user/SpiderForm/tests/Unit/Builder/InputBuilderTest.php:22

52) SpiderForm\Tests\Unit\Builder\InputBuilderTest::it_adds_dependency
Error: Call to private SpiderForm\V2\Builder\FormBuilder::__construct() from scope SpiderForm\Tests\Unit\Builder\InputBuilderTest

/home/user/SpiderForm/tests/Unit/Builder/InputBuilderTest.php:22

53) SpiderForm\Tests\Unit\Builder\InputBuilderTest::it_handles_multiple_dependency_values
Error: Call to private SpiderForm\V2\Builder\FormBuilder::__construct() from scope SpiderForm\Tests\Unit\Builder\InputBuilderTest

/home/user/SpiderForm/tests/Unit/Builder/InputBuilderTest.php:22

54) SpiderForm\Tests\Unit\Builder\InputBuilderTest::it_sets_min_max_for_number
Error: Call to private SpiderForm\V2\Builder\FormBuilder::__construct() from scope SpiderForm\Tests\Unit\Builder\InputBuilderTest

/home/user/SpiderForm/tests/Unit/Builder/InputBuilderTest.php:22

55) SpiderForm\Tests\Unit\Builder\InputBuilderTest::it_sets_min_max_length_for_text
Error: Call to private SpiderForm\V2\Builder\FormBuilder::__construct() from scope SpiderForm\Tests\Unit\Builder\InputBuilderTest

/home/user/SpiderForm/tests/Unit/Builder/InputBuilderTest.php:22

56) SpiderForm\Tests\Unit\Builder\InputBuilderTest::it_sets_pattern
Error: Call to private SpiderForm\V2\Builder\FormBuilder::__construct() from scope SpiderForm\Tests\Unit\Builder\InputBuilderTest

/home/user/SpiderForm/tests/Unit/Builder/InputBuilderTest.php:22

57) SpiderForm\Tests\Unit\Builder\InputBuilderTest::it_sets_disabled
Error: Call to private SpiderForm\V2\Builder\FormBuilder::__construct() from scope SpiderForm\Tests\Unit\Builder\InputBuilderTest

/home/user/SpiderForm/tests/Unit/Builder/InputBuilderTest.php:22

58) SpiderForm\Tests\Unit\Builder\InputBuilderTest::it_sets_readonly
Error: Call to private SpiderForm\V2\Builder\FormBuilder::__construct() from scope SpiderForm\Tests\Unit\Builder\InputBuilderTest

/home/user/SpiderForm/tests/Unit/Builder/InputBuilderTest.php:22

59) SpiderForm\Tests\Unit\Builder\InputBuilderTest::it_adds_validation_rules
Error: Call to private SpiderForm\V2\Builder\FormBuilder::__construct() from scope SpiderForm\Tests\Unit\Builder\InputBuilderTest

/home/user/SpiderForm/tests/Unit/Builder/InputBuilderTest.php:22

60) SpiderForm\Tests\Unit\Builder\InputBuilderTest::it_handles_select_options
Error: Call to private SpiderForm\V2\Builder\FormBuilder::__construct() from scope SpiderForm\Tests\Unit\Builder\InputBuilderTest

/home/user/SpiderForm/tests/Unit/Builder/InputBuilderTest.php:22

61) SpiderForm\Tests\Unit\Builder\InputBuilderTest::it_handles_selected_option
Error: Call to private SpiderForm\V2\Builder\FormBuilder::__construct() from scope SpiderForm\Tests\Unit\Builder\InputBuilderTest

/home/user/SpiderForm/tests/Unit/Builder/InputBuilderTest.php:22

62) SpiderForm\Tests\Unit\Builder\InputBuilderTest::it_handles_checked_checkbox
Error: Call to private SpiderForm\V2\Builder\FormBuilder::__construct() from scope SpiderForm\Tests\Unit\Builder\InputBuilderTest

/home/user/SpiderForm/tests/Unit/Builder/InputBuilderTest.php:22

63) SpiderForm\Tests\Unit\Builder\InputBuilderTest::it_handles_textarea_rows_cols
Error: Call to private SpiderForm\V2\Builder\FormBuilder::__construct() from scope SpiderForm\Tests\Unit\Builder\InputBuilderTest

/home/user/SpiderForm/tests/Unit/Builder/InputBuilderTest.php:22

64) SpiderForm\Tests\Unit\Builder\InputBuilderTest::it_returns_form_builder_on_add
Error: Call to private SpiderForm\V2\Builder\FormBuilder::__construct() from scope SpiderForm\Tests\Unit\Builder\InputBuilderTest

/home/user/SpiderForm/tests/Unit/Builder/InputBuilderTest.php:22

65) SpiderForm\Tests\Unit\Builder\InputBuilderTest::it_chains_multiple_configurations
Error: Call to private SpiderForm\V2\Builder\FormBuilder::__construct() from scope SpiderForm\Tests\Unit\Builder\InputBuilderTest

/home/user/SpiderForm/tests/Unit/Builder/InputBuilderTest.php:22

66) SpiderForm\Tests\Unit\Builder\InputBuilderTest::it_handles_file_input_accept
Error: Call to private SpiderForm\V2\Builder\FormBuilder::__construct() from scope SpiderForm\Tests\Unit\Builder\InputBuilderTest

/home/user/SpiderForm/tests/Unit/Builder/InputBuilderTest.php:22

67) SpiderForm\Tests\Unit\Builder\InputBuilderTest::it_handles_multiple_file_upload
Error: Call to private SpiderForm\V2\Builder\FormBuilder::__construct() from scope SpiderForm\Tests\Unit\Builder\InputBuilderTest

/home/user/SpiderForm/tests/Unit/Builder/InputBuilderTest.php:22

68) SpiderForm\Tests\Unit\Renderer\RendererExtensionTest::testAllRenderersHaveTemplateExtensionMethod
Error: Class "Illuminate\Filesystem\Filesystem" not found

/home/user/SpiderForm/src/V2/Renderer/BladeRenderer.php:47
/home/user/SpiderForm/tests/Unit/Renderer/RendererExtensionTest.php:117

69) SpiderForm\Tests\Unit\Renderer\RendererExtensionTest::testBladeRendererReturnsCorrectExtension
Error: Class "Illuminate\Filesystem\Filesystem" not found

/home/user/SpiderForm/src/V2/Renderer/BladeRenderer.php:47
/home/user/SpiderForm/tests/Unit/Renderer/RendererExtensionTest.php:91

70) SpiderForm\Tests\Unit\Theme\RendererThemeIntegrationTest::testRenderersReturnCorrectExtensions
Error: Class "Illuminate\Filesystem\Filesystem" not found

/home/user/SpiderForm/src/V2/Renderer/BladeRenderer.php:47
/home/user/SpiderForm/tests/Unit/Theme/RendererThemeIntegrationTest.php:84

71) SpiderForm\Tests\Unit\Validation\NativeValidatorTest::it_validates_match_field
Error: Call to a member function isValid() on array

/home/user/SpiderForm/tests/Unit/Validation/NativeValidatorTest.php:298

72) SpiderForm\Tests\Unit\Validation\NativeValidatorTest::it_passes_match_field
Error: Call to a member function isValid() on array

/home/user/SpiderForm/tests/Unit/Validation/NativeValidatorTest.php:313

73) SpiderForm\Tests\Unit\Validation\NativeValidatorTest::it_validates_entire_form
Error: Call to a member function isValid() on array

/home/user/SpiderForm/tests/Unit/Validation/NativeValidatorTest.php:389

74) SpiderForm\Tests\Unit\Validation\NativeValidatorTest::it_generates_javascript_code
TypeError: SpiderForm\V2\Validation\NativeValidator::getJavaScriptCode(): Argument #1 ($rules) must be of type array, string given, called in /home/user/SpiderForm/tests/Unit/Validation/NativeValidatorTest.php on line 396

/home/user/SpiderForm/src/V2/Validation/NativeValidator.php:74
/home/user/SpiderForm/tests/Unit/Validation/NativeValidatorTest.php:396

75) SpiderForm\Tests\Unit\Validation\NativeValidatorTest::it_custom_error_messages
Error: Call to undefined method SpiderForm\V2\Validation\NativeValidator::setMessage()

/home/user/SpiderForm/tests/Unit/Validation/NativeValidatorTest.php:414

76) SpiderForm\Tests\Integration\ValidationIntegrationTest::testFormBuilderExtractsValidationRules
RuntimeException: Renderer not set. Use setRenderer() before building.

/home/user/SpiderForm/src/V2/Builder/FormBuilder.php:1334
/home/user/SpiderForm/src/V2/Builder/FormBuilder.php:1322
/home/user/SpiderForm/tests/Integration/ValidationIntegrationTest.php:29

77) SpiderForm\Tests\Integration\ValidationIntegrationTest::testCompleteUserRegistrationForm
RuntimeException: Renderer not set. Use setRenderer() before building.

/home/user/SpiderForm/src/V2/Builder/FormBuilder.php:1334
/home/user/SpiderForm/src/V2/Builder/FormBuilder.php:1322
/home/user/SpiderForm/tests/Integration/ValidationIntegrationTest.php:81

78) SpiderForm\Tests\Integration\ValidationIntegrationTest::testPasswordConfirmationValidation
RuntimeException: Renderer not set. Use setRenderer() before building.

/home/user/SpiderForm/src/V2/Builder/FormBuilder.php:1334
/home/user/SpiderForm/src/V2/Builder/FormBuilder.php:1322
/home/user/SpiderForm/tests/Integration/ValidationIntegrationTest.php:131

79) SpiderForm\Tests\Integration\ValidationIntegrationTest::testMultipleValidationRulesOnSingleField
RuntimeException: Renderer not set. Use setRenderer() before building.

/home/user/SpiderForm/src/V2/Builder/FormBuilder.php:1334
/home/user/SpiderForm/src/V2/Builder/FormBuilder.php:1322
/home/user/SpiderForm/tests/Integration/ValidationIntegrationTest.php:166

80) SpiderForm\Tests\Integration\ValidationIntegrationTest::testDateValidationInForm
RuntimeException: Renderer not set. Use setRenderer() before building.

/home/user/SpiderForm/src/V2/Builder/FormBuilder.php:1334
/home/user/SpiderForm/src/V2/Builder/FormBuilder.php:1322
/home/user/SpiderForm/tests/Integration/ValidationIntegrationTest.php:199

81) SpiderForm\Tests\Integration\ValidationIntegrationTest::testCustomErrorMessages
RuntimeException: Renderer not set. Use setRenderer() before building.

/home/user/SpiderForm/src/V2/Builder/FormBuilder.php:1334
/home/user/SpiderForm/src/V2/Builder/FormBuilder.php:1322
/home/user/SpiderForm/tests/Integration/ValidationIntegrationTest.php:223

82) SpiderForm\Tests\Integration\ValidationIntegrationTest::testUrlAndIpValidation
RuntimeException: Renderer not set. Use setRenderer() before building.

/home/user/SpiderForm/src/V2/Builder/FormBuilder.php:1334
/home/user/SpiderForm/src/V2/Builder/FormBuilder.php:1322
/home/user/SpiderForm/tests/Integration/ValidationIntegrationTest.php:254

83) SpiderForm\Tests\Integration\ValidationIntegrationTest::testValidatedDataExcludesUnvalidatedFields
RuntimeException: Renderer not set. Use setRenderer() before building.

/home/user/SpiderForm/src/V2/Builder/FormBuilder.php:1334
/home/user/SpiderForm/src/V2/Builder/FormBuilder.php:1322
/home/user/SpiderForm/tests/Integration/ValidationIntegrationTest.php:298

84) SpiderForm\Tests\Integration\ValidationIntegrationTest::testAlphaAndAlphaNumericValidation
RuntimeException: Renderer not set. Use setRenderer() before building.

/home/user/SpiderForm/src/V2/Builder/FormBuilder.php:1334
/home/user/SpiderForm/src/V2/Builder/FormBuilder.php:1322
/home/user/SpiderForm/tests/Integration/ValidationIntegrationTest.php:326

85) SpiderForm\Tests\Integration\ValidationIntegrationTest::testDigitsValidation
RuntimeException: Renderer not set. Use setRenderer() before building.

/home/user/SpiderForm/src/V2/Builder/FormBuilder.php:1334
/home/user/SpiderForm/src/V2/Builder/FormBuilder.php:1322
/home/user/SpiderForm/tests/Integration/ValidationIntegrationTest.php:367

86) SpiderForm\Tests\Integration\ValidationIntegrationTest::testRegexPatternValidation
RuntimeException: Renderer not set. Use setRenderer() before building.

/home/user/SpiderForm/src/V2/Builder/FormBuilder.php:1334
/home/user/SpiderForm/src/V2/Builder/FormBuilder.php:1322
/home/user/SpiderForm/tests/Integration/ValidationIntegrationTest.php:397

87) SpiderForm\Tests\Integration\ValidationIntegrationTest::testLaravelStyleRuleString
RuntimeException: Renderer not set. Use setRenderer() before building.

/home/user/SpiderForm/src/V2/Builder/FormBuilder.php:1334
/home/user/SpiderForm/src/V2/Builder/FormBuilder.php:1322
/home/user/SpiderForm/tests/Integration/ValidationIntegrationTest.php:420

--

There were 31 failures:

1) Tests\InputTypesTests\ScopeAdd\TextTest::test
Failed asserting that two strings are identical.
--- Expected
+++ Actual
@@ @@
-'<input name="address_identification" value="" class="" placeholder="Address Identification" __is_def="1" type="text" id="address_identification" >'
+'<input placeholder="Address Identification" id="address_identification" name="address_identification" value="" type="text" class="form-control">'

/home/user/SpiderForm/tests/InputTypesTests/ScopeAdd/TextTest.php:43

2) Tests\InputTypesTests\ScopeEdit\TextTest::test
Failed asserting that two strings are identical.
--- Expected
+++ Actual
@@ @@
-'<input name="nationality_tc_or_not" value="1" class="" placeholder="Nationality is Turkey Citizen" __is_def="1" type="text" id="nationality_tc_or_not" >'
+'<input placeholder="Nationality is Turkey Citizen" id="nationality_tc_or_not" name="nationality_tc_or_not" value="1" type="text" class="form-control">'

/home/user/SpiderForm/tests/InputTypesTests/ScopeEdit/TextTest.php:48

3) SpiderForm\Tests\Unit\Validation\NativeValidatorTest::it_validates_various_date_formats with data set #3 ('15/01/2024', true)
Failed asserting that false matches expected true.

/home/user/SpiderForm/tests/Unit/Validation/NativeValidatorTest.php:270

4) SpiderForm\Tests\Unit\Builder\DatePickerManagerTest::it_merges_default_options_with_provided_options
Failed asserting that '<script>\n
(function() {\n
    'use strict';\n
\n
    const config = {"format":"dd\/mm\/yyyy","locale":{"months":["Ocak","\u015eubat","Mart","Nisan","May\u0131s","Haziran","Temmuz","A\u011fustos","Eyl\u00fcl","Ekim","Kas\u0131m","Aral\u0131k"],"monthsShort":["Oca","\u015eub","Mar","Nis","May","Haz","Tem","A\u011fu","Eyl","Eki","Kas","Ara"],"weekdays":["Pazar","Pazartesi","Sal\u0131","\u00c7ar\u015famba","Per\u015fembe","Cuma","Cumartesi"],"weekdaysShort":["Paz","Pzt","Sal","\u00c7ar","Per","Cum","Cmt"],"weekdaysMin":["Pz","Pt","Sa","\u00c7a","Pe","Cu","Ct"],"today":"Bug\u00fcn","clear":"Temizle","close":"Kapat"},"minDate":null,"maxDate":null,"disabledDates":[],"weekStart":0,"showToday":true,"showClear":true,"inline":false,"position":"bottom-left","rtl":false};\n
    const input = document.getElementById('date-input');\n
\n
    if (!input) {\n
        console.error('DatePicker: Input element not found:', 'date-input');\n
        return;\n
    }\n
\n
    // Create DatePicker class\n
    class DatePicker {\n
        constructor(inputElement, options) {\n
            this.input = inputElement;\n
            this.options = options;\n
            this.currentDate = new Date();\n
            this.selectedDate = null;\n
            this.isOpen = false;\n
            this.calendar = null;\n
\n
            this.init();\n
        }\n
\n
        init() {\n
            // Set input as readonly to prevent manual entry (optional)\n
            this.input.setAttribute('autocomplete', 'off');\n
\n
            // Apply RTL if needed\n
            if (this.options.rtl) {\n
                this.input.setAttribute('dir', 'rtl');\n
            }\n
\n
            // Create calendar element\n
            this.createCalendar();\n
\n
            // Bind events\n
            this.bindEvents();\n
\n
            // Parse initial value\n
            if (this.input.value) {\n
                this.selectedDate = this.parseDate(this.input.value);\n
                if (this.selectedDate) {\n
                    this.currentDate = new Date(this.selectedDate);\n
                }\n
            }\n
\n
            // Inline mode\n
            if (this.options.inline) {\n
                this.show();\n
            }\n
        }\n
\n
        createCalendar() {\n
            this.calendar = document.createElement('div');\n
            this.calendar.className = 'datepicker-calendar' + (this.options.rtl ? ' rtl' : '');\n
            this.calendar.style.display = 'none';\n
\n
            if (this.options.inline) {\n
                this.input.parentNode.insertBefore(this.calendar, this.input.nextSibling);\n
            } else {\n
                document.body.appendChild(this.calendar);\n
                this.calendar.style.position = 'absolute';\n
                this.calendar.style.zIndex = '9999';\n
            }\n
\n
            this.renderCalendar();\n
        }\n
\n
        renderCalendar() {\n
            const year = this.currentDate.getFullYear();\n
            const month = this.currentDate.getMonth();\n
\n
            let html = '<div class="datepicker-header">';\n
            html += '<button type="button" class="datepicker-prev" aria-label="Previous month">&lsaquo;</button>';\n
            html += '<span class="datepicker-title">' + this.options.locale.months[month] + ' ' + year + '</span>';\n
            html += '<button type="button" class="datepicker-next" aria-label="Next month">&rsaquo;</button>';\n
            html += '</div>';\n
\n
            html += '<div class="datepicker-weekdays">';\n
            for (let i = 0; i < 7; i++) {\n
                const day = (i + this.options.weekStart) % 7;\n
                html += '<span class="datepicker-weekday">' + this.options.locale.weekdaysMin[day] + '</span>';\n
            }\n
            html += '</div>';\n
\n
            html += '<div class="datepicker-days">';\n
            html += this.renderDays(year, month);\n
            html += '</div>';\n
\n
            if (this.options.showToday || this.options.showClear) {\n
                html += '<div class="datepicker-footer">';\n
                if (this.options.showToday) {\n
                    html += '<button type="button" class="datepicker-today">' + this.options.locale.today + '</button>';\n
                }\n
                if (this.options.showClear) {\n
                    html += '<button type="button" class="datepicker-clear">' + this.options.locale.clear + '</button>';\n
                }\n
                html += '</div>';\n
            }\n
\n
            this.calendar.innerHTML = html;\n
        }\n
\n
        renderDays(year, month) {\n
            const firstDay = new Date(year, month, 1);\n
            const lastDay = new Date(year, month + 1, 0);\n
            const prevLastDay = new Date(year, month, 0);\n
\n
            const firstDayOfWeek = (firstDay.getDay() - this.options.weekStart + 7) % 7;\n
            const daysInMonth = lastDay.getDate();\n
            const daysInPrevMonth = prevLastDay.getDate();\n
\n
            let html = '';\n
\n
            // Previous month days\n
            for (let i = firstDayOfWeek - 1; i >= 0; i--) {\n
                const day = daysInPrevMonth - i;\n
                html += '<button type="button" class="datepicker-day datepicker-day-other" data-date="' +\n
                    year + '-' + (month) + '-' + day + '">' + day + '</button>';\n
            }\n
\n
            // Current month days\n
            for (let day = 1; day <= daysInMonth; day++) {\n
                const date = new Date(year, month, day);\n
                const dateStr = this.formatDate(date, 'yyyy-mm-dd');\n
                const isDisabled = this.isDateDisabled(date);\n
                const isSelected = this.selectedDate && this.isSameDay(date, this.selectedDate);\n
                const isToday = this.isSameDay(date, new Date());\n
\n
                let classes = 'datepicker-day';\n
                if (isSelected) classes += ' datepicker-day-selected';\n
                if (isToday) classes += ' datepicker-day-today';\n
                if (isDisabled) classes += ' datepicker-day-disabled';\n
\n
                html += '<button type="button" class="' + classes + '" data-date="' + dateStr + '" ' +\n
                    (isDisabled ? 'disabled' : '') + '>' + day + '</button>';\n
            }\n
\n
            // Next month days to fill grid\n
            const totalCells = Math.ceil((firstDayOfWeek + daysInMonth) / 7) * 7;\n
            const remainingCells = totalCells - (firstDayOfWeek + daysInMonth);\n
            for (let day = 1; day <= remainingCells; day++) {\n
                html += '<button type="button" class="datepicker-day datepicker-day-other" data-date="' +\n
                    year + '-' + (month + 2) + '-' + day + '">' + day + '</button>';\n
            }\n
\n
            return html;\n
        }\n
\n
        bindEvents() {\n
            // Input click\n
            this.input.addEventListener('click', (e) => {\n
                if (!this.options.inline) {\n
                    this.toggle();\n
                }\n
            });\n
\n
            // Calendar click delegation\n
            this.calendar.addEventListener('click', (e) => {\n
                const target = e.target;\n
\n
                if (target.classList.contains('datepicker-prev')) {\n
                    this.previousMonth();\n
                } else if (target.classList.contains('datepicker-next')) {\n
                    this.nextMonth();\n
                } else if (target.classList.contains('datepicker-day') && !target.disabled) {\n
                    this.selectDate(target.dataset.date);\n
                } else if (target.classList.contains('datepicker-today')) {\n
                    this.selectToday();\n
                } else if (target.classList.contains('datepicker-clear')) {\n
                    this.clear();\n
                }\n
            });\n
\n
            // Close on outside click\n
            if (!this.options.inline) {\n
                document.addEventListener('click', (e) => {\n
                    if (this.isOpen && !this.calendar.contains(e.target) && e.target !== this.input) {\n
                        this.hide();\n
                    }\n
                });\n
            }\n
\n
            // Keyboard navigation\n
            this.input.addEventListener('keydown', (e) => {\n
                if (e.key === 'Escape' && this.isOpen) {\n
                    this.hide();\n
                }\n
            });\n
        }\n
\n
        show() {\n
            if (this.isOpen) return;\n
\n
            this.isOpen = true;\n
            this.calendar.style.display = 'block';\n
\n
            if (!this.options.inline) {\n
                this.position();\n
            }\n
\n
            this.dispatchEvent('open');\n
        }\n
\n
        hide() {\n
            if (!this.isOpen || this.options.inline) return;\n
\n
            this.isOpen = false;\n
            this.calendar.style.display = 'none';\n
            this.dispatchEvent('close');\n
        }\n
\n
        toggle() {\n
            if (this.isOpen) {\n
                this.hide();\n
            } else {\n
                this.show();\n
            }\n
        }\n
\n
        position() {\n
            const rect = this.input.getBoundingClientRect();\n
            const calendarRect = this.calendar.getBoundingClientRect();\n
\n
            let top, left;\n
\n
            if (this.options.position.includes('bottom')) {\n
                top = rect.bottom + window.scrollY + 4;\n
            } else {\n
                top = rect.top + window.scrollY - calendarRect.height - 4;\n
            }\n
\n
            if (this.options.position.includes('right')) {\n
                left = rect.right + window.scrollX - calendarRect.width;\n
            } else {\n
                left = rect.left + window.scrollX;\n
            }\n
\n
            this.calendar.style.top = top + 'px';\n
            this.calendar.style.left = left + 'px';\n
        }\n
\n
        previousMonth() {\n
            this.currentDate.setMonth(this.currentDate.getMonth() - 1);\n
            this.renderCalendar();\n
        }\n
\n
        nextMonth() {\n
            this.currentDate.setMonth(this.currentDate.getMonth() + 1);\n
            this.renderCalendar();\n
        }\n
\n
        selectDate(dateStr) {\n
            this.selectedDate = this.parseDate(dateStr);\n
            this.input.value = this.formatDate(this.selectedDate, this.options.format);\n
            this.renderCalendar();\n
\n
            if (!this.options.inline) {\n
                this.hide();\n
            }\n
\n
            this.dispatchEvent('change', { date: this.selectedDate, value: this.input.value });\n
\n
            // Trigger native change event\n
            const event = new Event('change', { bubbles: true });\n
            this.input.dispatchEvent(event);\n
        }\n
\n
        selectToday() {\n
            this.selectDate(this.formatDate(new Date(), 'yyyy-mm-dd'));\n
        }\n
\n
        clear() {\n
            this.selectedDate = null;\n
            this.input.value = '';\n
            this.renderCalendar();\n
            this.dispatchEvent('clear');\n
\n
            const event = new Event('change', { bubbles: true });\n
            this.input.dispatchEvent(event);\n
        }\n
\n
        isDateDisabled(date) {\n
            // Check min date\n
            if (this.options.minDate) {\n
                const minDate = this.parseDate(this.options.minDate);\n
                if (date < minDate) return true;\n
            }\n
\n
            // Check max date\n
            if (this.options.maxDate) {\n
                const maxDate = this.parseDate(this.options.maxDate);\n
                if (date > maxDate) return true;\n
            }\n
\n
            // Check disabled dates\n
            const dateStr = this.formatDate(date, 'yyyy-mm-dd');\n
            if (this.options.disabledDates.includes(dateStr)) {\n
                return true;\n
            }\n
\n
            return false;\n
        }\n
\n
        isSameDay(date1, date2) {\n
            return date1.getFullYear() === date2.getFullYear() &&\n
                   date1.getMonth() === date2.getMonth() &&\n
                   date1.getDate() === date2.getDate();\n
        }\n
\n
        parseDate(dateStr) {\n
            if (!dateStr) return null;\n
\n
            // Parse yyyy-mm-dd format\n
            const parts = dateStr.split('-');\n
            if (parts.length === 3) {\n
                return new Date(parseInt(parts[0]), parseInt(parts[1]) - 1, parseInt(parts[2]));\n
            }\n
\n
            return new Date(dateStr);\n
        }\n
\n
        formatDate(date, format) {\n
            if (!date) return '';\n
\n
            const year = date.getFullYear();\n
            const month = String(date.getMonth() + 1).padStart(2, '0');\n
            const day = String(date.getDate()).padStart(2, '0');\n
\n
            return format\n
                .replace('yyyy', year)\n
                .replace('mm', month)\n
                .replace('dd', day);\n
        }\n
\n
        dispatchEvent(eventName, detail = {}) {\n
            const event = new CustomEvent('datepicker:' + eventName, {\n
                detail: detail,\n
                bubbles: true\n
            });\n
            this.input.dispatchEvent(event);\n
        }\n
\n
        destroy() {\n
            this.calendar.remove();\n
            // Remove event listeners would go here\n
        }\n
    }\n
\n
    // Initialize DatePicker\n
    const picker = new DatePicker(input, config);\n
\n
    // Store instance globally for API access\n
    window.DatePicker_date-input = picker;\n
\n
    // Add default styles if not already added\n
    if (!document.getElementById('datepicker-styles')) {\n
        const style = document.createElement('style');\n
        style.id = 'datepicker-styles';\n
        style.textContent = `\n
            .datepicker-calendar {\n
                background: #fff;\n
                border: 1px solid #ddd;\n
                border-radius: 4px;\n
                box-shadow: 0 2px 8px rgba(0,0,0,0.15);\n
                padding: 8px;\n
                min-width: 280px;\n
                font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;\n
            }\n
            .datepicker-header {\n
                display: flex;\n
                justify-content: space-between;\n
                align-items: center;\n
                margin-bottom: 8px;\n
            }\n
            .datepicker-prev,\n
            .datepicker-next {\n
                background: none;\n
                border: none;\n
                font-size: 20px;\n
                cursor: pointer;\n
                padding: 4px 8px;\n
                color: #666;\n
            }\n
            .datepicker-prev:hover,\n
            .datepicker-next:hover {\n
                background: #f0f0f0;\n
                border-radius: 4px;\n
            }\n
            .datepicker-title {\n
                font-weight: 600;\n
                font-size: 14px;\n
            }\n
            .datepicker-weekdays {\n
                display: grid;\n
                grid-template-columns: repeat(7, 1fr);\n
                gap: 4px;\n
                margin-bottom: 4px;\n
            }\n
            .datepicker-weekday {\n
                text-align: center;\n
                font-size: 12px;\n
                font-weight: 600;\n
                color: #666;\n
                padding: 4px;\n
            }\n
            .datepicker-days {\n
                display: grid;\n
                grid-template-columns: repeat(7, 1fr);\n
                gap: 4px;\n
            }\n
            .datepicker-day {\n
                border: none;\n
                background: none;\n
                padding: 8px;\n
                text-align: center;\n
                cursor: pointer;\n
                border-radius: 4px;\n
                font-size: 13px;\n
            }\n
            .datepicker-day:hover:not(:disabled) {\n
                background: #f0f0f0;\n
            }\n
            .datepicker-day-today {\n
                font-weight: 700;\n
                color: #0d6efd;\n
            }\n
            .datepicker-day-selected {\n
                background: #0d6efd;\n
                color: #fff;\n
            }\n
            .datepicker-day-selected:hover {\n
                background: #0b5ed7;\n
            }\n
            .datepicker-day-other {\n
                color: #ccc;\n
            }\n
            .datepicker-day-disabled {\n
                color: #ccc;\n
                cursor: not-allowed;\n
            }\n
            .datepicker-footer {\n
                display: flex;\n
                justify-content: space-between;\n
                margin-top: 8px;\n
                padding-top: 8px;\n
                border-top: 1px solid #eee;\n
            }\n
            .datepicker-today,\n
            .datepicker-clear {\n
                background: none;\n
                border: 1px solid #ddd;\n
                padding: 4px 12px;\n
                border-radius: 4px;\n
                font-size: 12px;\n
                cursor: pointer;\n
            }\n
            .datepicker-today:hover,\n
            .datepicker-clear:hover {\n
                background: #f0f0f0;\n
            }\n
            /* RTL Support */\n
            .datepicker-calendar.rtl {\n
                direction: rtl;\n
            }\n
            .datepicker-calendar.rtl .datepicker-header {\n
                flex-direction: row-reverse;\n
            }\n
        `;\n
        document.head.appendChild(style);\n
    }\n
})();\n
</script>' [ASCII](length: 16734) contains "dd/mm/yyyy" [ASCII](length: 10).

/home/user/SpiderForm/tests/Unit/Builder/DatePickerManagerTest.php:267

5) SpiderForm\Tests\Unit\Builder\DatePickerManagerTest::it_generates_script_with_turkish_locale
Failed asserting that '<script>\n
(function() {\n
    'use strict';\n
\n
    const config = {"format":"yyyy-mm-dd","locale":{"months":["Ocak","\u015eubat","Mart","Nisan","May\u0131s","Haziran","Temmuz","A\u011fustos","Eyl\u00fcl","Ekim","Kas\u0131m","Aral\u0131k"],"monthsShort":["Oca","\u015eub","Mar","Nis","May","Haz","Tem","A\u011fu","Eyl","Eki","Kas","Ara"],"weekdays":["Pazar","Pazartesi","Sal\u0131","\u00c7ar\u015famba","Per\u015fembe","Cuma","Cumartesi"],"weekdaysShort":["Paz","Pzt","Sal","\u00c7ar","Per","Cum","Cmt"],"weekdaysMin":["Pz","Pt","Sa","\u00c7a","Pe","Cu","Ct"],"today":"Bug\u00fcn","clear":"Temizle","close":"Kapat"},"minDate":null,"maxDate":null,"disabledDates":[],"weekStart":0,"showToday":true,"showClear":true,"inline":false,"position":"bottom-left","rtl":false};\n
    const input = document.getElementById('date-input');\n
\n
    if (!input) {\n
        console.error('DatePicker: Input element not found:', 'date-input');\n
        return;\n
    }\n
\n
    // Create DatePicker class\n
    class DatePicker {\n
        constructor(inputElement, options) {\n
            this.input = inputElement;\n
            this.options = options;\n
            this.currentDate = new Date();\n
            this.selectedDate = null;\n
            this.isOpen = false;\n
            this.calendar = null;\n
\n
            this.init();\n
        }\n
\n
        init() {\n
            // Set input as readonly to prevent manual entry (optional)\n
            this.input.setAttribute('autocomplete', 'off');\n
\n
            // Apply RTL if needed\n
            if (this.options.rtl) {\n
                this.input.setAttribute('dir', 'rtl');\n
            }\n
\n
            // Create calendar element\n
            this.createCalendar();\n
\n
            // Bind events\n
            this.bindEvents();\n
\n
            // Parse initial value\n
            if (this.input.value) {\n
                this.selectedDate = this.parseDate(this.input.value);\n
                if (this.selectedDate) {\n
                    this.currentDate = new Date(this.selectedDate);\n
                }\n
            }\n
\n
            // Inline mode\n
            if (this.options.inline) {\n
                this.show();\n
            }\n
        }\n
\n
        createCalendar() {\n
            this.calendar = document.createElement('div');\n
            this.calendar.className = 'datepicker-calendar' + (this.options.rtl ? ' rtl' : '');\n
            this.calendar.style.display = 'none';\n
\n
            if (this.options.inline) {\n
                this.input.parentNode.insertBefore(this.calendar, this.input.nextSibling);\n
            } else {\n
                document.body.appendChild(this.calendar);\n
                this.calendar.style.position = 'absolute';\n
                this.calendar.style.zIndex = '9999';\n
            }\n
\n
            this.renderCalendar();\n
        }\n
\n
        renderCalendar() {\n
            const year = this.currentDate.getFullYear();\n
            const month = this.currentDate.getMonth();\n
\n
            let html = '<div class="datepicker-header">';\n
            html += '<button type="button" class="datepicker-prev" aria-label="Previous month">&lsaquo;</button>';\n
            html += '<span class="datepicker-title">' + this.options.locale.months[month] + ' ' + year + '</span>';\n
            html += '<button type="button" class="datepicker-next" aria-label="Next month">&rsaquo;</button>';\n
            html += '</div>';\n
\n
            html += '<div class="datepicker-weekdays">';\n
            for (let i = 0; i < 7; i++) {\n
                const day = (i + this.options.weekStart) % 7;\n
                html += '<span class="datepicker-weekday">' + this.options.locale.weekdaysMin[day] + '</span>';\n
            }\n
            html += '</div>';\n
\n
            html += '<div class="datepicker-days">';\n
            html += this.renderDays(year, month);\n
            html += '</div>';\n
\n
            if (this.options.showToday || this.options.showClear) {\n
                html += '<div class="datepicker-footer">';\n
                if (this.options.showToday) {\n
                    html += '<button type="button" class="datepicker-today">' + this.options.locale.today + '</button>';\n
                }\n
                if (this.options.showClear) {\n
                    html += '<button type="button" class="datepicker-clear">' + this.options.locale.clear + '</button>';\n
                }\n
                html += '</div>';\n
            }\n
\n
            this.calendar.innerHTML = html;\n
        }\n
\n
        renderDays(year, month) {\n
            const firstDay = new Date(year, month, 1);\n
            const lastDay = new Date(year, month + 1, 0);\n
            const prevLastDay = new Date(year, month, 0);\n
\n
            const firstDayOfWeek = (firstDay.getDay() - this.options.weekStart + 7) % 7;\n
            const daysInMonth = lastDay.getDate();\n
            const daysInPrevMonth = prevLastDay.getDate();\n
\n
            let html = '';\n
\n
            // Previous month days\n
            for (let i = firstDayOfWeek - 1; i >= 0; i--) {\n
                const day = daysInPrevMonth - i;\n
                html += '<button type="button" class="datepicker-day datepicker-day-other" data-date="' +\n
                    year + '-' + (month) + '-' + day + '">' + day + '</button>';\n
            }\n
\n
            // Current month days\n
            for (let day = 1; day <= daysInMonth; day++) {\n
                const date = new Date(year, month, day);\n
                const dateStr = this.formatDate(date, 'yyyy-mm-dd');\n
                const isDisabled = this.isDateDisabled(date);\n
                const isSelected = this.selectedDate && this.isSameDay(date, this.selectedDate);\n
                const isToday = this.isSameDay(date, new Date());\n
\n
                let classes = 'datepicker-day';\n
                if (isSelected) classes += ' datepicker-day-selected';\n
                if (isToday) classes += ' datepicker-day-today';\n
                if (isDisabled) classes += ' datepicker-day-disabled';\n
\n
                html += '<button type="button" class="' + classes + '" data-date="' + dateStr + '" ' +\n
                    (isDisabled ? 'disabled' : '') + '>' + day + '</button>';\n
            }\n
\n
            // Next month days to fill grid\n
            const totalCells = Math.ceil((firstDayOfWeek + daysInMonth) / 7) * 7;\n
            const remainingCells = totalCells - (firstDayOfWeek + daysInMonth);\n
            for (let day = 1; day <= remainingCells; day++) {\n
                html += '<button type="button" class="datepicker-day datepicker-day-other" data-date="' +\n
                    year + '-' + (month + 2) + '-' + day + '">' + day + '</button>';\n
            }\n
\n
            return html;\n
        }\n
\n
        bindEvents() {\n
            // Input click\n
            this.input.addEventListener('click', (e) => {\n
                if (!this.options.inline) {\n
                    this.toggle();\n
                }\n
            });\n
\n
            // Calendar click delegation\n
            this.calendar.addEventListener('click', (e) => {\n
                const target = e.target;\n
\n
                if (target.classList.contains('datepicker-prev')) {\n
                    this.previousMonth();\n
                } else if (target.classList.contains('datepicker-next')) {\n
                    this.nextMonth();\n
                } else if (target.classList.contains('datepicker-day') && !target.disabled) {\n
                    this.selectDate(target.dataset.date);\n
                } else if (target.classList.contains('datepicker-today')) {\n
                    this.selectToday();\n
                } else if (target.classList.contains('datepicker-clear')) {\n
                    this.clear();\n
                }\n
            });\n
\n
            // Close on outside click\n
            if (!this.options.inline) {\n
                document.addEventListener('click', (e) => {\n
                    if (this.isOpen && !this.calendar.contains(e.target) && e.target !== this.input) {\n
                        this.hide();\n
                    }\n
                });\n
            }\n
\n
            // Keyboard navigation\n
            this.input.addEventListener('keydown', (e) => {\n
                if (e.key === 'Escape' && this.isOpen) {\n
                    this.hide();\n
                }\n
            });\n
        }\n
\n
        show() {\n
            if (this.isOpen) return;\n
\n
            this.isOpen = true;\n
            this.calendar.style.display = 'block';\n
\n
            if (!this.options.inline) {\n
                this.position();\n
            }\n
\n
            this.dispatchEvent('open');\n
        }\n
\n
        hide() {\n
            if (!this.isOpen || this.options.inline) return;\n
\n
            this.isOpen = false;\n
            this.calendar.style.display = 'none';\n
            this.dispatchEvent('close');\n
        }\n
\n
        toggle() {\n
            if (this.isOpen) {\n
                this.hide();\n
            } else {\n
                this.show();\n
            }\n
        }\n
\n
        position() {\n
            const rect = this.input.getBoundingClientRect();\n
            const calendarRect = this.calendar.getBoundingClientRect();\n
\n
            let top, left;\n
\n
            if (this.options.position.includes('bottom')) {\n
                top = rect.bottom + window.scrollY + 4;\n
            } else {\n
                top = rect.top + window.scrollY - calendarRect.height - 4;\n
            }\n
\n
            if (this.options.position.includes('right')) {\n
                left = rect.right + window.scrollX - calendarRect.width;\n
            } else {\n
                left = rect.left + window.scrollX;\n
            }\n
\n
            this.calendar.style.top = top + 'px';\n
            this.calendar.style.left = left + 'px';\n
        }\n
\n
        previousMonth() {\n
            this.currentDate.setMonth(this.currentDate.getMonth() - 1);\n
            this.renderCalendar();\n
        }\n
\n
        nextMonth() {\n
            this.currentDate.setMonth(this.currentDate.getMonth() + 1);\n
            this.renderCalendar();\n
        }\n
\n
        selectDate(dateStr) {\n
            this.selectedDate = this.parseDate(dateStr);\n
            this.input.value = this.formatDate(this.selectedDate, this.options.format);\n
            this.renderCalendar();\n
\n
            if (!this.options.inline) {\n
                this.hide();\n
            }\n
\n
            this.dispatchEvent('change', { date: this.selectedDate, value: this.input.value });\n
\n
            // Trigger native change event\n
            const event = new Event('change', { bubbles: true });\n
            this.input.dispatchEvent(event);\n
        }\n
\n
        selectToday() {\n
            this.selectDate(this.formatDate(new Date(), 'yyyy-mm-dd'));\n
        }\n
\n
        clear() {\n
            this.selectedDate = null;\n
            this.input.value = '';\n
            this.renderCalendar();\n
            this.dispatchEvent('clear');\n
\n
            const event = new Event('change', { bubbles: true });\n
            this.input.dispatchEvent(event);\n
        }\n
\n
        isDateDisabled(date) {\n
            // Check min date\n
            if (this.options.minDate) {\n
                const minDate = this.parseDate(this.options.minDate);\n
                if (date < minDate) return true;\n
            }\n
\n
            // Check max date\n
            if (this.options.maxDate) {\n
                const maxDate = this.parseDate(this.options.maxDate);\n
                if (date > maxDate) return true;\n
            }\n
\n
            // Check disabled dates\n
            const dateStr = this.formatDate(date, 'yyyy-mm-dd');\n
            if (this.options.disabledDates.includes(dateStr)) {\n
                return true;\n
            }\n
\n
            return false;\n
        }\n
\n
        isSameDay(date1, date2) {\n
            return date1.getFullYear() === date2.getFullYear() &&\n
                   date1.getMonth() === date2.getMonth() &&\n
                   date1.getDate() === date2.getDate();\n
        }\n
\n
        parseDate(dateStr) {\n
            if (!dateStr) return null;\n
\n
            // Parse yyyy-mm-dd format\n
            const parts = dateStr.split('-');\n
            if (parts.length === 3) {\n
                return new Date(parseInt(parts[0]), parseInt(parts[1]) - 1, parseInt(parts[2]));\n
            }\n
\n
            return new Date(dateStr);\n
        }\n
\n
        formatDate(date, format) {\n
            if (!date) return '';\n
\n
            const year = date.getFullYear();\n
            const month = String(date.getMonth() + 1).padStart(2, '0');\n
            const day = String(date.getDate()).padStart(2, '0');\n
\n
            return format\n
                .replace('yyyy', year)\n
                .replace('mm', month)\n
                .replace('dd', day);\n
        }\n
\n
        dispatchEvent(eventName, detail = {}) {\n
            const event = new CustomEvent('datepicker:' + eventName, {\n
                detail: detail,\n
                bubbles: true\n
            });\n
            this.input.dispatchEvent(event);\n
        }\n
\n
        destroy() {\n
            this.calendar.remove();\n
            // Remove event listeners would go here\n
        }\n
    }\n
\n
    // Initialize DatePicker\n
    const picker = new DatePicker(input, config);\n
\n
    // Store instance globally for API access\n
    window.DatePicker_date-input = picker;\n
\n
    // Add default styles if not already added\n
    if (!document.getElementById('datepicker-styles')) {\n
        const style = document.createElement('style');\n
        style.id = 'datepicker-styles';\n
        style.textContent = `\n
            .datepicker-calendar {\n
                background: #fff;\n
                border: 1px solid #ddd;\n
                border-radius: 4px;\n
                box-shadow: 0 2px 8px rgba(0,0,0,0.15);\n
                padding: 8px;\n
                min-width: 280px;\n
                font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;\n
            }\n
            .datepicker-header {\n
                display: flex;\n
                justify-content: space-between;\n
                align-items: center;\n
                margin-bottom: 8px;\n
            }\n
            .datepicker-prev,\n
            .datepicker-next {\n
                background: none;\n
                border: none;\n
                font-size: 20px;\n
                cursor: pointer;\n
                padding: 4px 8px;\n
                color: #666;\n
            }\n
            .datepicker-prev:hover,\n
            .datepicker-next:hover {\n
                background: #f0f0f0;\n
                border-radius: 4px;\n
            }\n
            .datepicker-title {\n
                font-weight: 600;\n
                font-size: 14px;\n
            }\n
            .datepicker-weekdays {\n
                display: grid;\n
                grid-template-columns: repeat(7, 1fr);\n
                gap: 4px;\n
                margin-bottom: 4px;\n
            }\n
            .datepicker-weekday {\n
                text-align: center;\n
                font-size: 12px;\n
                font-weight: 600;\n
                color: #666;\n
                padding: 4px;\n
            }\n
            .datepicker-days {\n
                display: grid;\n
                grid-template-columns: repeat(7, 1fr);\n
                gap: 4px;\n
            }\n
            .datepicker-day {\n
                border: none;\n
                background: none;\n
                padding: 8px;\n
                text-align: center;\n
                cursor: pointer;\n
                border-radius: 4px;\n
                font-size: 13px;\n
            }\n
            .datepicker-day:hover:not(:disabled) {\n
                background: #f0f0f0;\n
            }\n
            .datepicker-day-today {\n
                font-weight: 700;\n
                color: #0d6efd;\n
            }\n
            .datepicker-day-selected {\n
                background: #0d6efd;\n
                color: #fff;\n
            }\n
            .datepicker-day-selected:hover {\n
                background: #0b5ed7;\n
            }\n
            .datepicker-day-other {\n
                color: #ccc;\n
            }\n
            .datepicker-day-disabled {\n
                color: #ccc;\n
                cursor: not-allowed;\n
            }\n
            .datepicker-footer {\n
                display: flex;\n
                justify-content: space-between;\n
                margin-top: 8px;\n
                padding-top: 8px;\n
                border-top: 1px solid #eee;\n
            }\n
            .datepicker-today,\n
            .datepicker-clear {\n
                background: none;\n
                border: 1px solid #ddd;\n
                padding: 4px 12px;\n
                border-radius: 4px;\n
                font-size: 12px;\n
                cursor: pointer;\n
            }\n
            .datepicker-today:hover,\n
            .datepicker-clear:hover {\n
                background: #f0f0f0;\n
            }\n
            /* RTL Support */\n
            .datepicker-calendar.rtl {\n
                direction: rtl;\n
            }\n
            .datepicker-calendar.rtl .datepicker-header {\n
                flex-direction: row-reverse;\n
            }\n
        `;\n
        document.head.appendChild(style);\n
    }\n
})();\n
</script>' [ASCII](length: 16732) contains "Şubat" [UTF-8](length: 6).

/home/user/SpiderForm/tests/Unit/Builder/DatePickerManagerTest.php:118

6) SpiderForm\Tests\Unit\Builder\DatePickerManagerTest::it_includes_css_styles_in_script
Failed asserting that '<script>\n
(function() {\n
    'use strict';\n
\n
    const config = {"format":"yyyy-mm-dd","locale":{"months":["January","February","March","April","May","June","July","August","September","October","November","December"],"monthsShort":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"weekdays":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],"weekdaysShort":["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],"weekdaysMin":["Su","Mo","Tu","We","Th","Fr","Sa"],"today":"Today","clear":"Clear","close":"Close"},"minDate":null,"maxDate":null,"disabledDates":[],"weekStart":0,"showToday":true,"showClear":true,"inline":false,"position":"bottom-left","rtl":false};\n
    const input = document.getElementById('date-input');\n
\n
    if (!input) {\n
        console.error('DatePicker: Input element not found:', 'date-input');\n
        return;\n
    }\n
\n
    // Create DatePicker class\n
    class DatePicker {\n
        constructor(inputElement, options) {\n
            this.input = inputElement;\n
            this.options = options;\n
            this.currentDate = new Date();\n
            this.selectedDate = null;\n
            this.isOpen = false;\n
            this.calendar = null;\n
\n
            this.init();\n
        }\n
\n
        init() {\n
            // Set input as readonly to prevent manual entry (optional)\n
            this.input.setAttribute('autocomplete', 'off');\n
\n
            // Apply RTL if needed\n
            if (this.options.rtl) {\n
                this.input.setAttribute('dir', 'rtl');\n
            }\n
\n
            // Create calendar element\n
            this.createCalendar();\n
\n
            // Bind events\n
            this.bindEvents();\n
\n
            // Parse initial value\n
            if (this.input.value) {\n
                this.selectedDate = this.parseDate(this.input.value);\n
                if (this.selectedDate) {\n
                    this.currentDate = new Date(this.selectedDate);\n
                }\n
            }\n
\n
            // Inline mode\n
            if (this.options.inline) {\n
                this.show();\n
            }\n
        }\n
\n
        createCalendar() {\n
            this.calendar = document.createElement('div');\n
            this.calendar.className = 'datepicker-calendar' + (this.options.rtl ? ' rtl' : '');\n
            this.calendar.style.display = 'none';\n
\n
            if (this.options.inline) {\n
                this.input.parentNode.insertBefore(this.calendar, this.input.nextSibling);\n
            } else {\n
                document.body.appendChild(this.calendar);\n
                this.calendar.style.position = 'absolute';\n
                this.calendar.style.zIndex = '9999';\n
            }\n
\n
            this.renderCalendar();\n
        }\n
\n
        renderCalendar() {\n
            const year = this.currentDate.getFullYear();\n
            const month = this.currentDate.getMonth();\n
\n
            let html = '<div class="datepicker-header">';\n
            html += '<button type="button" class="datepicker-prev" aria-label="Previous month">&lsaquo;</button>';\n
            html += '<span class="datepicker-title">' + this.options.locale.months[month] + ' ' + year + '</span>';\n
            html += '<button type="button" class="datepicker-next" aria-label="Next month">&rsaquo;</button>';\n
            html += '</div>';\n
\n
            html += '<div class="datepicker-weekdays">';\n
            for (let i = 0; i < 7; i++) {\n
                const day = (i + this.options.weekStart) % 7;\n
                html += '<span class="datepicker-weekday">' + this.options.locale.weekdaysMin[day] + '</span>';\n
            }\n
            html += '</div>';\n
\n
            html += '<div class="datepicker-days">';\n
            html += this.renderDays(year, month);\n
            html += '</div>';\n
\n
            if (this.options.showToday || this.options.showClear) {\n
                html += '<div class="datepicker-footer">';\n
                if (this.options.showToday) {\n
                    html += '<button type="button" class="datepicker-today">' + this.options.locale.today + '</button>';\n
                }\n
                if (this.options.showClear) {\n
                    html += '<button type="button" class="datepicker-clear">' + this.options.locale.clear + '</button>';\n
                }\n
                html += '</div>';\n
            }\n
\n
            this.calendar.innerHTML = html;\n
        }\n
\n
        renderDays(year, month) {\n
            const firstDay = new Date(year, month, 1);\n
            const lastDay = new Date(year, month + 1, 0);\n
            const prevLastDay = new Date(year, month, 0);\n
\n
            const firstDayOfWeek = (firstDay.getDay() - this.options.weekStart + 7) % 7;\n
            const daysInMonth = lastDay.getDate();\n
            const daysInPrevMonth = prevLastDay.getDate();\n
\n
            let html = '';\n
\n
            // Previous month days\n
            for (let i = firstDayOfWeek - 1; i >= 0; i--) {\n
                const day = daysInPrevMonth - i;\n
                html += '<button type="button" class="datepicker-day datepicker-day-other" data-date="' +\n
                    year + '-' + (month) + '-' + day + '">' + day + '</button>';\n
            }\n
\n
            // Current month days\n
            for (let day = 1; day <= daysInMonth; day++) {\n
                const date = new Date(year, month, day);\n
                const dateStr = this.formatDate(date, 'yyyy-mm-dd');\n
                const isDisabled = this.isDateDisabled(date);\n
                const isSelected = this.selectedDate && this.isSameDay(date, this.selectedDate);\n
                const isToday = this.isSameDay(date, new Date());\n
\n
                let classes = 'datepicker-day';\n
                if (isSelected) classes += ' datepicker-day-selected';\n
                if (isToday) classes += ' datepicker-day-today';\n
                if (isDisabled) classes += ' datepicker-day-disabled';\n
\n
                html += '<button type="button" class="' + classes + '" data-date="' + dateStr + '" ' +\n
                    (isDisabled ? 'disabled' : '') + '>' + day + '</button>';\n
            }\n
\n
            // Next month days to fill grid\n
            const totalCells = Math.ceil((firstDayOfWeek + daysInMonth) / 7) * 7;\n
            const remainingCells = totalCells - (firstDayOfWeek + daysInMonth);\n
            for (let day = 1; day <= remainingCells; day++) {\n
                html += '<button type="button" class="datepicker-day datepicker-day-other" data-date="' +\n
                    year + '-' + (month + 2) + '-' + day + '">' + day + '</button>';\n
            }\n
\n
            return html;\n
        }\n
\n
        bindEvents() {\n
            // Input click\n
            this.input.addEventListener('click', (e) => {\n
                if (!this.options.inline) {\n
                    this.toggle();\n
                }\n
            });\n
\n
            // Calendar click delegation\n
            this.calendar.addEventListener('click', (e) => {\n
                const target = e.target;\n
\n
                if (target.classList.contains('datepicker-prev')) {\n
                    this.previousMonth();\n
                } else if (target.classList.contains('datepicker-next')) {\n
                    this.nextMonth();\n
                } else if (target.classList.contains('datepicker-day') && !target.disabled) {\n
                    this.selectDate(target.dataset.date);\n
                } else if (target.classList.contains('datepicker-today')) {\n
                    this.selectToday();\n
                } else if (target.classList.contains('datepicker-clear')) {\n
                    this.clear();\n
                }\n
            });\n
\n
            // Close on outside click\n
            if (!this.options.inline) {\n
                document.addEventListener('click', (e) => {\n
                    if (this.isOpen && !this.calendar.contains(e.target) && e.target !== this.input) {\n
                        this.hide();\n
                    }\n
                });\n
            }\n
\n
            // Keyboard navigation\n
            this.input.addEventListener('keydown', (e) => {\n
                if (e.key === 'Escape' && this.isOpen) {\n
                    this.hide();\n
                }\n
            });\n
        }\n
\n
        show() {\n
            if (this.isOpen) return;\n
\n
            this.isOpen = true;\n
            this.calendar.style.display = 'block';\n
\n
            if (!this.options.inline) {\n
                this.position();\n
            }\n
\n
            this.dispatchEvent('open');\n
        }\n
\n
        hide() {\n
            if (!this.isOpen || this.options.inline) return;\n
\n
            this.isOpen = false;\n
            this.calendar.style.display = 'none';\n
            this.dispatchEvent('close');\n
        }\n
\n
        toggle() {\n
            if (this.isOpen) {\n
                this.hide();\n
            } else {\n
                this.show();\n
            }\n
        }\n
\n
        position() {\n
            const rect = this.input.getBoundingClientRect();\n
            const calendarRect = this.calendar.getBoundingClientRect();\n
\n
            let top, left;\n
\n
            if (this.options.position.includes('bottom')) {\n
                top = rect.bottom + window.scrollY + 4;\n
            } else {\n
                top = rect.top + window.scrollY - calendarRect.height - 4;\n
            }\n
\n
            if (this.options.position.includes('right')) {\n
                left = rect.right + window.scrollX - calendarRect.width;\n
            } else {\n
                left = rect.left + window.scrollX;\n
            }\n
\n
            this.calendar.style.top = top + 'px';\n
            this.calendar.style.left = left + 'px';\n
        }\n
\n
        previousMonth() {\n
            this.currentDate.setMonth(this.currentDate.getMonth() - 1);\n
            this.renderCalendar();\n
        }\n
\n
        nextMonth() {\n
            this.currentDate.setMonth(this.currentDate.getMonth() + 1);\n
            this.renderCalendar();\n
        }\n
\n
        selectDate(dateStr) {\n
            this.selectedDate = this.parseDate(dateStr);\n
            this.input.value = this.formatDate(this.selectedDate, this.options.format);\n
            this.renderCalendar();\n
\n
            if (!this.options.inline) {\n
                this.hide();\n
            }\n
\n
            this.dispatchEvent('change', { date: this.selectedDate, value: this.input.value });\n
\n
            // Trigger native change event\n
            const event = new Event('change', { bubbles: true });\n
            this.input.dispatchEvent(event);\n
        }\n
\n
        selectToday() {\n
            this.selectDate(this.formatDate(new Date(), 'yyyy-mm-dd'));\n
        }\n
\n
        clear() {\n
            this.selectedDate = null;\n
            this.input.value = '';\n
            this.renderCalendar();\n
            this.dispatchEvent('clear');\n
\n
            const event = new Event('change', { bubbles: true });\n
            this.input.dispatchEvent(event);\n
        }\n
\n
        isDateDisabled(date) {\n
            // Check min date\n
            if (this.options.minDate) {\n
                const minDate = this.parseDate(this.options.minDate);\n
                if (date < minDate) return true;\n
            }\n
\n
            // Check max date\n
            if (this.options.maxDate) {\n
                const maxDate = this.parseDate(this.options.maxDate);\n
                if (date > maxDate) return true;\n
            }\n
\n
            // Check disabled dates\n
            const dateStr = this.formatDate(date, 'yyyy-mm-dd');\n
            if (this.options.disabledDates.includes(dateStr)) {\n
                return true;\n
            }\n
\n
            return false;\n
        }\n
\n
        isSameDay(date1, date2) {\n
            return date1.getFullYear() === date2.getFullYear() &&\n
                   date1.getMonth() === date2.getMonth() &&\n
                   date1.getDate() === date2.getDate();\n
        }\n
\n
        parseDate(dateStr) {\n
            if (!dateStr) return null;\n
\n
            // Parse yyyy-mm-dd format\n
            const parts = dateStr.split('-');\n
            if (parts.length === 3) {\n
                return new Date(parseInt(parts[0]), parseInt(parts[1]) - 1, parseInt(parts[2]));\n
            }\n
\n
            return new Date(dateStr);\n
        }\n
\n
        formatDate(date, format) {\n
            if (!date) return '';\n
\n
            const year = date.getFullYear();\n
            const month = String(date.getMonth() + 1).padStart(2, '0');\n
            const day = String(date.getDate()).padStart(2, '0');\n
\n
            return format\n
                .replace('yyyy', year)\n
                .replace('mm', month)\n
                .replace('dd', day);\n
        }\n
\n
        dispatchEvent(eventName, detail = {}) {\n
            const event = new CustomEvent('datepicker:' + eventName, {\n
                detail: detail,\n
                bubbles: true\n
            });\n
            this.input.dispatchEvent(event);\n
        }\n
\n
        destroy() {\n
            this.calendar.remove();\n
            // Remove event listeners would go here\n
        }\n
    }\n
\n
    // Initialize DatePicker\n
    const picker = new DatePicker(input, config);\n
\n
    // Store instance globally for API access\n
    window.DatePicker_date-input = picker;\n
\n
    // Add default styles if not already added\n
    if (!document.getElementById('datepicker-styles')) {\n
        const style = document.createElement('style');\n
        style.id = 'datepicker-styles';\n
        style.textContent = `\n
            .datepicker-calendar {\n
                background: #fff;\n
                border: 1px solid #ddd;\n
                border-radius: 4px;\n
                box-shadow: 0 2px 8px rgba(0,0,0,0.15);\n
                padding: 8px;\n
                min-width: 280px;\n
                font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;\n
            }\n
            .datepicker-header {\n
                display: flex;\n
                justify-content: space-between;\n
                align-items: center;\n
                margin-bottom: 8px;\n
            }\n
            .datepicker-prev,\n
            .datepicker-next {\n
                background: none;\n
                border: none;\n
                font-size: 20px;\n
                cursor: pointer;\n
                padding: 4px 8px;\n
                color: #666;\n
            }\n
            .datepicker-prev:hover,\n
            .datepicker-next:hover {\n
                background: #f0f0f0;\n
                border-radius: 4px;\n
            }\n
            .datepicker-title {\n
                font-weight: 600;\n
                font-size: 14px;\n
            }\n
            .datepicker-weekdays {\n
                display: grid;\n
                grid-template-columns: repeat(7, 1fr);\n
                gap: 4px;\n
                margin-bottom: 4px;\n
            }\n
            .datepicker-weekday {\n
                text-align: center;\n
                font-size: 12px;\n
                font-weight: 600;\n
                color: #666;\n
                padding: 4px;\n
            }\n
            .datepicker-days {\n
                display: grid;\n
                grid-template-columns: repeat(7, 1fr);\n
                gap: 4px;\n
            }\n
            .datepicker-day {\n
                border: none;\n
                background: none;\n
                padding: 8px;\n
                text-align: center;\n
                cursor: pointer;\n
                border-radius: 4px;\n
                font-size: 13px;\n
            }\n
            .datepicker-day:hover:not(:disabled) {\n
                background: #f0f0f0;\n
            }\n
            .datepicker-day-today {\n
                font-weight: 700;\n
                color: #0d6efd;\n
            }\n
            .datepicker-day-selected {\n
                background: #0d6efd;\n
                color: #fff;\n
            }\n
            .datepicker-day-selected:hover {\n
                background: #0b5ed7;\n
            }\n
            .datepicker-day-other {\n
                color: #ccc;\n
            }\n
            .datepicker-day-disabled {\n
                color: #ccc;\n
                cursor: not-allowed;\n
            }\n
            .datepicker-footer {\n
                display: flex;\n
                justify-content: space-between;\n
                margin-top: 8px;\n
                padding-top: 8px;\n
                border-top: 1px solid #eee;\n
            }\n
            .datepicker-today,\n
            .datepicker-clear {\n
                background: none;\n
                border: 1px solid #ddd;\n
                padding: 4px 12px;\n
                border-radius: 4px;\n
                font-size: 12px;\n
                cursor: pointer;\n
            }\n
            .datepicker-today:hover,\n
            .datepicker-clear:hover {\n
                background: #f0f0f0;\n
            }\n
            /* RTL Support */\n
            .datepicker-calendar.rtl {\n
                direction: rtl;\n
            }\n
            .datepicker-calendar.rtl .datepicker-header {\n
                flex-direction: row-reverse;\n
            }\n
        `;\n
        document.head.appendChild(style);\n
    }\n
})();\n
</script>' [ASCII](length: 16669) contains "<style>" [ASCII](length: 7).

/home/user/SpiderForm/tests/Unit/Builder/DatePickerManagerTest.php:191

7) SpiderForm\Tests\Unit\Builder\DateTimePickerManagerTest::it_includes_css_styles_in_script
Failed asserting that '<script>\n
(function() {\n
    'use strict';\n
\n
    const config = {"format":"yyyy-mm-dd HH:MM","timeFormat":"24","locale":{"months":["January","February","March","April","May","June","July","August","September","October","November","December"],"monthsShort":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"weekdays":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],"weekdaysShort":["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],"weekdaysMin":["Su","Mo","Tu","We","Th","Fr","Sa"],"today":"Today","clear":"Clear","close":"Close","now":"Now","selectDate":"Select Date","selectTime":"Select Time","am":"AM","pm":"PM"},"minDateTime":null,"maxDateTime":null,"weekStart":0,"showSeconds":false,"showToday":true,"showClear":true,"inline":false,"position":"bottom-left","rtl":false};\n
    const input = document.getElementById('datetime-input');\n
\n
    if (!input) {\n
        console.error('DateTimePicker: Input element not found:', 'datetime-input');\n
        return;\n
    }\n
\n
    // Create DateTimePicker class\n
    class DateTimePicker {\n
        constructor(inputElement, options) {\n
            this.input = inputElement;\n
            this.options = options;\n
            this.currentDate = new Date();\n
            this.selectedDate = null;\n
            this.selectedHour = 0;\n
            this.selectedMinute = 0;\n
            this.selectedSecond = 0;\n
            this.period = 'AM';\n
            this.isOpen = false;\n
            this.picker = null;\n
            this.currentTab = 'date'; // 'date' or 'time'\n
\n
            this.init();\n
        }\n
\n
        init() {\n
            this.input.setAttribute('autocomplete', 'off');\n
\n
            // Apply RTL if needed\n
            if (this.options.rtl) {\n
                this.input.setAttribute('dir', 'rtl');\n
            }\n
\n
            this.createPicker();\n
            this.bindEvents();\n
\n
            if (this.input.value) {\n
                this.parseDateTime(this.input.value);\n
            }\n
\n
            if (this.options.inline) {\n
                this.show();\n
            }\n
        }\n
\n
        createPicker() {\n
            this.picker = document.createElement('div');\n
            this.picker.className = 'datetimepicker-popup' + (this.options.rtl ? ' rtl' : '');\n
            this.picker.style.display = 'none';\n
\n
            if (this.options.inline) {\n
                this.input.parentNode.insertBefore(this.picker, this.input.nextSibling);\n
            } else {\n
                document.body.appendChild(this.picker);\n
                this.picker.style.position = 'absolute';\n
                this.picker.style.zIndex = '9999';\n
            }\n
\n
            this.renderPicker();\n
        }\n
\n
        renderPicker() {\n
            let html = '';\n
\n
            // Tabs\n
            html += '<div class="datetimepicker-tabs">';\n
            html += '<button type="button" class="datetimepicker-tab ' + (this.currentTab === 'date' ? 'active' : '') + '" data-tab="date">';\n
            html += this.options.locale.selectDate;\n
            html += '</button>';\n
            html += '<button type="button" class="datetimepicker-tab ' + (this.currentTab === 'time' ? 'active' : '') + '" data-tab="time">';\n
            html += this.options.locale.selectTime;\n
            html += '</button>';\n
            html += '</div>';\n
\n
            // Content container\n
            html += '<div class="datetimepicker-content">';\n
\n
            // Date tab\n
            html += '<div class="datetimepicker-pane ' + (this.currentTab === 'date' ? 'active' : '') + '" data-pane="date">';\n
            html += this.renderCalendar();\n
            html += '</div>';\n
\n
            // Time tab\n
            html += '<div class="datetimepicker-pane ' + (this.currentTab === 'time' ? 'active' : '') + '" data-pane="time">';\n
            html += this.renderTime();\n
            html += '</div>';\n
\n
            html += '</div>';\n
\n
            // Footer\n
            html += '<div class="datetimepicker-footer">';\n
            if (this.options.showToday) {\n
                html += '<button type="button" class="datetimepicker-now">' + this.options.locale.now + '</button>';\n
            }\n
            if (this.options.showClear) {\n
                html += '<button type="button" class="datetimepicker-clear">' + this.options.locale.clear + '</button>';\n
            }\n
            html += '</div>';\n
\n
            this.picker.innerHTML = html;\n
        }\n
\n
        renderCalendar() {\n
            const year = this.currentDate.getFullYear();\n
            const month = this.currentDate.getMonth();\n
\n
            let html = '<div class="datetimepicker-header">';\n
            html += '<button type="button" class="datetimepicker-prev" aria-label="Previous month">&lsaquo;</button>';\n
            html += '<span class="datetimepicker-title">' + this.options.locale.months[month] + ' ' + year + '</span>';\n
            html += '<button type="button" class="datetimepicker-next" aria-label="Next month">&rsaquo;</button>';\n
            html += '</div>';\n
\n
            html += '<div class="datetimepicker-weekdays">';\n
            for (let i = 0; i < 7; i++) {\n
                const day = (i + this.options.weekStart) % 7;\n
                html += '<span class="datetimepicker-weekday">' + this.options.locale.weekdaysMin[day] + '</span>';\n
            }\n
            html += '</div>';\n
\n
            html += '<div class="datetimepicker-days">';\n
            html += this.renderDays(year, month);\n
            html += '</div>';\n
\n
            return html;\n
        }\n
\n
        renderDays(year, month) {\n
            const firstDay = new Date(year, month, 1);\n
            const lastDay = new Date(year, month + 1, 0);\n
            const prevLastDay = new Date(year, month, 0);\n
\n
            const firstDayOfWeek = (firstDay.getDay() - this.options.weekStart + 7) % 7;\n
            const daysInMonth = lastDay.getDate();\n
            const daysInPrevMonth = prevLastDay.getDate();\n
\n
            let html = '';\n
\n
            // Previous month days\n
            for (let i = firstDayOfWeek - 1; i >= 0; i--) {\n
                const day = daysInPrevMonth - i;\n
                html += '<button type="button" class="datetimepicker-day datetimepicker-day-other">' + day + '</button>';\n
            }\n
\n
            // Current month days\n
            for (let day = 1; day <= daysInMonth; day++) {\n
                const date = new Date(year, month, day);\n
                const isSelected = this.selectedDate && this.isSameDay(date, this.selectedDate);\n
                const isToday = this.isSameDay(date, new Date());\n
\n
                let classes = 'datetimepicker-day';\n
                if (isSelected) classes += ' datetimepicker-day-selected';\n
                if (isToday) classes += ' datetimepicker-day-today';\n
\n
                html += '<button type="button" class="' + classes + '" data-year="' + year + '" data-month="' + month + '" data-day="' + day + '">' + day + '</button>';\n
            }\n
\n
            // Next month days\n
            const totalCells = Math.ceil((firstDayOfWeek + daysInMonth) / 7) * 7;\n
            const remainingCells = totalCells - (firstDayOfWeek + daysInMonth);\n
            for (let day = 1; day <= remainingCells; day++) {\n
                html += '<button type="button" class="datetimepicker-day datetimepicker-day-other">' + day + '</button>';\n
            }\n
\n
            return html;\n
        }\n
\n
        renderTime() {\n
            let html = '<div class="datetimepicker-time-selectors">';\n
\n
            // Hours\n
            html += '<div class="datetimepicker-time-column">';\n
            html += '<div class="datetimepicker-time-scroll" data-type="hours">';\n
            const maxHour = this.options.timeFormat === '12' ? 12 : 23;\n
            const startHour = this.options.timeFormat === '12' ? 1 : 0;\n
            for (let i = startHour; i <= maxHour; i++) {\n
                const selected = i === this.selectedHour ? 'selected' : '';\n
                html += '<div class="datetimepicker-time-item ' + selected + '" data-value="' + i + '">' + String(i).padStart(2, '0') + '</div>';\n
            }\n
            html += '</div></div>';\n
\n
            // Minutes\n
            html += '<div class="datetimepicker-time-column">';\n
            html += '<div class="datetimepicker-time-scroll" data-type="minutes">';\n
            for (let i = 0; i < 60; i += 1) {\n
                const selected = i === this.selectedMinute ? 'selected' : '';\n
                html += '<div class="datetimepicker-time-item ' + selected + '" data-value="' + i + '">' + String(i).padStart(2, '0') + '</div>';\n
            }\n
            html += '</div></div>';\n
\n
            // Seconds (optional)\n
            if (this.options.showSeconds) {\n
                html += '<div class="datetimepicker-time-column">';\n
                html += '<div class="datetimepicker-time-scroll" data-type="seconds">';\n
                for (let i = 0; i < 60; i++) {\n
                    const selected = i === this.selectedSecond ? 'selected' : '';\n
                    html += '<div class="datetimepicker-time-item ' + selected + '" data-value="' + i + '">' + String(i).padStart(2, '0') + '</div>';\n
                }\n
                html += '</div></div>';\n
            }\n
\n
            // AM/PM\n
            if (this.options.timeFormat === '12') {\n
                html += '<div class="datetimepicker-time-column">';\n
                html += '<div class="datetimepicker-time-scroll" data-type="period">';\n
                html += '<div class="datetimepicker-time-item ' + (this.period === 'AM' ? 'selected' : '') + '" data-value="AM">' + this.options.locale.am + '</div>';\n
                html += '<div class="datetimepicker-time-item ' + (this.period === 'PM' ? 'selected' : '') + '" data-value="PM">' + this.options.locale.pm + '</div>';\n
                html += '</div></div>';\n
            }\n
\n
            html += '</div>';\n
            return html;\n
        }\n
\n
        bindEvents() {\n
            this.input.addEventListener('click', () => {\n
                if (!this.options.inline) this.toggle();\n
            });\n
\n
            this.picker.addEventListener('click', (e) => {\n
                const target = e.target;\n
\n
                // Tab switching\n
                if (target.classList.contains('datetimepicker-tab')) {\n
                    this.switchTab(target.dataset.tab);\n
                }\n
                // Calendar navigation\n
                else if (target.classList.contains('datetimepicker-prev')) {\n
                    this.previousMonth();\n
                } else if (target.classList.contains('datetimepicker-next')) {\n
                    this.nextMonth();\n
                }\n
                // Day selection\n
                else if (target.classList.contains('datetimepicker-day') && !target.classList.contains('datetimepicker-day-other')) {\n
                    this.selectDay(parseInt(target.dataset.year), parseInt(target.dataset.month), parseInt(target.dataset.day));\n
                }\n
                // Time selection\n
                else if (target.classList.contains('datetimepicker-time-item')) {\n
                    const scroll = target.parentElement;\n
                    const type = scroll.dataset.type;\n
                    const value = target.dataset.value;\n
\n
                    scroll.querySelectorAll('.datetimepicker-time-item').forEach(item => item.classList.remove('selected'));\n
                    target.classList.add('selected');\n
\n
                    if (type === 'hours') this.selectedHour = parseInt(value);\n
                    else if (type === 'minutes') this.selectedMinute = parseInt(value);\n
                    else if (type === 'seconds') this.selectedSecond = parseInt(value);\n
                    else if (type === 'period') this.period = value;\n
\n
                    this.updateInput();\n
                }\n
                // Footer buttons\n
                else if (target.classList.contains('datetimepicker-now')) {\n
                    this.setNow();\n
                } else if (target.classList.contains('datetimepicker-clear')) {\n
                    this.clear();\n
                }\n
            });\n
\n
            if (!this.options.inline) {\n
                document.addEventListener('click', (e) => {\n
                    if (this.isOpen && !this.picker.contains(e.target) && e.target !== this.input) {\n
                        this.hide();\n
                    }\n
                });\n
            }\n
        }\n
\n
        switchTab(tab) {\n
            this.currentTab = tab;\n
            this.renderPicker();\n
        }\n
\n
        previousMonth() {\n
            this.currentDate.setMonth(this.currentDate.getMonth() - 1);\n
            this.renderPicker();\n
        }\n
\n
        nextMonth() {\n
            this.currentDate.setMonth(this.currentDate.getMonth() + 1);\n
            this.renderPicker();\n
        }\n
\n
        selectDay(year, month, day) {\n
            this.selectedDate = new Date(year, month, day);\n
            this.currentDate = new Date(this.selectedDate);\n
            this.switchTab('time');\n
        }\n
\n
        setNow() {\n
            const now = new Date();\n
            this.selectedDate = now;\n
            this.currentDate = new Date(now);\n
            this.selectedHour = this.options.timeFormat === '12' ? (now.getHours() % 12 || 12) : now.getHours();\n
            this.selectedMinute = now.getMinutes();\n
            this.selectedSecond = now.getSeconds();\n
            this.period = now.getHours() >= 12 ? 'PM' : 'AM';\n
            this.updateInput();\n
            this.renderPicker();\n
        }\n
\n
        clear() {\n
            this.selectedDate = null;\n
            this.selectedHour = 0;\n
            this.selectedMinute = 0;\n
            this.selectedSecond = 0;\n
            this.period = 'AM';\n
            this.input.value = '';\n
            this.renderPicker();\n
        }\n
\n
        updateInput() {\n
            if (!this.selectedDate) return;\n
\n
            const dateStr = this.formatDate(this.selectedDate);\n
            const timeStr = this.formatTime();\n
            this.input.value = dateStr + ' ' + timeStr;\n
\n
            const event = new Event('change', { bubbles: true });\n
            this.input.dispatchEvent(event);\n
        }\n
\n
        formatDate(date) {\n
            const year = date.getFullYear();\n
            const month = String(date.getMonth() + 1).padStart(2, '0');\n
            const day = String(date.getDate()).padStart(2, '0');\n
            return year + '-' + month + '-' + day;\n
        }\n
\n
        formatTime() {\n
            const hour = String(this.selectedHour).padStart(2, '0');\n
            const minute = String(this.selectedMinute).padStart(2, '0');\n
            const second = String(this.selectedSecond).padStart(2, '0');\n
\n
            if (this.options.timeFormat === '12') {\n
                let timeStr = hour + ':' + minute;\n
                if (this.options.showSeconds) timeStr += ':' + second;\n
                timeStr += ' ' + this.period;\n
                return timeStr;\n
            } else {\n
                let timeStr = hour + ':' + minute;\n
                if (this.options.showSeconds) timeStr += ':' + second;\n
                return timeStr;\n
            }\n
        }\n
\n
        parseDateTime(value) {\n
            // Simple parsing - can be enhanced\n
            const parts = value.split(' ');\n
            if (parts.length >= 2) {\n
                const dateParts = parts[0].split('-');\n
                if (dateParts.length === 3) {\n
                    this.selectedDate = new Date(parseInt(dateParts[0]), parseInt(dateParts[1]) - 1, parseInt(dateParts[2]));\n
                    this.currentDate = new Date(this.selectedDate);\n
                }\n
            }\n
        }\n
\n
        isSameDay(date1, date2) {\n
            return date1.getFullYear() === date2.getFullYear() &&\n
                   date1.getMonth() === date2.getMonth() &&\n
                   date1.getDate() === date2.getDate();\n
        }\n
\n
        show() {\n
            if (this.isOpen) return;\n
            this.isOpen = true;\n
            this.picker.style.display = 'block';\n
            if (!this.options.inline) this.position();\n
        }\n
\n
        hide() {\n
            if (!this.isOpen || this.options.inline) return;\n
            this.isOpen = false;\n
            this.picker.style.display = 'none';\n
        }\n
\n
        toggle() {\n
            this.isOpen ? this.hide() : this.show();\n
        }\n
\n
        position() {\n
            const rect = this.input.getBoundingClientRect();\n
            const top = rect.bottom + window.scrollY + 4;\n
            const left = this.options.rtl ? rect.right + window.scrollX - this.picker.offsetWidth : rect.left + window.scrollX;\n
            this.picker.style.top = top + 'px';\n
            this.picker.style.left = left + 'px';\n
        }\n
    }\n
\n
    const picker = new DateTimePicker(input, config);\n
    window.DateTimePicker_datetime-input = picker;\n
\n
    // Add default styles if not already added\n
    if (!document.getElementById('datetimepicker-styles')) {\n
        const style = document.createElement('style');\n
        style.id = 'datetimepicker-styles';\n
        style.textContent = `\n
            .datetimepicker-popup {\n
                background: #fff;\n
                border: 1px solid #ddd;\n
                border-radius: 4px;\n
                box-shadow: 0 2px 8px rgba(0,0,0,0.15);\n
                min-width: 320px;\n
                font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;\n
            }\n
            .datetimepicker-popup.rtl {\n
                direction: rtl;\n
            }\n
            .datetimepicker-tabs {\n
                display: flex;\n
                border-bottom: 1px solid #ddd;\n
            }\n
            .datetimepicker-tab {\n
                flex: 1;\n
                padding: 12px;\n
                background: none;\n
                border: none;\n
                cursor: pointer;\n
                font-weight: 600;\n
                color: #666;\n
            }\n
            .datetimepicker-tab.active {\n
                color: #0d6efd;\n
                border-bottom: 2px solid #0d6efd;\n
            }\n
            .datetimepicker-content {\n
                padding: 12px;\n
            }\n
            .datetimepicker-pane {\n
                display: none;\n
            }\n
            .datetimepicker-pane.active {\n
                display: block;\n
            }\n
            .datetimepicker-header {\n
                display: flex;\n
                justify-content: space-between;\n
                align-items: center;\n
                margin-bottom: 8px;\n
            }\n
            .datetimepicker-prev,\n
            .datetimepicker-next {\n
                background: none;\n
                border: none;\n
                font-size: 20px;\n
                cursor: pointer;\n
                padding: 4px 8px;\n
                color: #666;\n
            }\n
            .datetimepicker-title {\n
                font-weight: 600;\n
                font-size: 14px;\n
            }\n
            .datetimepicker-weekdays {\n
                display: grid;\n
                grid-template-columns: repeat(7, 1fr);\n
                gap: 4px;\n
                margin-bottom: 4px;\n
            }\n
            .datetimepicker-weekday {\n
                text-align: center;\n
                font-size: 12px;\n
                font-weight: 600;\n
                color: #666;\n
                padding: 4px;\n
            }\n
            .datetimepicker-days {\n
                display: grid;\n
                grid-template-columns: repeat(7, 1fr);\n
                gap: 4px;\n
            }\n
            .datetimepicker-day {\n
                border: none;\n
                background: none;\n
                padding: 8px;\n
                text-align: center;\n
                cursor: pointer;\n
                border-radius: 4px;\n
                font-size: 13px;\n
            }\n
            .datetimepicker-day:hover:not(:disabled) {\n
                background: #f0f0f0;\n
            }\n
            .datetimepicker-day-today {\n
                font-weight: 700;\n
                color: #0d6efd;\n
            }\n
            .datetimepicker-day-selected {\n
                background: #0d6efd;\n
                color: #fff;\n
            }\n
            .datetimepicker-day-other {\n
                color: #ccc;\n
            }\n
            .datetimepicker-time-selectors {\n
                display: flex;\n
                gap: 8px;\n
                justify-content: center;\n
            }\n
            .datetimepicker-time-column {\n
                flex: 1;\n
            }\n
            .datetimepicker-time-scroll {\n
                max-height: 200px;\n
                overflow-y: auto;\n
                border: 1px solid #ddd;\n
                border-radius: 4px;\n
            }\n
            .datetimepicker-time-item {\n
                padding: 8px;\n
                text-align: center;\n
                cursor: pointer;\n
                font-size: 14px;\n
            }\n
            .datetimepicker-time-item:hover {\n
                background: #f0f0f0;\n
            }\n
            .datetimepicker-time-item.selected {\n
                background: #0d6efd;\n
                color: #fff;\n
                font-weight: 600;\n
            }\n
            .datetimepicker-footer {\n
                display: flex;\n
                justify-content: space-between;\n
                padding: 12px;\n
                border-top: 1px solid #eee;\n
            }\n
            .datetimepicker-now,\n
            .datetimepicker-clear {\n
                background: none;\n
                border: 1px solid #ddd;\n
                padding: 6px 12px;\n
                border-radius: 4px;\n
                font-size: 12px;\n
                cursor: pointer;\n
            }\n
        `;\n
        document.head.appendChild(style);\n
    }\n
})();\n
</script>' [ASCII](length: 21394) contains "<style>" [ASCII](length: 7).

/home/user/SpiderForm/tests/Unit/Builder/DateTimePickerManagerTest.php:149

8) SpiderForm\Tests\Unit\Builder\DateTimePickerManagerTest::it_generates_script_with_arabic_locale
Failed asserting that '<script>\n
(function() {\n
    'use strict';\n
\n
    const config = {"format":"yyyy-mm-dd HH:MM","timeFormat":"24","locale":{"months":["\u064a\u0646\u0627\u064a\u0631","\u0641\u0628\u0631\u0627\u064a\u0631","\u0645\u0627\u0631\u0633","\u0623\u0628\u0631\u064a\u0644","\u0645\u0627\u064a\u0648","\u064a\u0648\u0646\u064a\u0648","\u064a\u0648\u0644\u064a\u0648","\u0623\u063a\u0633\u0637\u0633","\u0633\u0628\u062a\u0645\u0628\u0631","\u0623\u0643\u062a\u0648\u0628\u0631","\u0646\u0648\u0641\u0645\u0628\u0631","\u062f\u064a\u0633\u0645\u0628\u0631"],"monthsShort":["\u064a\u0646\u0627\u064a\u0631","\u0641\u0628\u0631\u0627\u064a\u0631","\u0645\u0627\u0631\u0633","\u0623\u0628\u0631\u064a\u0644","\u0645\u0627\u064a\u0648","\u064a\u0648\u0646\u064a\u0648","\u064a\u0648\u0644\u064a\u0648","\u0623\u063a\u0633\u0637\u0633","\u0633\u0628\u062a\u0645\u0628\u0631","\u0623\u0643\u062a\u0648\u0628\u0631","\u0646\u0648\u0641\u0645\u0628\u0631","\u062f\u064a\u0633\u0645\u0628\u0631"],"weekdays":["\u0627\u0644\u0623\u062d\u062f","\u0627\u0644\u0627\u062b\u0646\u064a\u0646","\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621","\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621","\u0627\u0644\u062e\u0645\u064a\u0633","\u0627\u0644\u062c\u0645\u0639\u0629","\u0627\u0644\u0633\u0628\u062a"],"weekdaysShort":["\u0623\u062d\u062f","\u0627\u062b\u0646\u064a\u0646","\u062b\u0644\u0627\u062b\u0627\u0621","\u0623\u0631\u0628\u0639\u0627\u0621","\u062e\u0645\u064a\u0633","\u062c\u0645\u0639\u0629","\u0633\u0628\u062a"],"weekdaysMin":["\u0623\u062d","\u0625\u062b","\u062b\u0644","\u0623\u0631","\u062e\u0645","\u062c\u0645","\u0633\u0628"],"today":"\u0627\u0644\u064a\u0648\u0645","clear":"\u0645\u0633\u062d","close":"\u0625\u063a\u0644\u0627\u0642","now":"\u0627\u0644\u0622\u0646","selectDate":"\u0627\u062e\u062a\u0631 \u0627\u0644\u062a\u0627\u0631\u064a\u062e","selectTime":"\u0627\u062e\u062a\u0631 \u0627\u0644\u0648\u0642\u062a","am":"\u0635","pm":"\u0645"},"minDateTime":null,"maxDateTime":null,"weekStart":0,"showSeconds":false,"showToday":true,"showClear":true,"inline":false,"position":"bottom-left","rtl":false};\n
    const input = document.getElementById('datetime-input');\n
\n
    if (!input) {\n
        console.error('DateTimePicker: Input element not found:', 'datetime-input');\n
        return;\n
    }\n
\n
    // Create DateTimePicker class\n
    class DateTimePicker {\n
        constructor(inputElement, options) {\n
            this.input = inputElement;\n
            this.options = options;\n
            this.currentDate = new Date();\n
            this.selectedDate = null;\n
            this.selectedHour = 0;\n
            this.selectedMinute = 0;\n
            this.selectedSecond = 0;\n
            this.period = 'AM';\n
            this.isOpen = false;\n
            this.picker = null;\n
            this.currentTab = 'date'; // 'date' or 'time'\n
\n
            this.init();\n
        }\n
\n
        init() {\n
            this.input.setAttribute('autocomplete', 'off');\n
\n
            // Apply RTL if needed\n
            if (this.options.rtl) {\n
                this.input.setAttribute('dir', 'rtl');\n
            }\n
\n
            this.createPicker();\n
            this.bindEvents();\n
\n
            if (this.input.value) {\n
                this.parseDateTime(this.input.value);\n
            }\n
\n
            if (this.options.inline) {\n
                this.show();\n
            }\n
        }\n
\n
        createPicker() {\n
            this.picker = document.createElement('div');\n
            this.picker.className = 'datetimepicker-popup' + (this.options.rtl ? ' rtl' : '');\n
            this.picker.style.display = 'none';\n
\n
            if (this.options.inline) {\n
                this.input.parentNode.insertBefore(this.picker, this.input.nextSibling);\n
            } else {\n
                document.body.appendChild(this.picker);\n
                this.picker.style.position = 'absolute';\n
                this.picker.style.zIndex = '9999';\n
            }\n
\n
            this.renderPicker();\n
        }\n
\n
        renderPicker() {\n
            let html = '';\n
\n
            // Tabs\n
            html += '<div class="datetimepicker-tabs">';\n
            html += '<button type="button" class="datetimepicker-tab ' + (this.currentTab === 'date' ? 'active' : '') + '" data-tab="date">';\n
            html += this.options.locale.selectDate;\n
            html += '</button>';\n
            html += '<button type="button" class="datetimepicker-tab ' + (this.currentTab === 'time' ? 'active' : '') + '" data-tab="time">';\n
            html += this.options.locale.selectTime;\n
            html += '</button>';\n
            html += '</div>';\n
\n
            // Content container\n
            html += '<div class="datetimepicker-content">';\n
\n
            // Date tab\n
            html += '<div class="datetimepicker-pane ' + (this.currentTab === 'date' ? 'active' : '') + '" data-pane="date">';\n
            html += this.renderCalendar();\n
            html += '</div>';\n
\n
            // Time tab\n
            html += '<div class="datetimepicker-pane ' + (this.currentTab === 'time' ? 'active' : '') + '" data-pane="time">';\n
            html += this.renderTime();\n
            html += '</div>';\n
\n
            html += '</div>';\n
\n
            // Footer\n
            html += '<div class="datetimepicker-footer">';\n
            if (this.options.showToday) {\n
                html += '<button type="button" class="datetimepicker-now">' + this.options.locale.now + '</button>';\n
            }\n
            if (this.options.showClear) {\n
                html += '<button type="button" class="datetimepicker-clear">' + this.options.locale.clear + '</button>';\n
            }\n
            html += '</div>';\n
\n
            this.picker.innerHTML = html;\n
        }\n
\n
        renderCalendar() {\n
            const year = this.currentDate.getFullYear();\n
            const month = this.currentDate.getMonth();\n
\n
            let html = '<div class="datetimepicker-header">';\n
            html += '<button type="button" class="datetimepicker-prev" aria-label="Previous month">&lsaquo;</button>';\n
            html += '<span class="datetimepicker-title">' + this.options.locale.months[month] + ' ' + year + '</span>';\n
            html += '<button type="button" class="datetimepicker-next" aria-label="Next month">&rsaquo;</button>';\n
            html += '</div>';\n
\n
            html += '<div class="datetimepicker-weekdays">';\n
            for (let i = 0; i < 7; i++) {\n
                const day = (i + this.options.weekStart) % 7;\n
                html += '<span class="datetimepicker-weekday">' + this.options.locale.weekdaysMin[day] + '</span>';\n
            }\n
            html += '</div>';\n
\n
            html += '<div class="datetimepicker-days">';\n
            html += this.renderDays(year, month);\n
            html += '</div>';\n
\n
            return html;\n
        }\n
\n
        renderDays(year, month) {\n
            const firstDay = new Date(year, month, 1);\n
            const lastDay = new Date(year, month + 1, 0);\n
            const prevLastDay = new Date(year, month, 0);\n
\n
            const firstDayOfWeek = (firstDay.getDay() - this.options.weekStart + 7) % 7;\n
            const daysInMonth = lastDay.getDate();\n
            const daysInPrevMonth = prevLastDay.getDate();\n
\n
            let html = '';\n
\n
            // Previous month days\n
            for (let i = firstDayOfWeek - 1; i >= 0; i--) {\n
                const day = daysInPrevMonth - i;\n
                html += '<button type="button" class="datetimepicker-day datetimepicker-day-other">' + day + '</button>';\n
            }\n
\n
            // Current month days\n
            for (let day = 1; day <= daysInMonth; day++) {\n
                const date = new Date(year, month, day);\n
                const isSelected = this.selectedDate && this.isSameDay(date, this.selectedDate);\n
                const isToday = this.isSameDay(date, new Date());\n
\n
                let classes = 'datetimepicker-day';\n
                if (isSelected) classes += ' datetimepicker-day-selected';\n
                if (isToday) classes += ' datetimepicker-day-today';\n
\n
                html += '<button type="button" class="' + classes + '" data-year="' + year + '" data-month="' + month + '" data-day="' + day + '">' + day + '</button>';\n
            }\n
\n
            // Next month days\n
            const totalCells = Math.ceil((firstDayOfWeek + daysInMonth) / 7) * 7;\n
            const remainingCells = totalCells - (firstDayOfWeek + daysInMonth);\n
            for (let day = 1; day <= remainingCells; day++) {\n
                html += '<button type="button" class="datetimepicker-day datetimepicker-day-other">' + day + '</button>';\n
            }\n
\n
            return html;\n
        }\n
\n
        renderTime() {\n
            let html = '<div class="datetimepicker-time-selectors">';\n
\n
            // Hours\n
            html += '<div class="datetimepicker-time-column">';\n
            html += '<div class="datetimepicker-time-scroll" data-type="hours">';\n
            const maxHour = this.options.timeFormat === '12' ? 12 : 23;\n
            const startHour = this.options.timeFormat === '12' ? 1 : 0;\n
            for (let i = startHour; i <= maxHour; i++) {\n
                const selected = i === this.selectedHour ? 'selected' : '';\n
                html += '<div class="datetimepicker-time-item ' + selected + '" data-value="' + i + '">' + String(i).padStart(2, '0') + '</div>';\n
            }\n
            html += '</div></div>';\n
\n
            // Minutes\n
            html += '<div class="datetimepicker-time-column">';\n
            html += '<div class="datetimepicker-time-scroll" data-type="minutes">';\n
            for (let i = 0; i < 60; i += 1) {\n
                const selected = i === this.selectedMinute ? 'selected' : '';\n
                html += '<div class="datetimepicker-time-item ' + selected + '" data-value="' + i + '">' + String(i).padStart(2, '0') + '</div>';\n
            }\n
            html += '</div></div>';\n
\n
            // Seconds (optional)\n
            if (this.options.showSeconds) {\n
                html += '<div class="datetimepicker-time-column">';\n
                html += '<div class="datetimepicker-time-scroll" data-type="seconds">';\n
                for (let i = 0; i < 60; i++) {\n
                    const selected = i === this.selectedSecond ? 'selected' : '';\n
                    html += '<div class="datetimepicker-time-item ' + selected + '" data-value="' + i + '">' + String(i).padStart(2, '0') + '</div>';\n
                }\n
                html += '</div></div>';\n
            }\n
\n
            // AM/PM\n
            if (this.options.timeFormat === '12') {\n
                html += '<div class="datetimepicker-time-column">';\n
                html += '<div class="datetimepicker-time-scroll" data-type="period">';\n
                html += '<div class="datetimepicker-time-item ' + (this.period === 'AM' ? 'selected' : '') + '" data-value="AM">' + this.options.locale.am + '</div>';\n
                html += '<div class="datetimepicker-time-item ' + (this.period === 'PM' ? 'selected' : '') + '" data-value="PM">' + this.options.locale.pm + '</div>';\n
                html += '</div></div>';\n
            }\n
\n
            html += '</div>';\n
            return html;\n
        }\n
\n
        bindEvents() {\n
            this.input.addEventListener('click', () => {\n
                if (!this.options.inline) this.toggle();\n
            });\n
\n
            this.picker.addEventListener('click', (e) => {\n
                const target = e.target;\n
\n
                // Tab switching\n
                if (target.classList.contains('datetimepicker-tab')) {\n
                    this.switchTab(target.dataset.tab);\n
                }\n
                // Calendar navigation\n
                else if (target.classList.contains('datetimepicker-prev')) {\n
                    this.previousMonth();\n
                } else if (target.classList.contains('datetimepicker-next')) {\n
                    this.nextMonth();\n
                }\n
                // Day selection\n
                else if (target.classList.contains('datetimepicker-day') && !target.classList.contains('datetimepicker-day-other')) {\n
                    this.selectDay(parseInt(target.dataset.year), parseInt(target.dataset.month), parseInt(target.dataset.day));\n
                }\n
                // Time selection\n
                else if (target.classList.contains('datetimepicker-time-item')) {\n
                    const scroll = target.parentElement;\n
                    const type = scroll.dataset.type;\n
                    const value = target.dataset.value;\n
\n
                    scroll.querySelectorAll('.datetimepicker-time-item').forEach(item => item.classList.remove('selected'));\n
                    target.classList.add('selected');\n
\n
                    if (type === 'hours') this.selectedHour = parseInt(value);\n
                    else if (type === 'minutes') this.selectedMinute = parseInt(value);\n
                    else if (type === 'seconds') this.selectedSecond = parseInt(value);\n
                    else if (type === 'period') this.period = value;\n
\n
                    this.updateInput();\n
                }\n
                // Footer buttons\n
                else if (target.classList.contains('datetimepicker-now')) {\n
                    this.setNow();\n
                } else if (target.classList.contains('datetimepicker-clear')) {\n
                    this.clear();\n
                }\n
            });\n
\n
            if (!this.options.inline) {\n
                document.addEventListener('click', (e) => {\n
                    if (this.isOpen && !this.picker.contains(e.target) && e.target !== this.input) {\n
                        this.hide();\n
                    }\n
                });\n
            }\n
        }\n
\n
        switchTab(tab) {\n
            this.currentTab = tab;\n
            this.renderPicker();\n
        }\n
\n
        previousMonth() {\n
            this.currentDate.setMonth(this.currentDate.getMonth() - 1);\n
            this.renderPicker();\n
        }\n
\n
        nextMonth() {\n
            this.currentDate.setMonth(this.currentDate.getMonth() + 1);\n
            this.renderPicker();\n
        }\n
\n
        selectDay(year, month, day) {\n
            this.selectedDate = new Date(year, month, day);\n
            this.currentDate = new Date(this.selectedDate);\n
            this.switchTab('time');\n
        }\n
\n
        setNow() {\n
            const now = new Date();\n
            this.selectedDate = now;\n
            this.currentDate = new Date(now);\n
            this.selectedHour = this.options.timeFormat === '12' ? (now.getHours() % 12 || 12) : now.getHours();\n
            this.selectedMinute = now.getMinutes();\n
            this.selectedSecond = now.getSeconds();\n
            this.period = now.getHours() >= 12 ? 'PM' : 'AM';\n
            this.updateInput();\n
            this.renderPicker();\n
        }\n
\n
        clear() {\n
            this.selectedDate = null;\n
            this.selectedHour = 0;\n
            this.selectedMinute = 0;\n
            this.selectedSecond = 0;\n
            this.period = 'AM';\n
            this.input.value = '';\n
            this.renderPicker();\n
        }\n
\n
        updateInput() {\n
            if (!this.selectedDate) return;\n
\n
            const dateStr = this.formatDate(this.selectedDate);\n
            const timeStr = this.formatTime();\n
            this.input.value = dateStr + ' ' + timeStr;\n
\n
            const event = new Event('change', { bubbles: true });\n
            this.input.dispatchEvent(event);\n
        }\n
\n
        formatDate(date) {\n
            const year = date.getFullYear();\n
            const month = String(date.getMonth() + 1).padStart(2, '0');\n
            const day = String(date.getDate()).padStart(2, '0');\n
            return year + '-' + month + '-' + day;\n
        }\n
\n
        formatTime() {\n
            const hour = String(this.selectedHour).padStart(2, '0');\n
            const minute = String(this.selectedMinute).padStart(2, '0');\n
            const second = String(this.selectedSecond).padStart(2, '0');\n
\n
            if (this.options.timeFormat === '12') {\n
                let timeStr = hour + ':' + minute;\n
                if (this.options.showSeconds) timeStr += ':' + second;\n
                timeStr += ' ' + this.period;\n
                return timeStr;\n
            } else {\n
                let timeStr = hour + ':' + minute;\n
                if (this.options.showSeconds) timeStr += ':' + second;\n
                return timeStr;\n
            }\n
        }\n
\n
        parseDateTime(value) {\n
            // Simple parsing - can be enhanced\n
            const parts = value.split(' ');\n
            if (parts.length >= 2) {\n
                const dateParts = parts[0].split('-');\n
                if (dateParts.length === 3) {\n
                    this.selectedDate = new Date(parseInt(dateParts[0]), parseInt(dateParts[1]) - 1, parseInt(dateParts[2]));\n
                    this.currentDate = new Date(this.selectedDate);\n
                }\n
            }\n
        }\n
\n
        isSameDay(date1, date2) {\n
            return date1.getFullYear() === date2.getFullYear() &&\n
                   date1.getMonth() === date2.getMonth() &&\n
                   date1.getDate() === date2.getDate();\n
        }\n
\n
        show() {\n
            if (this.isOpen) return;\n
            this.isOpen = true;\n
            this.picker.style.display = 'block';\n
            if (!this.options.inline) this.position();\n
        }\n
\n
        hide() {\n
            if (!this.isOpen || this.options.inline) return;\n
            this.isOpen = false;\n
            this.picker.style.display = 'none';\n
        }\n
\n
        toggle() {\n
            this.isOpen ? this.hide() : this.show();\n
        }\n
\n
        position() {\n
            const rect = this.input.getBoundingClientRect();\n
            const top = rect.bottom + window.scrollY + 4;\n
            const left = this.options.rtl ? rect.right + window.scrollX - this.picker.offsetWidth : rect.left + window.scrollX;\n
            this.picker.style.top = top + 'px';\n
            this.picker.style.left = left + 'px';\n
        }\n
    }\n
\n
    const picker = new DateTimePicker(input, config);\n
    window.DateTimePicker_datetime-input = picker;\n
\n
    // Add default styles if not already added\n
    if (!document.getElementById('datetimepicker-styles')) {\n
        const style = document.createElement('style');\n
        style.id = 'datetimepicker-styles';\n
        style.textContent = `\n
            .datetimepicker-popup {\n
                background: #fff;\n
                border: 1px solid #ddd;\n
                border-radius: 4px;\n
                box-shadow: 0 2px 8px rgba(0,0,0,0.15);\n
                min-width: 320px;\n
                font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;\n
            }\n
            .datetimepicker-popup.rtl {\n
                direction: rtl;\n
            }\n
            .datetimepicker-tabs {\n
                display: flex;\n
                border-bottom: 1px solid #ddd;\n
            }\n
            .datetimepicker-tab {\n
                flex: 1;\n
                padding: 12px;\n
                background: none;\n
                border: none;\n
                cursor: pointer;\n
                font-weight: 600;\n
                color: #666;\n
            }\n
            .datetimepicker-tab.active {\n
                color: #0d6efd;\n
                border-bottom: 2px solid #0d6efd;\n
            }\n
            .datetimepicker-content {\n
                padding: 12px;\n
            }\n
            .datetimepicker-pane {\n
                display: none;\n
            }\n
            .datetimepicker-pane.active {\n
                display: block;\n
            }\n
            .datetimepicker-header {\n
                display: flex;\n
                justify-content: space-between;\n
                align-items: center;\n
                margin-bottom: 8px;\n
            }\n
            .datetimepicker-prev,\n
            .datetimepicker-next {\n
                background: none;\n
                border: none;\n
                font-size: 20px;\n
                cursor: pointer;\n
                padding: 4px 8px;\n
                color: #666;\n
            }\n
            .datetimepicker-title {\n
                font-weight: 600;\n
                font-size: 14px;\n
            }\n
            .datetimepicker-weekdays {\n
                display: grid;\n
                grid-template-columns: repeat(7, 1fr);\n
                gap: 4px;\n
                margin-bottom: 4px;\n
            }\n
            .datetimepicker-weekday {\n
                text-align: center;\n
                font-size: 12px;\n
                font-weight: 600;\n
                color: #666;\n
                padding: 4px;\n
            }\n
            .datetimepicker-days {\n
                display: grid;\n
                grid-template-columns: repeat(7, 1fr);\n
                gap: 4px;\n
            }\n
            .datetimepicker-day {\n
                border: none;\n
                background: none;\n
                padding: 8px;\n
                text-align: center;\n
                cursor: pointer;\n
                border-radius: 4px;\n
                font-size: 13px;\n
            }\n
            .datetimepicker-day:hover:not(:disabled) {\n
                background: #f0f0f0;\n
            }\n
            .datetimepicker-day-today {\n
                font-weight: 700;\n
                color: #0d6efd;\n
            }\n
            .datetimepicker-day-selected {\n
                background: #0d6efd;\n
                color: #fff;\n
            }\n
            .datetimepicker-day-other {\n
                color: #ccc;\n
            }\n
            .datetimepicker-time-selectors {\n
                display: flex;\n
                gap: 8px;\n
                justify-content: center;\n
            }\n
            .datetimepicker-time-column {\n
                flex: 1;\n
            }\n
            .datetimepicker-time-scroll {\n
                max-height: 200px;\n
                overflow-y: auto;\n
                border: 1px solid #ddd;\n
                border-radius: 4px;\n
            }\n
            .datetimepicker-time-item {\n
                padding: 8px;\n
                text-align: center;\n
                cursor: pointer;\n
                font-size: 14px;\n
            }\n
            .datetimepicker-time-item:hover {\n
                background: #f0f0f0;\n
            }\n
            .datetimepicker-time-item.selected {\n
                background: #0d6efd;\n
                color: #fff;\n
                font-weight: 600;\n
            }\n
            .datetimepicker-footer {\n
                display: flex;\n
                justify-content: space-between;\n
                padding: 12px;\n
                border-top: 1px solid #eee;\n
            }\n
            .datetimepicker-now,\n
            .datetimepicker-clear {\n
                background: none;\n
                border: 1px solid #ddd;\n
                padding: 6px 12px;\n
                border-radius: 4px;\n
                font-size: 12px;\n
                cursor: pointer;\n
            }\n
        `;\n
        document.head.appendChild(style);\n
    }\n
})();\n
</script>' [ASCII](length: 22687) contains "يناير" [UTF-8](length: 10).

/home/user/SpiderForm/tests/Unit/Builder/DateTimePickerManagerTest.php:129

9) SpiderForm\Tests\Unit\Builder\DependencyManagerTest::it_generates_javascript_code
Failed asserting that '<script type="text/javascript">\n
(function() {\n
    'use strict';\n
\n
    /**\n
     * SpiderForm V2 Dependency Manager (Enhanced)\n
     * Form ID: test-form\n
     * Features: Nested Dependencies (A→B→C), Custom Animations\n
     */\n
    const FormGen_test_form = {\n
        formSelector: '#test-form',\n
        animationConfig: {\n
            enabled: true,\n
            duration: 300,\n
            type: 'fade',\n
            easing: 'ease-in-out'\n
        },\n
\n
        /**\n
         * Initialize dependency management\n
         */\n
        init: function() {\n
            const form = document.querySelector(this.formSelector);\n
            if (!form) {\n
                console.warn('SpiderForm: Form not found:', this.formSelector);\n
                return;\n
            }\n
\n
            // Attach event listeners to dependency controllers\n
            const dependencyElements = form.querySelectorAll('[data-dependency="true"]');\n
            dependencyElements.forEach((element) => {\n
                const eventType = this.getEventType(element);\n
                element.addEventListener(eventType, () => this.handleDependency(element));\n
\n
                // Also trigger on load for select elements with pre-selected values\n
                if (element.tagName === 'SELECT' && element.value) {\n
                    this.handleDependency(element);\n
                }\n
            });\n
\n
            // Initial dependency detection\n
            this.detectInitialState(form);\n
        },\n
\n
        /**\n
         * Get appropriate event type for element\n
         */\n
        getEventType: function(element) {\n
            if (element.tagName === 'SELECT') {\n
                return 'change';\n
            }\n
            if (element.type === 'checkbox' || element.type === 'radio') {\n
                return 'change';\n
            }\n
            return 'input';\n
        },\n
\n
        /**\n
         * Detect and set initial state for all dependencies\n
         */\n
        detectInitialState: function(form) {\n
            const dependencyElements = form.querySelectorAll('[data-dependency="true"]');\n
            dependencyElements.forEach((element) => {\n
                if (element.type === 'hidden') {\n
                    this.handleDependency(element);\n
                } else if (element.tagName === 'SELECT' && element.value !== '') {\n
                    this.handleDependency(element);\n
                } else if ((element.type === 'checkbox' || element.type === 'radio') && element.checked) {\n
                    this.handleDependency(element);\n
                }\n
            });\n
        },\n
\n
        /**\n
         * Handle dependency change\n
         */\n
        handleDependency: function(element) {\n
            const group = element.getAttribute('data-dependency-group');\n
            const field = element.getAttribute('data-dependency-field');\n
\n
            if (!group || !field) return;\n
\n
            let isActive = false;\n
            let fieldIdentifier = field;\n
\n
            // Determine if dependency is active\n
            if (element.tagName === 'SELECT') {\n
                isActive = element.value !== '' && element.value !== null;\n
                if (isActive) {\n
                    fieldIdentifier = field + '-' + element.value;\n
                }\n
            } else if (element.type === 'checkbox' || element.type === 'radio') {\n
                isActive = element.checked;\n
                if (isActive && element.value) {\n
                    fieldIdentifier = field + '-' + element.value;\n
                }\n
            } else if (element.type === 'hidden') {\n
                isActive = true;\n
                if (element.value) {\n
                    fieldIdentifier = field + '-' + element.value;\n
                }\n
            }\n
\n
            // Find and toggle dependent elements\n
            this.toggleDependents(group, fieldIdentifier, isActive, element);\n
\n
            // If select value is empty, hide all dependents in this group\n
            if (element.tagName === 'SELECT' && (element.value === '' || element.value === null)) {\n
                this.hideAllDependents(group);\n
            }\n
        },\n
\n
        /**\n
         * Toggle dependent elements (with nested dependency support)\n
         */\n
        toggleDependents: function(group, fieldIdentifier, isActive, triggerElement) {\n
            const form = document.querySelector(this.formSelector);\n
            if (!form) return;\n
\n
            const dependents = form.querySelectorAll('[data-dependend-group="' + group + '"]');\n
\n
            dependents.forEach((dependent) => {\n
                const dependedValue = dependent.getAttribute('data-dependend');\n
                if (!dependedValue) return;\n
\n
                const dependedValues = dependedValue.split(' ');\n
\n
                // Check if this dependent should be shown\n
                const shouldShow = dependedValues.includes(fieldIdentifier) || dependedValues.includes('all');\n
\n
                if (shouldShow && isActive) {\n
                    this.showElement(dependent);\n
\n
                    // NESTED DEPENDENCY SUPPORT\n
                    // Check if this dependent contains dependency controllers\n
                    // If yes, trigger them to cascade the dependency chain (A→B→C)\n
                    this.cascadeNestedDependencies(dependent);\n
                } else if (!shouldShow || !isActive) {\n
                    this.hideElement(dependent);\n
\n
                    // When hiding, also hide all nested dependents\n
                    this.hideNestedDependents(dependent);\n
                }\n
            });\n
        },\n
\n
        /**\n
         * Cascade nested dependencies (A→B→C chain)\n
         * When a dependent element becomes visible, check if it contains\n
         * dependency controllers and trigger them\n
         */\n
        cascadeNestedDependencies: function(container) {\n
            const dependencyControllers = container.querySelectorAll('[data-dependency="true"]');\n
\n
            dependencyControllers.forEach((controller) => {\n
                // Check if this controller has a value/is active\n
                let shouldTrigger = false;\n
\n
                if (controller.tagName === 'SELECT') {\n
                    shouldTrigger = controller.value !== '' && controller.value !== null;\n
                } else if (controller.type === 'checkbox' || controller.type === 'radio') {\n
                    shouldTrigger = controller.checked;\n
                } else if (controller.type === 'hidden') {\n
                    shouldTrigger = true;\n
                }\n
\n
                // Trigger the dependency if active\n
                if (shouldTrigger) {\n
                    this.handleDependency(controller);\n
                }\n
            });\n
        },\n
\n
        /**\n
         * Hide all nested dependents when parent is hidden\n
         */\n
        hideNestedDependents: function(container) {\n
            const form = document.querySelector(this.formSelector);\n
            if (!form) return;\n
\n
            // Find all dependency controllers within this container\n
            const controllers = container.querySelectorAll('[data-dependency="true"]');\n
\n
            controllers.forEach((controller) => {\n
                const group = controller.getAttribute('data-dependency-group');\n
                if (group) {\n
                    // Hide all dependents of this group\n
                    this.hideAllDependents(group);\n
                }\n
            });\n
        },\n
\n
        /**\n
         * Hide all dependents in a group\n
         */\n
        hideAllDependents: function(group) {\n
            const form = document.querySelector(this.formSelector);\n
            if (!form) return;\n
\n
            const dependents = form.querySelectorAll('[data-dependend-group="' + group + '"]');\n
            dependents.forEach((dependent) => this.hideElement(dependent));\n
        },\n
\n
        /**\n
         * Show element with animation (respects animation config)\n
         */\n
        showElement: function(element) {\n
            // Enable form inputs first\n
            this.toggleInputs(element, false);\n
\n
            if (!this.animationConfig.enabled || this.animationConfig.type === 'none') {\n
                // No animation\n
                element.style.display = '';\n
                element.style.opacity = '1';\n
                return;\n
            }\n
\n
            const duration = this.animationConfig.duration;\n
            const easing = this.animationConfig.easing;\n
\n
            if (this.animationConfig.type === 'fade') {\n
                element.style.display = '';\n
                element.style.opacity = '0';\n
                element.style.transition = `opacity ${duration}ms ${easing}`;\n
\n
                setTimeout(() => {\n
                    element.style.opacity = '1';\n
                }, 10);\n
            } else if (this.animationConfig.type === 'slide') {\n
                element.style.display = '';\n
                element.style.maxHeight = '0';\n
                element.style.overflow = 'hidden';\n
                element.style.opacity = '0';\n
                element.style.transition = `max-height ${duration}ms ${easing}, opacity ${duration}ms ${easing}`;\n
\n
                // Calculate the natural height\n
                const naturalHeight = element.scrollHeight;\n
\n
                setTimeout(() => {\n
                    element.style.maxHeight = naturalHeight + 'px';\n
                    element.style.opacity = '1';\n
\n
                    // Remove max-height after animation completes\n
                    setTimeout(() => {\n
                        element.style.maxHeight = '';\n
                        element.style.overflow = '';\n
                    }, duration);\n
                }, 10);\n
            }\n
        },\n
\n
        /**\n
         * Hide element with animation (respects animation config)\n
         */\n
        hideElement: function(element) {\n
            if (!this.animationConfig.enabled || this.animationConfig.type === 'none') {\n
                // No animation\n
                element.style.display = 'none';\n
                this.toggleInputs(element, true);\n
                return;\n
            }\n
\n
            const duration = this.animationConfig.duration;\n
            const easing = this.animationConfig.easing;\n
\n
            if (this.animationConfig.type === 'fade') {\n
                element.style.opacity = '0';\n
                element.style.transition = `opacity ${duration}ms ${easing}`;\n
\n
                setTimeout(() => {\n
                    element.style.display = 'none';\n
                    this.toggleInputs(element, true);\n
                }, duration);\n
            } else if (this.animationConfig.type === 'slide') {\n
                const currentHeight = element.scrollHeight;\n
                element.style.maxHeight = currentHeight + 'px';\n
                element.style.overflow = 'hidden';\n
                element.style.transition = `max-height ${duration}ms ${easing}, opacity ${duration}ms ${easing}`;\n
\n
                setTimeout(() => {\n
                    element.style.maxHeight = '0';\n
                    element.style.opacity = '0';\n
\n
                    setTimeout(() => {\n
                        element.style.display = 'none';\n
                        element.style.maxHeight = '';\n
                        element.style.overflow = '';\n
                        this.toggleInputs(element, true);\n
                    }, duration);\n
                }, 10);\n
            }\n
        },\n
\n
        /**\n
         * Enable/disable and clear inputs within element\n
         */\n
        toggleInputs: function(container, disable) {\n
            const inputs = container.querySelectorAll('input, select, textarea');\n
            inputs.forEach((input) => {\n
                if (disable) {\n
                    input.disabled = true;\n
                    // Clear value when hiding (except checkboxes/radios)\n
                    if (input.type !== 'checkbox' && input.type !== 'radio') {\n
                        input.value = '';\n
                    } else {\n
                        input.checked = false;\n
                    }\n
                } else {\n
                    input.disabled = false;\n
                }\n
            });\n
        }\n
    };\n
\n
    // Initialize when DOM is ready\n
    if (document.readyState === 'loading') {\n
        document.addEventListener('DOMContentLoaded', () => FormGen_test_form.init());\n
    } else {\n
        FormGen_test_form.init();\n
    }\n
})();\n
</script>' [UTF-8](length: 12257) contains "<script>" [ASCII](length: 8).

/home/user/SpiderForm/tests/Unit/Builder/DependencyManagerTest.php:28

10) SpiderForm\Tests\Unit\Builder\RangeSliderManagerTest::it_generates_script_with_min_max_values
Failed asserting that '' [ASCII](length: 0) contains "min" [ASCII](length: 3).

/home/user/SpiderForm/tests/Unit/Builder/RangeSliderManagerTest.php:113

11) SpiderForm\Tests\Unit\Builder\RangeSliderManagerTest::it_generates_script_with_step
Failed asserting that '' [ASCII](length: 0) contains "step" [ASCII](length: 4).

/home/user/SpiderForm/tests/Unit/Builder/RangeSliderManagerTest.php:124

12) SpiderForm\Tests\Unit\Builder\RangeSliderManagerTest::it_generates_script_with_prefix
Failed asserting that '' [ASCII](length: 0) contains "$" [ASCII](length: 1).

/home/user/SpiderForm/tests/Unit/Builder/RangeSliderManagerTest.php:135

13) SpiderForm\Tests\Unit\Builder\RangeSliderManagerTest::it_generates_script_with_suffix
Failed asserting that '' [ASCII](length: 0) contains "kg" [ASCII](length: 2).

/home/user/SpiderForm/tests/Unit/Builder/RangeSliderManagerTest.php:145

14) SpiderForm\Tests\Unit\Builder\RangeSliderManagerTest::it_generates_script_with_show_value_option
Failed asserting that '' [ASCII](length: 0) contains "showValue" [ASCII](length: 9).

/home/user/SpiderForm/tests/Unit/Builder/RangeSliderManagerTest.php:155

15) SpiderForm\Tests\Unit\Builder\RangeSliderManagerTest::it_generates_script_with_tooltip_option
Failed asserting that '' [ASCII](length: 0) contains "showTooltip" [ASCII](length: 11).

/home/user/SpiderForm/tests/Unit/Builder/RangeSliderManagerTest.php:165

16) SpiderForm\Tests\Unit\Builder\RangeSliderManagerTest::it_generates_script_with_vertical_orientation
Failed asserting that '' [ASCII](length: 0) contains "vertical" [ASCII](length: 8).

/home/user/SpiderForm/tests/Unit/Builder/RangeSliderManagerTest.php:175

17) SpiderForm\Tests\Unit\Builder\RangeSliderManagerTest::it_generates_script_with_rtl_option
Failed asserting that '' [ASCII](length: 0) contains "rtl" [ASCII](length: 3).

/home/user/SpiderForm/tests/Unit/Builder/RangeSliderManagerTest.php:185

18) SpiderForm\Tests\Unit\Builder\RangeSliderManagerTest::it_generates_script_with_turkish_locale
Failed asserting that '' [ASCII](length: 0) contains "Başlangıç" [UTF-8](length: 12).

/home/user/SpiderForm/tests/Unit/Builder/RangeSliderManagerTest.php:197

19) SpiderForm\Tests\Unit\Builder\RangeSliderManagerTest::it_includes_css_styles_in_script
Failed asserting that '' [ASCII](length: 0) contains "<style>" [ASCII](length: 7).

/home/user/SpiderForm/tests/Unit/Builder/RangeSliderManagerTest.php:206

20) SpiderForm\Tests\Unit\Builder\RangeSliderManagerTest::it_includes_rtl_styles_when_rtl_is_enabled
Failed asserting that '' [ASCII](length: 0) contains ".rtl" [ASCII](length: 4).

/home/user/SpiderForm/tests/Unit/Builder/RangeSliderManagerTest.php:218

21) SpiderForm\Tests\Unit\Builder\RangeSliderManagerTest::it_generates_javascript_class
Failed asserting that '' [ASCII](length: 0) contains "class RangeSlider" [ASCII](length: 17).

/home/user/SpiderForm/tests/Unit/Builder/RangeSliderManagerTest.php:227

22) SpiderForm\Tests\Unit\Builder\RangeSliderManagerTest::it_includes_event_handlers
Failed asserting that '' [ASCII](length: 0) contains "addEventListener" [ASCII](length: 16).

/home/user/SpiderForm/tests/Unit/Builder/RangeSliderManagerTest.php:237

23) SpiderForm\Tests\Unit\Builder\RangeSliderManagerTest::it_merges_default_options_with_provided_options
Failed asserting that '' [ASCII](length: 0) contains "min" [ASCII](length: 3).

/home/user/SpiderForm/tests/Unit/Builder/RangeSliderManagerTest.php:265

24) SpiderForm\Tests\Unit\Builder\RangeSliderManagerTest::it_generates_script_with_single_handle
Failed asserting that '' [ASCII](length: 0) contains "dual" [ASCII](length: 4).

/home/user/SpiderForm/tests/Unit/Builder/RangeSliderManagerTest.php:86

25) SpiderForm\Tests\Unit\Builder\TimePickerManagerTest::it_includes_rtl_styles_when_rtl_is_enabled
Failed asserting that '<script>\n
(function() {\n
    'use strict';\n
\n
    const config = {"format":"24","locale":{"hours":"Hours","minutes":"Minutes","seconds":"Seconds","am":"AM","pm":"PM","now":"Now","clear":"Clear","close":"Close"},"showSeconds":false,"minTime":null,"maxTime":null,"step":1,"inline":false,"position":"bottom-left","rtl":true};\n
    const input = document.getElementById('time-input');\n
\n
    if (!input) {\n
        console.error('TimePicker: Input element not found:', 'time-input');\n
        return;\n
    }\n
\n
    // Create TimePicker class\n
    class TimePicker {\n
        constructor(inputElement, options) {\n
            this.input = inputElement;\n
            this.options = options;\n
            this.selectedHour = 0;\n
            this.selectedMinute = 0;\n
            this.selectedSecond = 0;\n
            this.period = 'AM'; // AM/PM for 12-hour format\n
            this.isOpen = false;\n
            this.picker = null;\n
\n
            this.init();\n
        }\n
\n
        init() {\n
            this.input.setAttribute('autocomplete', 'off');\n
\n
            // Create picker element\n
            this.createPicker();\n
\n
            // Bind events\n
            this.bindEvents();\n
\n
            // Parse initial value\n
            if (this.input.value) {\n
                this.parseTime(this.input.value);\n
            }\n
\n
            // Inline mode\n
            if (this.options.inline) {\n
                this.show();\n
            }\n
        }\n
\n
        createPicker() {\n
            this.picker = document.createElement('div');\n
            this.picker.className = 'timepicker-popup';\n
            this.picker.style.display = 'none';\n
\n
            if (this.options.inline) {\n
                this.input.parentNode.insertBefore(this.picker, this.input.nextSibling);\n
            } else {\n
                document.body.appendChild(this.picker);\n
                this.picker.style.position = 'absolute';\n
                this.picker.style.zIndex = '9999';\n
            }\n
\n
            this.renderPicker();\n
        }\n
\n
        renderPicker() {\n
            let html = '<div class="timepicker-selectors">';\n
\n
            // Hours\n
            html += '<div class="timepicker-column">';\n
            html += '<div class="timepicker-label">' + this.options.locale.hours + '</div>';\n
            html += '<div class="timepicker-scroll" data-type="hours">';\n
            const maxHour = this.options.format === '12' ? 12 : 23;\n
            const startHour = this.options.format === '12' ? 1 : 0;\n
            for (let i = startHour; i <= maxHour; i++) {\n
                const hour = String(i).padStart(2, '0');\n
                const selected = (this.options.format === '12' ? i : i) === this.selectedHour ? 'selected' : '';\n
                html += '<div class="timepicker-item ' + selected + '" data-value="' + i + '">' + hour + '</div>';\n
            }\n
            html += '</div></div>';\n
\n
            // Minutes\n
            html += '<div class="timepicker-column">';\n
            html += '<div class="timepicker-label">' + this.options.locale.minutes + '</div>';\n
            html += '<div class="timepicker-scroll" data-type="minutes">';\n
            for (let i = 0; i < 60; i += this.options.step) {\n
                const minute = String(i).padStart(2, '0');\n
                const selected = i === this.selectedMinute ? 'selected' : '';\n
                html += '<div class="timepicker-item ' + selected + '" data-value="' + i + '">' + minute + '</div>';\n
            }\n
            html += '</div></div>';\n
\n
            // Seconds (optional)\n
            if (this.options.showSeconds) {\n
                html += '<div class="timepicker-column">';\n
                html += '<div class="timepicker-label">' + this.options.locale.seconds + '</div>';\n
                html += '<div class="timepicker-scroll" data-type="seconds">';\n
                for (let i = 0; i < 60; i += this.options.step) {\n
                    const second = String(i).padStart(2, '0');\n
                    const selected = i === this.selectedSecond ? 'selected' : '';\n
                    html += '<div class="timepicker-item ' + selected + '" data-value="' + i + '">' + second + '</div>';\n
                }\n
                html += '</div></div>';\n
            }\n
\n
            // AM/PM (for 12-hour format)\n
            if (this.options.format === '12') {\n
                html += '<div class="timepicker-column">';\n
                html += '<div class="timepicker-label">&nbsp;</div>';\n
                html += '<div class="timepicker-scroll" data-type="period">';\n
                html += '<div class="timepicker-item ' + (this.period === 'AM' ? 'selected' : '') + '" data-value="AM">' + this.options.locale.am + '</div>';\n
                html += '<div class="timepicker-item ' + (this.period === 'PM' ? 'selected' : '') + '" data-value="PM">' + this.options.locale.pm + '</div>';\n
                html += '</div></div>';\n
            }\n
\n
            html += '</div>';\n
\n
            // Footer\n
            html += '<div class="timepicker-footer">';\n
            html += '<button type="button" class="timepicker-now">' + this.options.locale.now + '</button>';\n
            html += '<button type="button" class="timepicker-clear">' + this.options.locale.clear + '</button>';\n
            html += '</div>';\n
\n
            this.picker.innerHTML = html;\n
        }\n
\n
        bindEvents() {\n
            // Input click\n
            this.input.addEventListener('click', (e) => {\n
                if (!this.options.inline) {\n
                    this.toggle();\n
                }\n
            });\n
\n
            // Picker click delegation\n
            this.picker.addEventListener('click', (e) => {\n
                const target = e.target;\n
\n
                if (target.classList.contains('timepicker-item')) {\n
                    const scroll = target.parentElement;\n
                    const type = scroll.dataset.type;\n
                    const value = target.dataset.value;\n
\n
                    // Remove previous selection\n
                    scroll.querySelectorAll('.timepicker-item').forEach(item => {\n
                        item.classList.remove('selected');\n
                    });\n
                    target.classList.add('selected');\n
\n
                    // Update selected values\n
                    if (type === 'hours') {\n
                        this.selectedHour = parseInt(value);\n
                    } else if (type === 'minutes') {\n
                        this.selectedMinute = parseInt(value);\n
                    } else if (type === 'seconds') {\n
                        this.selectedSecond = parseInt(value);\n
                    } else if (type === 'period') {\n
                        this.period = value;\n
                    }\n
\n
                    this.updateInput();\n
                } else if (target.classList.contains('timepicker-now')) {\n
                    this.setNow();\n
                } else if (target.classList.contains('timepicker-clear')) {\n
                    this.clear();\n
                }\n
            });\n
\n
            // Close on outside click\n
            if (!this.options.inline) {\n
                document.addEventListener('click', (e) => {\n
                    if (this.isOpen && !this.picker.contains(e.target) && e.target !== this.input) {\n
                        this.hide();\n
                    }\n
                });\n
            }\n
\n
            // Keyboard navigation\n
            this.input.addEventListener('keydown', (e) => {\n
                if (e.key === 'Escape' && this.isOpen) {\n
                    this.hide();\n
                }\n
            });\n
        }\n
\n
        show() {\n
            if (this.isOpen) return;\n
\n
            this.isOpen = true;\n
            this.picker.style.display = 'block';\n
\n
            if (!this.options.inline) {\n
                this.position();\n
            }\n
\n
            this.dispatchEvent('open');\n
        }\n
\n
        hide() {\n
            if (!this.isOpen || this.options.inline) return;\n
\n
            this.isOpen = false;\n
            this.picker.style.display = 'none';\n
            this.dispatchEvent('close');\n
        }\n
\n
        toggle() {\n
            if (this.isOpen) {\n
                this.hide();\n
            } else {\n
                this.show();\n
            }\n
        }\n
\n
        position() {\n
            const rect = this.input.getBoundingClientRect();\n
            const pickerRect = this.picker.getBoundingClientRect();\n
\n
            let top, left;\n
\n
            if (this.options.position.includes('bottom')) {\n
                top = rect.bottom + window.scrollY + 4;\n
            } else {\n
                top = rect.top + window.scrollY - pickerRect.height - 4;\n
            }\n
\n
            if (this.options.position.includes('right')) {\n
                left = rect.right + window.scrollX - pickerRect.width;\n
            } else {\n
                left = rect.left + window.scrollX;\n
            }\n
\n
            this.picker.style.top = top + 'px';\n
            this.picker.style.left = left + 'px';\n
        }\n
\n
        updateInput() {\n
            const timeStr = this.formatTime();\n
            this.input.value = timeStr;\n
\n
            this.dispatchEvent('change', {\n
                hour: this.selectedHour,\n
                minute: this.selectedMinute,\n
                second: this.selectedSecond,\n
                period: this.period,\n
                value: timeStr\n
            });\n
\n
            // Trigger native change event\n
            const event = new Event('change', { bubbles: true });\n
            this.input.dispatchEvent(event);\n
        }\n
\n
        formatTime() {\n
            let hour = this.selectedHour;\n
            const minute = String(this.selectedMinute).padStart(2, '0');\n
            const second = String(this.selectedSecond).padStart(2, '0');\n
\n
            if (this.options.format === '12') {\n
                const displayHour = hour === 0 ? 12 : hour;\n
                let timeStr = String(displayHour).padStart(2, '0') + ':' + minute;\n
                if (this.options.showSeconds) {\n
                    timeStr += ':' + second;\n
                }\n
                timeStr += ' ' + this.period;\n
                return timeStr;\n
            } else {\n
                let timeStr = String(hour).padStart(2, '0') + ':' + minute;\n
                if (this.options.showSeconds) {\n
                    timeStr += ':' + second;\n
                }\n
                return timeStr;\n
            }\n
        }\n
\n
        parseTime(timeStr) {\n
            if (!timeStr) return;\n
\n
            // Parse 24-hour format (HH:MM or HH:MM:SS)\n
            let parts = timeStr.trim().split(':');\n
\n
            // Check for AM/PM\n
            const lastPart = parts[parts.length - 1];\n
            if (lastPart.includes('AM') || lastPart.includes('PM')) {\n
                this.period = lastPart.includes('AM') ? 'AM' : 'PM';\n
                parts[parts.length - 1] = lastPart.replace(/\s*(AM|PM)/, '');\n
            }\n
\n
            if (parts.length >= 2) {\n
                this.selectedHour = parseInt(parts[0]);\n
                this.selectedMinute = parseInt(parts[1]);\n
                if (parts.length >= 3) {\n
                    this.selectedSecond = parseInt(parts[2]);\n
                }\n
            }\n
        }\n
\n
        setNow() {\n
            const now = new Date();\n
            this.selectedHour = now.getHours();\n
            this.selectedMinute = now.getMinutes();\n
            this.selectedSecond = now.getSeconds();\n
\n
            if (this.options.format === '12') {\n
                this.period = this.selectedHour >= 12 ? 'PM' : 'AM';\n
                this.selectedHour = this.selectedHour % 12 || 12;\n
            }\n
\n
            this.renderPicker();\n
            this.updateInput();\n
        }\n
\n
        clear() {\n
            this.selectedHour = 0;\n
            this.selectedMinute = 0;\n
            this.selectedSecond = 0;\n
            this.period = 'AM';\n
            this.input.value = '';\n
            this.renderPicker();\n
            this.dispatchEvent('clear');\n
\n
            const event = new Event('change', { bubbles: true });\n
            this.input.dispatchEvent(event);\n
        }\n
\n
        dispatchEvent(eventName, detail = {}) {\n
            const event = new CustomEvent('timepicker:' + eventName, {\n
                detail: detail,\n
                bubbles: true\n
            });\n
            this.input.dispatchEvent(event);\n
        }\n
\n
        destroy() {\n
            this.picker.remove();\n
        }\n
    }\n
\n
    // Initialize TimePicker\n
    const picker = new TimePicker(input, config);\n
\n
    // Store instance globally for API access\n
    window.TimePicker_time-input = picker;\n
\n
    // Add default styles if not already added\n
    if (!document.getElementById('timepicker-styles')) {\n
        const style = document.createElement('style');\n
        style.id = 'timepicker-styles';\n
        style.textContent = `\n
            .timepicker-popup {\n
                background: #fff;\n
                border: 1px solid #ddd;\n
                border-radius: 4px;\n
                box-shadow: 0 2px 8px rgba(0,0,0,0.15);\n
                padding: 12px;\n
                font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;\n
            }\n
            .timepicker-selectors {\n
                display: flex;\n
                gap: 8px;\n
            }\n
            .timepicker-column {\n
                display: flex;\n
                flex-direction: column;\n
            }\n
            .timepicker-label {\n
                text-align: center;\n
                font-size: 12px;\n
                font-weight: 600;\n
                margin-bottom: 8px;\n
                color: #666;\n
            }\n
            .timepicker-scroll {\n
                max-height: 200px;\n
                overflow-y: auto;\n
                border: 1px solid #ddd;\n
                border-radius: 4px;\n
                min-width: 60px;\n
            }\n
            .timepicker-scroll::-webkit-scrollbar {\n
                width: 6px;\n
            }\n
            .timepicker-scroll::-webkit-scrollbar-thumb {\n
                background: #ccc;\n
                border-radius: 3px;\n
            }\n
            .timepicker-item {\n
                padding: 8px 12px;\n
                text-align: center;\n
                cursor: pointer;\n
                font-size: 14px;\n
                transition: background 0.2s;\n
            }\n
            .timepicker-item:hover {\n
                background: #f0f0f0;\n
            }\n
            .timepicker-item.selected {\n
                background: #0d6efd;\n
                color: #fff;\n
                font-weight: 600;\n
            }\n
            .timepicker-footer {\n
                display: flex;\n
                justify-content: space-between;\n
                margin-top: 12px;\n
                padding-top: 12px;\n
                border-top: 1px solid #eee;\n
            }\n
            .timepicker-now,\n
            .timepicker-clear {\n
                background: none;\n
                border: 1px solid #ddd;\n
                padding: 6px 12px;\n
                border-radius: 4px;\n
                font-size: 12px;\n
                cursor: pointer;\n
            }\n
            .timepicker-now:hover,\n
            .timepicker-clear:hover {\n
                background: #f0f0f0;\n
            }\n
        `;\n
        document.head.appendChild(style);\n
    }\n
})();\n
</script>' [ASCII](length: 15043) contains ".rtl" [ASCII](length: 4).

/home/user/SpiderForm/tests/Unit/Builder/TimePickerManagerTest.php:190

26) SpiderForm\Tests\Unit\Builder\TimePickerManagerTest::it_includes_css_styles_in_script
Failed asserting that '<script>\n
(function() {\n
    'use strict';\n
\n
    const config = {"format":"24","locale":{"hours":"Hours","minutes":"Minutes","seconds":"Seconds","am":"AM","pm":"PM","now":"Now","clear":"Clear","close":"Close"},"showSeconds":false,"minTime":null,"maxTime":null,"step":1,"inline":false,"position":"bottom-left","rtl":false};\n
    const input = document.getElementById('time-input');\n
\n
    if (!input) {\n
        console.error('TimePicker: Input element not found:', 'time-input');\n
        return;\n
    }\n
\n
    // Create TimePicker class\n
    class TimePicker {\n
        constructor(inputElement, options) {\n
            this.input = inputElement;\n
            this.options = options;\n
            this.selectedHour = 0;\n
            this.selectedMinute = 0;\n
            this.selectedSecond = 0;\n
            this.period = 'AM'; // AM/PM for 12-hour format\n
            this.isOpen = false;\n
            this.picker = null;\n
\n
            this.init();\n
        }\n
\n
        init() {\n
            this.input.setAttribute('autocomplete', 'off');\n
\n
            // Create picker element\n
            this.createPicker();\n
\n
            // Bind events\n
            this.bindEvents();\n
\n
            // Parse initial value\n
            if (this.input.value) {\n
                this.parseTime(this.input.value);\n
            }\n
\n
            // Inline mode\n
            if (this.options.inline) {\n
                this.show();\n
            }\n
        }\n
\n
        createPicker() {\n
            this.picker = document.createElement('div');\n
            this.picker.className = 'timepicker-popup';\n
            this.picker.style.display = 'none';\n
\n
            if (this.options.inline) {\n
                this.input.parentNode.insertBefore(this.picker, this.input.nextSibling);\n
            } else {\n
                document.body.appendChild(this.picker);\n
                this.picker.style.position = 'absolute';\n
                this.picker.style.zIndex = '9999';\n
            }\n
\n
            this.renderPicker();\n
        }\n
\n
        renderPicker() {\n
            let html = '<div class="timepicker-selectors">';\n
\n
            // Hours\n
            html += '<div class="timepicker-column">';\n
            html += '<div class="timepicker-label">' + this.options.locale.hours + '</div>';\n
            html += '<div class="timepicker-scroll" data-type="hours">';\n
            const maxHour = this.options.format === '12' ? 12 : 23;\n
            const startHour = this.options.format === '12' ? 1 : 0;\n
            for (let i = startHour; i <= maxHour; i++) {\n
                const hour = String(i).padStart(2, '0');\n
                const selected = (this.options.format === '12' ? i : i) === this.selectedHour ? 'selected' : '';\n
                html += '<div class="timepicker-item ' + selected + '" data-value="' + i + '">' + hour + '</div>';\n
            }\n
            html += '</div></div>';\n
\n
            // Minutes\n
            html += '<div class="timepicker-column">';\n
            html += '<div class="timepicker-label">' + this.options.locale.minutes + '</div>';\n
            html += '<div class="timepicker-scroll" data-type="minutes">';\n
            for (let i = 0; i < 60; i += this.options.step) {\n
                const minute = String(i).padStart(2, '0');\n
                const selected = i === this.selectedMinute ? 'selected' : '';\n
                html += '<div class="timepicker-item ' + selected + '" data-value="' + i + '">' + minute + '</div>';\n
            }\n
            html += '</div></div>';\n
\n
            // Seconds (optional)\n
            if (this.options.showSeconds) {\n
                html += '<div class="timepicker-column">';\n
                html += '<div class="timepicker-label">' + this.options.locale.seconds + '</div>';\n
                html += '<div class="timepicker-scroll" data-type="seconds">';\n
                for (let i = 0; i < 60; i += this.options.step) {\n
                    const second = String(i).padStart(2, '0');\n
                    const selected = i === this.selectedSecond ? 'selected' : '';\n
                    html += '<div class="timepicker-item ' + selected + '" data-value="' + i + '">' + second + '</div>';\n
                }\n
                html += '</div></div>';\n
            }\n
\n
            // AM/PM (for 12-hour format)\n
            if (this.options.format === '12') {\n
                html += '<div class="timepicker-column">';\n
                html += '<div class="timepicker-label">&nbsp;</div>';\n
                html += '<div class="timepicker-scroll" data-type="period">';\n
                html += '<div class="timepicker-item ' + (this.period === 'AM' ? 'selected' : '') + '" data-value="AM">' + this.options.locale.am + '</div>';\n
                html += '<div class="timepicker-item ' + (this.period === 'PM' ? 'selected' : '') + '" data-value="PM">' + this.options.locale.pm + '</div>';\n
                html += '</div></div>';\n
            }\n
\n
            html += '</div>';\n
\n
            // Footer\n
            html += '<div class="timepicker-footer">';\n
            html += '<button type="button" class="timepicker-now">' + this.options.locale.now + '</button>';\n
            html += '<button type="button" class="timepicker-clear">' + this.options.locale.clear + '</button>';\n
            html += '</div>';\n
\n
            this.picker.innerHTML = html;\n
        }\n
\n
        bindEvents() {\n
            // Input click\n
            this.input.addEventListener('click', (e) => {\n
                if (!this.options.inline) {\n
                    this.toggle();\n
                }\n
            });\n
\n
            // Picker click delegation\n
            this.picker.addEventListener('click', (e) => {\n
                const target = e.target;\n
\n
                if (target.classList.contains('timepicker-item')) {\n
                    const scroll = target.parentElement;\n
                    const type = scroll.dataset.type;\n
                    const value = target.dataset.value;\n
\n
                    // Remove previous selection\n
                    scroll.querySelectorAll('.timepicker-item').forEach(item => {\n
                        item.classList.remove('selected');\n
                    });\n
                    target.classList.add('selected');\n
\n
                    // Update selected values\n
                    if (type === 'hours') {\n
                        this.selectedHour = parseInt(value);\n
                    } else if (type === 'minutes') {\n
                        this.selectedMinute = parseInt(value);\n
                    } else if (type === 'seconds') {\n
                        this.selectedSecond = parseInt(value);\n
                    } else if (type === 'period') {\n
                        this.period = value;\n
                    }\n
\n
                    this.updateInput();\n
                } else if (target.classList.contains('timepicker-now')) {\n
                    this.setNow();\n
                } else if (target.classList.contains('timepicker-clear')) {\n
                    this.clear();\n
                }\n
            });\n
\n
            // Close on outside click\n
            if (!this.options.inline) {\n
                document.addEventListener('click', (e) => {\n
                    if (this.isOpen && !this.picker.contains(e.target) && e.target !== this.input) {\n
                        this.hide();\n
                    }\n
                });\n
            }\n
\n
            // Keyboard navigation\n
            this.input.addEventListener('keydown', (e) => {\n
                if (e.key === 'Escape' && this.isOpen) {\n
                    this.hide();\n
                }\n
            });\n
        }\n
\n
        show() {\n
            if (this.isOpen) return;\n
\n
            this.isOpen = true;\n
            this.picker.style.display = 'block';\n
\n
            if (!this.options.inline) {\n
                this.position();\n
            }\n
\n
            this.dispatchEvent('open');\n
        }\n
\n
        hide() {\n
            if (!this.isOpen || this.options.inline) return;\n
\n
            this.isOpen = false;\n
            this.picker.style.display = 'none';\n
            this.dispatchEvent('close');\n
        }\n
\n
        toggle() {\n
            if (this.isOpen) {\n
                this.hide();\n
            } else {\n
                this.show();\n
            }\n
        }\n
\n
        position() {\n
            const rect = this.input.getBoundingClientRect();\n
            const pickerRect = this.picker.getBoundingClientRect();\n
\n
            let top, left;\n
\n
            if (this.options.position.includes('bottom')) {\n
                top = rect.bottom + window.scrollY + 4;\n
            } else {\n
                top = rect.top + window.scrollY - pickerRect.height - 4;\n
            }\n
\n
            if (this.options.position.includes('right')) {\n
                left = rect.right + window.scrollX - pickerRect.width;\n
            } else {\n
                left = rect.left + window.scrollX;\n
            }\n
\n
            this.picker.style.top = top + 'px';\n
            this.picker.style.left = left + 'px';\n
        }\n
\n
        updateInput() {\n
            const timeStr = this.formatTime();\n
            this.input.value = timeStr;\n
\n
            this.dispatchEvent('change', {\n
                hour: this.selectedHour,\n
                minute: this.selectedMinute,\n
                second: this.selectedSecond,\n
                period: this.period,\n
                value: timeStr\n
            });\n
\n
            // Trigger native change event\n
            const event = new Event('change', { bubbles: true });\n
            this.input.dispatchEvent(event);\n
        }\n
\n
        formatTime() {\n
            let hour = this.selectedHour;\n
            const minute = String(this.selectedMinute).padStart(2, '0');\n
            const second = String(this.selectedSecond).padStart(2, '0');\n
\n
            if (this.options.format === '12') {\n
                const displayHour = hour === 0 ? 12 : hour;\n
                let timeStr = String(displayHour).padStart(2, '0') + ':' + minute;\n
                if (this.options.showSeconds) {\n
                    timeStr += ':' + second;\n
                }\n
                timeStr += ' ' + this.period;\n
                return timeStr;\n
            } else {\n
                let timeStr = String(hour).padStart(2, '0') + ':' + minute;\n
                if (this.options.showSeconds) {\n
                    timeStr += ':' + second;\n
                }\n
                return timeStr;\n
            }\n
        }\n
\n
        parseTime(timeStr) {\n
            if (!timeStr) return;\n
\n
            // Parse 24-hour format (HH:MM or HH:MM:SS)\n
            let parts = timeStr.trim().split(':');\n
\n
            // Check for AM/PM\n
            const lastPart = parts[parts.length - 1];\n
            if (lastPart.includes('AM') || lastPart.includes('PM')) {\n
                this.period = lastPart.includes('AM') ? 'AM' : 'PM';\n
                parts[parts.length - 1] = lastPart.replace(/\s*(AM|PM)/, '');\n
            }\n
\n
            if (parts.length >= 2) {\n
                this.selectedHour = parseInt(parts[0]);\n
                this.selectedMinute = parseInt(parts[1]);\n
                if (parts.length >= 3) {\n
                    this.selectedSecond = parseInt(parts[2]);\n
                }\n
            }\n
        }\n
\n
        setNow() {\n
            const now = new Date();\n
            this.selectedHour = now.getHours();\n
            this.selectedMinute = now.getMinutes();\n
            this.selectedSecond = now.getSeconds();\n
\n
            if (this.options.format === '12') {\n
                this.period = this.selectedHour >= 12 ? 'PM' : 'AM';\n
                this.selectedHour = this.selectedHour % 12 || 12;\n
            }\n
\n
            this.renderPicker();\n
            this.updateInput();\n
        }\n
\n
        clear() {\n
            this.selectedHour = 0;\n
            this.selectedMinute = 0;\n
            this.selectedSecond = 0;\n
            this.period = 'AM';\n
            this.input.value = '';\n
            this.renderPicker();\n
            this.dispatchEvent('clear');\n
\n
            const event = new Event('change', { bubbles: true });\n
            this.input.dispatchEvent(event);\n
        }\n
\n
        dispatchEvent(eventName, detail = {}) {\n
            const event = new CustomEvent('timepicker:' + eventName, {\n
                detail: detail,\n
                bubbles: true\n
            });\n
            this.input.dispatchEvent(event);\n
        }\n
\n
        destroy() {\n
            this.picker.remove();\n
        }\n
    }\n
\n
    // Initialize TimePicker\n
    const picker = new TimePicker(input, config);\n
\n
    // Store instance globally for API access\n
    window.TimePicker_time-input = picker;\n
\n
    // Add default styles if not already added\n
    if (!document.getElementById('timepicker-styles')) {\n
        const style = document.createElement('style');\n
        style.id = 'timepicker-styles';\n
        style.textContent = `\n
            .timepicker-popup {\n
                background: #fff;\n
                border: 1px solid #ddd;\n
                border-radius: 4px;\n
                box-shadow: 0 2px 8px rgba(0,0,0,0.15);\n
                padding: 12px;\n
                font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;\n
            }\n
            .timepicker-selectors {\n
                display: flex;\n
                gap: 8px;\n
            }\n
            .timepicker-column {\n
                display: flex;\n
                flex-direction: column;\n
            }\n
            .timepicker-label {\n
                text-align: center;\n
                font-size: 12px;\n
                font-weight: 600;\n
                margin-bottom: 8px;\n
                color: #666;\n
            }\n
            .timepicker-scroll {\n
                max-height: 200px;\n
                overflow-y: auto;\n
                border: 1px solid #ddd;\n
                border-radius: 4px;\n
                min-width: 60px;\n
            }\n
            .timepicker-scroll::-webkit-scrollbar {\n
                width: 6px;\n
            }\n
            .timepicker-scroll::-webkit-scrollbar-thumb {\n
                background: #ccc;\n
                border-radius: 3px;\n
            }\n
            .timepicker-item {\n
                padding: 8px 12px;\n
                text-align: center;\n
                cursor: pointer;\n
                font-size: 14px;\n
                transition: background 0.2s;\n
            }\n
            .timepicker-item:hover {\n
                background: #f0f0f0;\n
            }\n
            .timepicker-item.selected {\n
                background: #0d6efd;\n
                color: #fff;\n
                font-weight: 600;\n
            }\n
            .timepicker-footer {\n
                display: flex;\n
                justify-content: space-between;\n
                margin-top: 12px;\n
                padding-top: 12px;\n
                border-top: 1px solid #eee;\n
            }\n
            .timepicker-now,\n
            .timepicker-clear {\n
                background: none;\n
                border: 1px solid #ddd;\n
                padding: 6px 12px;\n
                border-radius: 4px;\n
                font-size: 12px;\n
                cursor: pointer;\n
            }\n
            .timepicker-now:hover,\n
            .timepicker-clear:hover {\n
                background: #f0f0f0;\n
            }\n
        `;\n
        document.head.appendChild(style);\n
    }\n
})();\n
</script>' [ASCII](length: 15044) contains "<style>" [ASCII](length: 7).

/home/user/SpiderForm/tests/Unit/Builder/TimePickerManagerTest.php:178

27) SpiderForm\Tests\Unit\Validation\ValidationEdgeCasesTest::testNullValuesWithoutRequired
Failed asserting that false is true.

/home/user/SpiderForm/tests/Unit/Validation/ValidationEdgeCasesTest.php:31

28) SpiderForm\Tests\Unit\Validation\ValidationEdgeCasesTest::testDateEdgeCases
Failed for format: 15/01/2024
Failed asserting that false is true.

/home/user/SpiderForm/tests/Unit/Validation/ValidationEdgeCasesTest.php:171

29) SpiderForm\Tests\Unit\Validation\ValidationEdgeCasesTest::testInAndNotInWithMixedTypes
Failed asserting that false is true.

/home/user/SpiderForm/tests/Unit/Validation/ValidationEdgeCasesTest.php:249

30) SpiderForm\Tests\Unit\Validation\ValidationEdgeCasesTest::testMultipleFieldsWithComplexRules
Failed asserting that false is true.

/home/user/SpiderForm/tests/Unit/Validation/ValidationEdgeCasesTest.php:359

31) SpiderForm\Tests\Integration\ValidationIntegrationTest::testFormBuilderValidationFailsWithInvalidData
Failed asserting that exception of type "RuntimeException" matches expected exception "SpiderForm\V2\Validation\ValidationException". Message was: "Renderer not set. Use setRenderer() before building." at
/home/user/SpiderForm/src/V2/Builder/FormBuilder.php:1334
/home/user/SpiderForm/src/V2/Builder/FormBuilder.php:1322
/home/user/SpiderForm/tests/Integration/ValidationIntegrationTest.php:50
.

--

There were 67 risky tests:

1) Tests\InputTypesTests\ScopeAdd\ButtonGroupTest::test
This test does not define a code coverage target but is expected to do so

/home/user/SpiderForm/tests/InputTypesTests/ScopeAdd/ButtonGroupTest.php:16

2) Tests\InputTypesTests\ScopeAdd\ButtonTest::test
This test does not define a code coverage target but is expected to do so

/home/user/SpiderForm/tests/InputTypesTests/ScopeAdd/ButtonTest.php:16

3) Tests\InputTypesTests\ScopeAdd\CheckboxTest::testRows
This test does not define a code coverage target but is expected to do so

/home/user/SpiderForm/tests/InputTypesTests/ScopeAdd/CheckboxTest.php:55

4) Tests\InputTypesTests\ScopeAdd\CheckboxTest::testKeyValueArray
This test does not define a code coverage target but is expected to do so

/home/user/SpiderForm/tests/InputTypesTests/ScopeAdd/CheckboxTest.php:17

5) Tests\InputTypesTests\ScopeAdd\FileTest::test
This test does not define a code coverage target but is expected to do so

/home/user/SpiderForm/tests/InputTypesTests/ScopeAdd/FileTest.php:16

6) Tests\InputTypesTests\ScopeAdd\FormSectionTest::test
This test does not define a code coverage target but is expected to do so

/home/user/SpiderForm/tests/InputTypesTests/ScopeAdd/FormSectionTest.php:16

7) Tests\InputTypesTests\ScopeAdd\HiddenTest::test
This test does not define a code coverage target but is expected to do so

/home/user/SpiderForm/tests/InputTypesTests/ScopeAdd/HiddenTest.php:16

8) Tests\InputTypesTests\ScopeAdd\ImageTest::test
This test does not define a code coverage target but is expected to do so

/home/user/SpiderForm/tests/InputTypesTests/ScopeAdd/ImageTest.php:16

9) Tests\InputTypesTests\ScopeAdd\OtherInputTypes\ColorTest::test
This test does not define a code coverage target but is expected to do so

/home/user/SpiderForm/tests/InputTypesTests/ScopeAdd/OtherInputTypes/ColorTest.php:16

10) Tests\InputTypesTests\ScopeAdd\OtherInputTypes\DateTest::test
This test does not define a code coverage target but is expected to do so

/home/user/SpiderForm/tests/InputTypesTests/ScopeAdd/OtherInputTypes/DateTest.php:16

11) Tests\InputTypesTests\ScopeAdd\OtherInputTypes\DatetimeLocalTest::test
This test does not define a code coverage target but is expected to do so

/home/user/SpiderForm/tests/InputTypesTests/ScopeAdd/OtherInputTypes/DatetimeLocalTest.php:16

12) Tests\InputTypesTests\ScopeAdd\OtherInputTypes\EmailTest::test
This test does not define a code coverage target but is expected to do so

/home/user/SpiderForm/tests/InputTypesTests/ScopeAdd/OtherInputTypes/EmailTest.php:16

13) Tests\InputTypesTests\ScopeAdd\OtherInputTypes\MonthTest::test
This test does not define a code coverage target but is expected to do so

/home/user/SpiderForm/tests/InputTypesTests/ScopeAdd/OtherInputTypes/MonthTest.php:16

14) Tests\InputTypesTests\ScopeAdd\OtherInputTypes\NumberTest::test
This test does not define a code coverage target but is expected to do so

/home/user/SpiderForm/tests/InputTypesTests/ScopeAdd/OtherInputTypes/NumberTest.php:16

15) Tests\InputTypesTests\ScopeAdd\OtherInputTypes\RangeTest::test
This test does not define a code coverage target but is expected to do so

/home/user/SpiderForm/tests/InputTypesTests/ScopeAdd/OtherInputTypes/RangeTest.php:16

16) Tests\InputTypesTests\ScopeAdd\OtherInputTypes\SearchTest::test
This test does not define a code coverage target but is expected to do so

/home/user/SpiderForm/tests/InputTypesTests/ScopeAdd/OtherInputTypes/SearchTest.php:16

17) Tests\InputTypesTests\ScopeAdd\OtherInputTypes\TelTest::test
This test does not define a code coverage target but is expected to do so

/home/user/SpiderForm/tests/InputTypesTests/ScopeAdd/OtherInputTypes/TelTest.php:16

18) Tests\InputTypesTests\ScopeAdd\OtherInputTypes\TimeTest::test
This test does not define a code coverage target but is expected to do so

/home/user/SpiderForm/tests/InputTypesTests/ScopeAdd/OtherInputTypes/TimeTest.php:16

19) Tests\InputTypesTests\ScopeAdd\OtherInputTypes\UrlTest::test
This test does not define a code coverage target but is expected to do so

/home/user/SpiderForm/tests/InputTypesTests/ScopeAdd/OtherInputTypes/UrlTest.php:16

20) Tests\InputTypesTests\ScopeAdd\OtherInputTypes\WeekTest::test
This test does not define a code coverage target but is expected to do so

/home/user/SpiderForm/tests/InputTypesTests/ScopeAdd/OtherInputTypes/WeekTest.php:16

21) Tests\InputTypesTests\ScopeAdd\OutputTest::test
This test does not define a code coverage target but is expected to do so

/home/user/SpiderForm/tests/InputTypesTests/ScopeAdd/OutputTest.php:16

22) Tests\InputTypesTests\ScopeAdd\PasswordTest::test
This test does not define a code coverage target but is expected to do so

/home/user/SpiderForm/tests/InputTypesTests/ScopeAdd/PasswordTest.php:16

23) Tests\InputTypesTests\ScopeAdd\RadioTest::testRows
This test does not define a code coverage target but is expected to do so

/home/user/SpiderForm/tests/InputTypesTests/ScopeAdd/RadioTest.php:55

24) Tests\InputTypesTests\ScopeAdd\RadioTest::testKeyValueArray
This test does not define a code coverage target but is expected to do so

/home/user/SpiderForm/tests/InputTypesTests/ScopeAdd/RadioTest.php:17

25) Tests\InputTypesTests\ScopeAdd\SelectTest::testRows
This test does not define a code coverage target but is expected to do so

/home/user/SpiderForm/tests/InputTypesTests/ScopeAdd/SelectTest.php:55

26) Tests\InputTypesTests\ScopeAdd\SelectTest::testKeyValueArray
This test does not define a code coverage target but is expected to do so

/home/user/SpiderForm/tests/InputTypesTests/ScopeAdd/SelectTest.php:17

27) Tests\InputTypesTests\ScopeAdd\StaticTextTest::test
This test does not define a code coverage target but is expected to do so

/home/user/SpiderForm/tests/InputTypesTests/ScopeAdd/StaticTextTest.php:16

28) Tests\InputTypesTests\ScopeAdd\TextareaTest::test
This test does not define a code coverage target but is expected to do so

/home/user/SpiderForm/tests/InputTypesTests/ScopeAdd/TextareaTest.php:16

29) Tests\InputTypesTests\ScopeEdit\ButtonGroupTest::test
This test does not define a code coverage target but is expected to do so

/home/user/SpiderForm/tests/InputTypesTests/ScopeEdit/ButtonGroupTest.php:17

30) Tests\InputTypesTests\ScopeEdit\ButtonTest::test
This test does not define a code coverage target but is expected to do so

/home/user/SpiderForm/tests/InputTypesTests/ScopeEdit/ButtonTest.php:17

31) Tests\InputTypesTests\ScopeEdit\CheckboxTest::testKeyValueArray
This test does not define a code coverage target but is expected to do so

/home/user/SpiderForm/tests/InputTypesTests/ScopeEdit/CheckboxTest.php:18

32) Tests\InputTypesTests\ScopeEdit\CheckboxTest::testRows
This test does not define a code coverage target but is expected to do so

/home/user/SpiderForm/tests/InputTypesTests/ScopeEdit/CheckboxTest.php:58

33) Tests\InputTypesTests\ScopeEdit\FileTest::test
This test does not define a code coverage target but is expected to do so

/home/user/SpiderForm/tests/InputTypesTests/ScopeEdit/FileTest.php:17

34) Tests\InputTypesTests\ScopeEdit\FormSectionTest::test
This test does not define a code coverage target but is expected to do so

/home/user/SpiderForm/tests/InputTypesTests/ScopeEdit/FormSectionTest.php:17

35) Tests\InputTypesTests\ScopeEdit\HiddenTest::test
This test does not define a code coverage target but is expected to do so

/home/user/SpiderForm/tests/InputTypesTests/ScopeEdit/HiddenTest.php:17

36) Tests\InputTypesTests\ScopeEdit\ImageTest::test
This test does not define a code coverage target but is expected to do so

/home/user/SpiderForm/tests/InputTypesTests/ScopeEdit/ImageTest.php:17

37) Tests\InputTypesTests\ScopeEdit\OtherInputTypes\ColorTest::test
This test does not define a code coverage target but is expected to do so

/home/user/SpiderForm/tests/InputTypesTests/ScopeEdit/OtherInputTypes/ColorTest.php:17

38) Tests\InputTypesTests\ScopeEdit\OtherInputTypes\DateTest::test
This test does not define a code coverage target but is expected to do so

/home/user/SpiderForm/tests/InputTypesTests/ScopeEdit/OtherInputTypes/DateTest.php:17

39) Tests\InputTypesTests\ScopeEdit\OtherInputTypes\DatetimeLocalTest::test
This test does not define a code coverage target but is expected to do so

/home/user/SpiderForm/tests/InputTypesTests/ScopeEdit/OtherInputTypes/DatetimeLocalTest.php:17

40) Tests\InputTypesTests\ScopeEdit\OtherInputTypes\EmailTest::test
This test does not define a code coverage target but is expected to do so

/home/user/SpiderForm/tests/InputTypesTests/ScopeEdit/OtherInputTypes/EmailTest.php:17

41) Tests\InputTypesTests\ScopeEdit\OtherInputTypes\MonthTest::test
This test does not define a code coverage target but is expected to do so

/home/user/SpiderForm/tests/InputTypesTests/ScopeEdit/OtherInputTypes/MonthTest.php:17

42) Tests\InputTypesTests\ScopeEdit\OtherInputTypes\NumberTest::test
This test does not define a code coverage target but is expected to do so

/home/user/SpiderForm/tests/InputTypesTests/ScopeEdit/OtherInputTypes/NumberTest.php:17

43) Tests\InputTypesTests\ScopeEdit\OtherInputTypes\RangeTest::test
This test does not define a code coverage target but is expected to do so

/home/user/SpiderForm/tests/InputTypesTests/ScopeEdit/OtherInputTypes/RangeTest.php:17

44) Tests\InputTypesTests\ScopeEdit\OtherInputTypes\SearchTest::test
This test does not define a code coverage target but is expected to do so

/home/user/SpiderForm/tests/InputTypesTests/ScopeEdit/OtherInputTypes/SearchTest.php:17

45) Tests\InputTypesTests\ScopeEdit\OtherInputTypes\TelTest::test
This test does not define a code coverage target but is expected to do so

/home/user/SpiderForm/tests/InputTypesTests/ScopeEdit/OtherInputTypes/TelTest.php:17

46) Tests\InputTypesTests\ScopeEdit\OtherInputTypes\TimeTest::test
This test does not define a code coverage target but is expected to do so

/home/user/SpiderForm/tests/InputTypesTests/ScopeEdit/OtherInputTypes/TimeTest.php:17

47) Tests\InputTypesTests\ScopeEdit\OtherInputTypes\UrlTest::test
This test does not define a code coverage target but is expected to do so

/home/user/SpiderForm/tests/InputTypesTests/ScopeEdit/OtherInputTypes/UrlTest.php:17

48) Tests\InputTypesTests\ScopeEdit\OtherInputTypes\WeekTest::test
This test does not define a code coverage target but is expected to do so

/home/user/SpiderForm/tests/InputTypesTests/ScopeEdit/OtherInputTypes/WeekTest.php:17

49) Tests\InputTypesTests\ScopeEdit\OutputTest::test
This test does not define a code coverage target but is expected to do so

/home/user/SpiderForm/tests/InputTypesTests/ScopeEdit/OutputTest.php:17

50) Tests\InputTypesTests\ScopeEdit\PasswordTest::test
This test does not define a code coverage target but is expected to do so

/home/user/SpiderForm/tests/InputTypesTests/ScopeEdit/PasswordTest.php:17

51) Tests\InputTypesTests\ScopeEdit\RadioTest::testKeyValueArray
This test does not define a code coverage target but is expected to do so

/home/user/SpiderForm/tests/InputTypesTests/ScopeEdit/RadioTest.php:18

52) Tests\InputTypesTests\ScopeEdit\RadioTest::testRows
This test does not define a code coverage target but is expected to do so

/home/user/SpiderForm/tests/InputTypesTests/ScopeEdit/RadioTest.php:59

53) Tests\InputTypesTests\ScopeEdit\SelectTest::testKeyValueArray
This test does not define a code coverage target but is expected to do so

/home/user/SpiderForm/tests/InputTypesTests/ScopeEdit/SelectTest.php:18

54) Tests\InputTypesTests\ScopeEdit\SelectTest::testRows
This test does not define a code coverage target but is expected to do so

/home/user/SpiderForm/tests/InputTypesTests/ScopeEdit/SelectTest.php:59

55) Tests\InputTypesTests\ScopeEdit\StaticTextTest::test
This test does not define a code coverage target but is expected to do so

/home/user/SpiderForm/tests/InputTypesTests/ScopeEdit/StaticTextTest.php:17

56) Tests\InputTypesTests\ScopeEdit\TextareaTest::test
This test does not define a code coverage target but is expected to do so

/home/user/SpiderForm/tests/InputTypesTests/ScopeEdit/TextareaTest.php:17

57) SpiderForm\Tests\Unit\Builder\InfiniteLoopDebugTest::it_should_reproduce_user_example_form
Test code or tested code printed unexpected output: 
=== Testing exact user's example form structure ===
Adding section 'Optik Form Bilgileri'...
Adding 'name' field...
Adding 'photo' field...
Adding 'type' radio field...
Adding 'company_id_not_auto_selected' hidden field...
Adding submit button...
Building form object...
✓ Form built successfully in 0.0039 seconds

/home/user/SpiderForm/tests/Unit/Builder/InfiniteLoopDebugTest.php:140

58) SpiderForm\Tests\Unit\Builder\InfiniteLoopDebugTest::it_should_detect_circular_reference_in_sections
Test code or tested code printed unexpected output: 
=== Testing potential circular reference detection ===
Adding Section 1...
Adding Section 2...
Adding Section 3...
Ending all sections...
Adding submit...
Building form...
✓ Form with multiple sections built in 0.0000 seconds

/home/user/SpiderForm/tests/Unit/Builder/InfiniteLoopDebugTest.php:262

59) SpiderForm\Tests\Unit\Builder\InfiniteLoopDebugTest::it_should_build_form_with_section_without_infinite_loop
Test code or tested code printed unexpected output: 
=== Testing form WITH section (like user's example) ===
Adding section...
Adding text field...
Adding radio field...
Adding hidden field...
Adding submit button...
Building form object...
✓ Form built successfully in 0.0000 seconds

/home/user/SpiderForm/tests/Unit/Builder/InfiniteLoopDebugTest.php:85

60) SpiderForm\Tests\Unit\Builder\InfiniteLoopDebugTest::it_should_build_simple_form_without_infinite_loop
Test code or tested code printed unexpected output: 
=== Testing simple form (no sections) ===
Building form object...
✓ Form built successfully without infinite loop

/home/user/SpiderForm/tests/Unit/Builder/InfiniteLoopDebugTest.php:54

61) SpiderForm\Tests\Unit\Builder\InfiniteLoopDebugTest::it_should_test_buildAsHtml_method
Test code or tested code printed unexpected output: 
=== Testing buildAsHtml() method (alternative to buildForm()) ===
Building as HTML...
✓ HTML built successfully in 0.0055 seconds
HTML length: 5030 characters

/home/user/SpiderForm/tests/Unit/Builder/InfiniteLoopDebugTest.php:214

62) SpiderForm\Tests\Unit\Builder\InfiniteLoopRenderTest::it_should_test_tostring_conversion
Test code or tested code printed unexpected output: 
=== Testing __toString() conversion (echo ) ===
Building form object...
Converting to string (this calls __toString)...
Result: Error rendering form: No renderer set for form. Call setRenderer() or pass renderer to render().
Time: 0.0000 seconds

/home/user/SpiderForm/tests/Unit/Builder/InfiniteLoopRenderTest.php:21

63) SpiderForm\Tests\Unit\Builder\InfiniteLoopRenderTest::it_should_test_nested_sections
Test code or tested code printed unexpected output: 
=== Testing deeply nested sections ===
Adding section 1...
Adding section 2...
Adding section 3...
Adding section 4...
Adding section 5...
Adding section 6...
Adding section 7...
Adding section 8...
Adding section 9...
Adding section 10...
Adding section 11...
Adding section 12...
Adding section 13...
Adding section 14...
Adding section 15...
Adding section 16...
Adding section 17...
Adding section 18...
Adding section 19...
Adding section 20...
Building form object...
Creating view...
✓ Form with 20 sections built in 0.0007 seconds

/home/user/SpiderForm/tests/Unit/Builder/InfiniteLoopRenderTest.php:94

64) SpiderForm\Tests\Unit\Builder\InfiniteLoopRenderTest::it_should_test_getData_recursion
Test code or tested code printed unexpected output: 
=== Testing getData() for recursion issues ===
Building form object...
Setting data...
Getting data (checking for recursion)...
✓ getData() completed in 0.0000 seconds
Data: {"name":"Test Name","type":"a","id":"456"}

/home/user/SpiderForm/tests/Unit/Builder/InfiniteLoopRenderTest.php:130

65) SpiderForm\Tests\Unit\Builder\InfiniteLoopRenderTest::it_should_test_submit_and_validate
Test code or tested code printed unexpected output: 
=== Testing submit() and validate() for recursion ===
Building form object...
Submitting data...
Validating...
✓ Submit and validate completed in 0.0000 seconds
Errors: []
Is valid: Yes

/home/user/SpiderForm/tests/Unit/Builder/InfiniteLoopRenderTest.php:172

66) SpiderForm\Tests\Unit\Builder\InfiniteLoopRenderTest::it_should_test_createview_recursion
Test code or tested code printed unexpected output: 
=== Testing createView() for recursion issues ===
Building form object...
Creating view (this should not loop)...
✓ View created in 0.0000 seconds

/home/user/SpiderForm/tests/Unit/Builder/InfiniteLoopRenderTest.php:57

67) SpiderForm\Tests\Unit\Builder\InfiniteLoopRenderTest::it_should_check_circular_parent_child_references
Test code or tested code printed unexpected output: 
=== Testing for circular parent-child references ===
Checking parent-child relationships...
Number of children: 1
Checking child: field1
✓ No circular references detected

/home/user/SpiderForm/tests/Unit/Builder/InfiniteLoopRenderTest.php:221

ERRORS!
Tests: 470, Assertions: 688, Errors: 87, Failures: 31, PHPUnit Warnings: 1, PHPUnit Deprecations: 2, Skipped: 29, Risky: 67.
